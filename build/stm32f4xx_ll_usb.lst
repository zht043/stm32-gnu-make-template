ARM GAS  /tmp/ccjl6mF2.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"stm32f4xx_ll_usb.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.USB_CoreInit,"ax",%progbits
  18              		.align	1
  19              		.global	USB_CoreInit
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	USB_CoreInit:
  26              	.LFB130:
  27              		.file 1 "Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c"
   1:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
   2:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ******************************************************************************
   3:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @file    stm32f4xx_ll_usb.c
   4:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @author  MCD Application Team
   5:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief   USB Low Layer HAL module driver.
   6:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
   7:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This file provides firmware functions to manage the following
   8:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          functionalities of the USB Peripheral Controller:
   9:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           + Initialization/de-initialization functions
  10:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           + I/O operation functions
  11:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           + Peripheral Control functions
  12:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           + Peripheral State functions
  13:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
  14:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   @verbatim
  15:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ==============================================================================
  16:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                     ##### How to use this driver #####
  17:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ==============================================================================
  18:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     [..]
  19:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (#) Fill parameters of Init structure in USB_OTG_CfgTypeDef structure.
  20:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  21:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (#) Call USB_CoreInit() API to initialize the USB Core peripheral.
  22:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  23:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (#) The upper HAL HCD/PCD driver will call the right routines for its internal processes.
  24:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  25:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   @endverbatim
  26:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ******************************************************************************
  27:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @attention
  28:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
  29:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * <h2><center>&copy; Copyright (c) 2016 STMicroelectronics.
  30:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * All rights reserved.</center></h2>
  31:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
ARM GAS  /tmp/ccjl6mF2.s 			page 2


  32:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * This software component is licensed by ST under BSD 3-Clause license,
  33:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * the "License"; You may not use this file except in compliance with the
  34:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * License. You may obtain a copy of the License at:
  35:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *                        opensource.org/licenses/BSD-3-Clause
  36:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
  37:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ******************************************************************************
  38:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
  39:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  40:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Includes ------------------------------------------------------------------*/
  41:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #include "stm32f4xx_hal.h"
  42:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  43:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /** @addtogroup STM32F4xx_LL_USB_DRIVER
  44:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @{
  45:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
  46:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  47:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined (HAL_PCD_MODULE_ENABLED) || defined (HAL_HCD_MODULE_ENABLED)
  48:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined (USB_OTG_FS) || defined (USB_OTG_HS)
  49:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private typedef -----------------------------------------------------------*/
  50:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private define ------------------------------------------------------------*/
  51:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private macro -------------------------------------------------------------*/
  52:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private variables ---------------------------------------------------------*/
  53:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private function prototypes -----------------------------------------------*/
  54:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private functions ---------------------------------------------------------*/
  55:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined (USB_OTG_FS) || defined (USB_OTG_HS)
  56:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** static HAL_StatusTypeDef USB_CoreReset(USB_OTG_GlobalTypeDef *USBx);
  57:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  58:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Exported functions --------------------------------------------------------*/
  59:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /** @defgroup USB_LL_Exported_Functions USB Low Layer Exported Functions
  60:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @{
  61:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
  62:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  63:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /** @defgroup USB_LL_Exported_Functions_Group1 Initialization/de-initialization functions
  64:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****  *  @brief    Initialization and Configuration functions
  65:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****  *
  66:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** @verbatim
  67:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****  ===============================================================================
  68:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                       ##### Initialization/de-initialization functions #####
  69:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****  ===============================================================================
  70:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  71:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** @endverbatim
  72:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @{
  73:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
  74:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  75:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
  76:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Initializes the USB Core
  77:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx USB Instance
  78:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  cfg pointer to a USB_OTG_CfgTypeDef structure that contains
  79:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
  80:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
  81:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
  82:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_CoreInit(USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
  83:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
  28              		.loc 1 83 0
  29              		.cfi_startproc
  30              		@ args = 56, pretend = 16, frame = 16
  31              		@ frame_needed = 1, uses_anonymous_args = 0
  32 0000 84B0     		sub	sp, sp, #16
ARM GAS  /tmp/ccjl6mF2.s 			page 3


  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 16
  35 0002 80B5     		push	{r7, lr}
  36              	.LCFI1:
  37              		.cfi_def_cfa_offset 24
  38              		.cfi_offset 7, -24
  39              		.cfi_offset 14, -20
  40 0004 84B0     		sub	sp, sp, #16
  41              	.LCFI2:
  42              		.cfi_def_cfa_offset 40
  43 0006 00AF     		add	r7, sp, #0
  44              	.LCFI3:
  45              		.cfi_def_cfa_register 7
  46 0008 7860     		str	r0, [r7, #4]
  47 000a 07F11C00 		add	r0, r7, #28
  48 000e 80E80E00 		stm	r0, {r1, r2, r3}
  84:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_StatusTypeDef ret;
  85:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  86:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.phy_itface == USB_OTG_ULPI_PHY)
  49              		.loc 1 86 0
  50 0012 3B6B     		ldr	r3, [r7, #48]
  51 0014 012B     		cmp	r3, #1
  52 0016 22D1     		bne	.L2
  87:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
  88:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG &= ~(USB_OTG_GCCFG_PWRDWN);
  53              		.loc 1 88 0
  54 0018 7B68     		ldr	r3, [r7, #4]
  55 001a 9B6B     		ldr	r3, [r3, #56]
  56 001c 23F48032 		bic	r2, r3, #65536
  57 0020 7B68     		ldr	r3, [r7, #4]
  58 0022 9A63     		str	r2, [r3, #56]
  89:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  90:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Init The ULPI Interface */
  91:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG &= ~(USB_OTG_GUSBCFG_TSDPS | USB_OTG_GUSBCFG_ULPIFSLS | USB_OTG_GUSBCFG_PHYSEL);
  59              		.loc 1 91 0
  60 0024 7B68     		ldr	r3, [r7, #4]
  61 0026 DB68     		ldr	r3, [r3, #12]
  62 0028 23F48403 		bic	r3, r3, #4325376
  63 002c 23F04003 		bic	r3, r3, #64
  64 0030 7A68     		ldr	r2, [r7, #4]
  65 0032 D360     		str	r3, [r2, #12]
  92:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  93:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Select vbus source */
  94:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG &= ~(USB_OTG_GUSBCFG_ULPIEVBUSD | USB_OTG_GUSBCFG_ULPIEVBUSI);
  66              		.loc 1 94 0
  67 0034 7B68     		ldr	r3, [r7, #4]
  68 0036 DB68     		ldr	r3, [r3, #12]
  69 0038 23F44012 		bic	r2, r3, #3145728
  70 003c 7B68     		ldr	r3, [r7, #4]
  71 003e DA60     		str	r2, [r3, #12]
  95:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (cfg.use_external_vbus == 1U)
  72              		.loc 1 95 0
  73 0040 FB6C     		ldr	r3, [r7, #76]
  74 0042 012B     		cmp	r3, #1
  75 0044 05D1     		bne	.L3
  96:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
  97:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx->GUSBCFG |= USB_OTG_GUSBCFG_ULPIEVBUSD;
ARM GAS  /tmp/ccjl6mF2.s 			page 4


  76              		.loc 1 97 0
  77 0046 7B68     		ldr	r3, [r7, #4]
  78 0048 DB68     		ldr	r3, [r3, #12]
  79 004a 43F48012 		orr	r2, r3, #1048576
  80 004e 7B68     		ldr	r3, [r7, #4]
  81 0050 DA60     		str	r2, [r3, #12]
  82              	.L3:
  98:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
  99:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Reset after a PHY select  */
 100:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ret = USB_CoreReset(USBx);
  83              		.loc 1 100 0
  84 0052 7868     		ldr	r0, [r7, #4]
  85 0054 FFF7FEFF 		bl	USB_CoreReset
  86 0058 0346     		mov	r3, r0
  87 005a FB73     		strb	r3, [r7, #15]
  88 005c 1AE0     		b	.L4
  89              	.L2:
 101:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 102:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else /* FS interface (embedded Phy) */
 103:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 104:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Select FS Embedded PHY */
 105:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG |= USB_OTG_GUSBCFG_PHYSEL;
  90              		.loc 1 105 0
  91 005e 7B68     		ldr	r3, [r7, #4]
  92 0060 DB68     		ldr	r3, [r3, #12]
  93 0062 43F04002 		orr	r2, r3, #64
  94 0066 7B68     		ldr	r3, [r7, #4]
  95 0068 DA60     		str	r2, [r3, #12]
 106:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 107:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Reset after a PHY select and set Host mode */
 108:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ret = USB_CoreReset(USBx);
  96              		.loc 1 108 0
  97 006a 7868     		ldr	r0, [r7, #4]
  98 006c FFF7FEFF 		bl	USB_CoreReset
  99 0070 0346     		mov	r3, r0
 100 0072 FB73     		strb	r3, [r7, #15]
 109:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 110:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (cfg.battery_charging_enable == 0U)
 101              		.loc 1 110 0
 102 0074 3B6C     		ldr	r3, [r7, #64]
 103 0076 002B     		cmp	r3, #0
 104 0078 06D1     		bne	.L5
 111:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 112:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Activate the USB Transceiver */
 113:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx->GCCFG |= USB_OTG_GCCFG_PWRDWN;
 105              		.loc 1 113 0
 106 007a 7B68     		ldr	r3, [r7, #4]
 107 007c 9B6B     		ldr	r3, [r3, #56]
 108 007e 43F48032 		orr	r2, r3, #65536
 109 0082 7B68     		ldr	r3, [r7, #4]
 110 0084 9A63     		str	r2, [r3, #56]
 111 0086 05E0     		b	.L4
 112              	.L5:
 114:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 115:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 116:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 117:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Deactivate the USB Transceiver */
ARM GAS  /tmp/ccjl6mF2.s 			page 5


 118:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx->GCCFG &= ~(USB_OTG_GCCFG_PWRDWN);
 113              		.loc 1 118 0
 114 0088 7B68     		ldr	r3, [r7, #4]
 115 008a 9B6B     		ldr	r3, [r3, #56]
 116 008c 23F48032 		bic	r2, r3, #65536
 117 0090 7B68     		ldr	r3, [r7, #4]
 118 0092 9A63     		str	r2, [r3, #56]
 119              	.L4:
 119:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 120:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 121:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 122:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.dma_enable == 1U)
 120              		.loc 1 122 0
 121 0094 BB6A     		ldr	r3, [r7, #40]
 122 0096 012B     		cmp	r3, #1
 123 0098 0BD1     		bne	.L6
 123:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 124:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GAHBCFG |= USB_OTG_GAHBCFG_HBSTLEN_2;
 124              		.loc 1 124 0
 125 009a 7B68     		ldr	r3, [r7, #4]
 126 009c 9B68     		ldr	r3, [r3, #8]
 127 009e 43F00602 		orr	r2, r3, #6
 128 00a2 7B68     		ldr	r3, [r7, #4]
 129 00a4 9A60     		str	r2, [r3, #8]
 125:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GAHBCFG |= USB_OTG_GAHBCFG_DMAEN;
 130              		.loc 1 125 0
 131 00a6 7B68     		ldr	r3, [r7, #4]
 132 00a8 9B68     		ldr	r3, [r3, #8]
 133 00aa 43F02002 		orr	r2, r3, #32
 134 00ae 7B68     		ldr	r3, [r7, #4]
 135 00b0 9A60     		str	r2, [r3, #8]
 136              	.L6:
 126:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 127:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 128:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ret;
 137              		.loc 1 128 0
 138 00b2 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 129:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 139              		.loc 1 129 0
 140 00b4 1846     		mov	r0, r3
 141 00b6 1037     		adds	r7, r7, #16
 142              	.LCFI4:
 143              		.cfi_def_cfa_offset 24
 144 00b8 BD46     		mov	sp, r7
 145              	.LCFI5:
 146              		.cfi_def_cfa_register 13
 147              		@ sp needed
 148 00ba BDE88040 		pop	{r7, lr}
 149              	.LCFI6:
 150              		.cfi_restore 14
 151              		.cfi_restore 7
 152              		.cfi_def_cfa_offset 16
 153 00be 04B0     		add	sp, sp, #16
 154              	.LCFI7:
 155              		.cfi_def_cfa_offset 0
 156 00c0 7047     		bx	lr
 157              		.cfi_endproc
ARM GAS  /tmp/ccjl6mF2.s 			page 6


 158              	.LFE130:
 160              		.section	.text.USB_SetTurnaroundTime,"ax",%progbits
 161              		.align	1
 162              		.global	USB_SetTurnaroundTime
 163              		.syntax unified
 164              		.thumb
 165              		.thumb_func
 166              		.fpu fpv4-sp-d16
 168              	USB_SetTurnaroundTime:
 169              	.LFB131:
 130:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 131:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 132:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 133:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Set the USB turnaround time
 134:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx USB Instance
 135:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  hclk: AHB clock frequency
 136:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval USB turnaround time In PHY Clocks number
 137:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 138:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_SetTurnaroundTime(USB_OTG_GlobalTypeDef *USBx,
 139:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                         uint32_t hclk, uint8_t speed)
 140:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 170              		.loc 1 140 0
 171              		.cfi_startproc
 172              		@ args = 0, pretend = 0, frame = 24
 173              		@ frame_needed = 1, uses_anonymous_args = 0
 174              		@ link register save eliminated.
 175 0000 80B4     		push	{r7}
 176              	.LCFI8:
 177              		.cfi_def_cfa_offset 4
 178              		.cfi_offset 7, -4
 179 0002 87B0     		sub	sp, sp, #28
 180              	.LCFI9:
 181              		.cfi_def_cfa_offset 32
 182 0004 00AF     		add	r7, sp, #0
 183              	.LCFI10:
 184              		.cfi_def_cfa_register 7
 185 0006 F860     		str	r0, [r7, #12]
 186 0008 B960     		str	r1, [r7, #8]
 187 000a 1346     		mov	r3, r2
 188 000c FB71     		strb	r3, [r7, #7]
 141:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t UsbTrd;
 142:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 143:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* The USBTRD is configured according to the tables below, depending on AHB frequency
 144:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   used by application. In the low AHB frequency range it is used to stretch enough the USB response
 145:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   time to IN tokens, the USB turnaround time, so to compensate for the longer AHB read access
 146:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   latency to the Data FIFO */
 147:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (speed == USBD_FS_SPEED)
 189              		.loc 1 147 0
 190 000e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 191 0010 022B     		cmp	r3, #2
 192 0012 65D1     		bne	.L9
 148:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 149:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((hclk >= 14200000U) && (hclk < 15000000U))
 193              		.loc 1 149 0
 194 0014 BB68     		ldr	r3, [r7, #8]
 195 0016 414A     		ldr	r2, .L23
 196 0018 9342     		cmp	r3, r2
ARM GAS  /tmp/ccjl6mF2.s 			page 7


 197 001a 06D9     		bls	.L10
 198              		.loc 1 149 0 is_stmt 0 discriminator 1
 199 001c BB68     		ldr	r3, [r7, #8]
 200 001e 404A     		ldr	r2, .L23+4
 201 0020 9342     		cmp	r3, r2
 202 0022 02D8     		bhi	.L10
 150:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 151:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 14.2-15 MHz */
 152:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0xFU;
 203              		.loc 1 152 0 is_stmt 1
 204 0024 0F23     		movs	r3, #15
 205 0026 7B61     		str	r3, [r7, #20]
 206 0028 62E0     		b	.L20
 207              	.L10:
 153:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 154:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 15000000U) && (hclk < 16000000U))
 208              		.loc 1 154 0
 209 002a BB68     		ldr	r3, [r7, #8]
 210 002c 3C4A     		ldr	r2, .L23+4
 211 002e 9342     		cmp	r3, r2
 212 0030 06D9     		bls	.L12
 213              		.loc 1 154 0 is_stmt 0 discriminator 1
 214 0032 BB68     		ldr	r3, [r7, #8]
 215 0034 3B4A     		ldr	r2, .L23+8
 216 0036 9342     		cmp	r3, r2
 217 0038 02D8     		bhi	.L12
 155:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 156:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 15-16 MHz */
 157:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0xEU;
 218              		.loc 1 157 0 is_stmt 1
 219 003a 0E23     		movs	r3, #14
 220 003c 7B61     		str	r3, [r7, #20]
 221 003e 57E0     		b	.L20
 222              	.L12:
 158:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 159:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 16000000U) && (hclk < 17200000U))
 223              		.loc 1 159 0
 224 0040 BB68     		ldr	r3, [r7, #8]
 225 0042 384A     		ldr	r2, .L23+8
 226 0044 9342     		cmp	r3, r2
 227 0046 06D9     		bls	.L13
 228              		.loc 1 159 0 is_stmt 0 discriminator 1
 229 0048 BB68     		ldr	r3, [r7, #8]
 230 004a 374A     		ldr	r2, .L23+12
 231 004c 9342     		cmp	r3, r2
 232 004e 02D8     		bhi	.L13
 160:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 161:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 16-17.2 MHz */
 162:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0xDU;
 233              		.loc 1 162 0 is_stmt 1
 234 0050 0D23     		movs	r3, #13
 235 0052 7B61     		str	r3, [r7, #20]
 236 0054 4CE0     		b	.L20
 237              	.L13:
 163:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 164:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 17200000U) && (hclk < 18500000U))
 238              		.loc 1 164 0
ARM GAS  /tmp/ccjl6mF2.s 			page 8


 239 0056 BB68     		ldr	r3, [r7, #8]
 240 0058 334A     		ldr	r2, .L23+12
 241 005a 9342     		cmp	r3, r2
 242 005c 06D9     		bls	.L14
 243              		.loc 1 164 0 is_stmt 0 discriminator 1
 244 005e BB68     		ldr	r3, [r7, #8]
 245 0060 324A     		ldr	r2, .L23+16
 246 0062 9342     		cmp	r3, r2
 247 0064 02D8     		bhi	.L14
 165:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 166:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 17.2-18.5 MHz */
 167:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0xCU;
 248              		.loc 1 167 0 is_stmt 1
 249 0066 0C23     		movs	r3, #12
 250 0068 7B61     		str	r3, [r7, #20]
 251 006a 41E0     		b	.L20
 252              	.L14:
 168:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 169:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 18500000U) && (hclk < 20000000U))
 253              		.loc 1 169 0
 254 006c BB68     		ldr	r3, [r7, #8]
 255 006e 2F4A     		ldr	r2, .L23+16
 256 0070 9342     		cmp	r3, r2
 257 0072 06D9     		bls	.L15
 258              		.loc 1 169 0 is_stmt 0 discriminator 1
 259 0074 BB68     		ldr	r3, [r7, #8]
 260 0076 2E4A     		ldr	r2, .L23+20
 261 0078 9342     		cmp	r3, r2
 262 007a 02D8     		bhi	.L15
 170:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 171:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 18.5-20 MHz */
 172:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0xBU;
 263              		.loc 1 172 0 is_stmt 1
 264 007c 0B23     		movs	r3, #11
 265 007e 7B61     		str	r3, [r7, #20]
 266 0080 36E0     		b	.L20
 267              	.L15:
 173:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 174:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 20000000U) && (hclk < 21800000U))
 268              		.loc 1 174 0
 269 0082 BB68     		ldr	r3, [r7, #8]
 270 0084 2A4A     		ldr	r2, .L23+20
 271 0086 9342     		cmp	r3, r2
 272 0088 06D9     		bls	.L16
 273              		.loc 1 174 0 is_stmt 0 discriminator 1
 274 008a BB68     		ldr	r3, [r7, #8]
 275 008c 294A     		ldr	r2, .L23+24
 276 008e 9342     		cmp	r3, r2
 277 0090 02D8     		bhi	.L16
 175:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 176:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 20-21.8 MHz */
 177:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0xAU;
 278              		.loc 1 177 0 is_stmt 1
 279 0092 0A23     		movs	r3, #10
 280 0094 7B61     		str	r3, [r7, #20]
 281 0096 2BE0     		b	.L20
 282              	.L16:
ARM GAS  /tmp/ccjl6mF2.s 			page 9


 178:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 179:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 21800000U) && (hclk < 24000000U))
 283              		.loc 1 179 0
 284 0098 BB68     		ldr	r3, [r7, #8]
 285 009a 264A     		ldr	r2, .L23+24
 286 009c 9342     		cmp	r3, r2
 287 009e 06D9     		bls	.L17
 288              		.loc 1 179 0 is_stmt 0 discriminator 1
 289 00a0 BB68     		ldr	r3, [r7, #8]
 290 00a2 254A     		ldr	r2, .L23+28
 291 00a4 9342     		cmp	r3, r2
 292 00a6 02D8     		bhi	.L17
 180:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 181:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 21.8-24 MHz */
 182:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0x9U;
 293              		.loc 1 182 0 is_stmt 1
 294 00a8 0923     		movs	r3, #9
 295 00aa 7B61     		str	r3, [r7, #20]
 296 00ac 20E0     		b	.L20
 297              	.L17:
 183:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 184:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 24000000U) && (hclk < 27700000U))
 298              		.loc 1 184 0
 299 00ae BB68     		ldr	r3, [r7, #8]
 300 00b0 214A     		ldr	r2, .L23+28
 301 00b2 9342     		cmp	r3, r2
 302 00b4 06D9     		bls	.L18
 303              		.loc 1 184 0 is_stmt 0 discriminator 1
 304 00b6 BB68     		ldr	r3, [r7, #8]
 305 00b8 204A     		ldr	r2, .L23+32
 306 00ba 9342     		cmp	r3, r2
 307 00bc 02D8     		bhi	.L18
 185:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 186:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 24-27.7 MHz */
 187:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0x8U;
 308              		.loc 1 187 0 is_stmt 1
 309 00be 0823     		movs	r3, #8
 310 00c0 7B61     		str	r3, [r7, #20]
 311 00c2 15E0     		b	.L20
 312              	.L18:
 188:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 189:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 27700000U) && (hclk < 32000000U))
 313              		.loc 1 189 0
 314 00c4 BB68     		ldr	r3, [r7, #8]
 315 00c6 1D4A     		ldr	r2, .L23+32
 316 00c8 9342     		cmp	r3, r2
 317 00ca 06D9     		bls	.L19
 318              		.loc 1 189 0 is_stmt 0 discriminator 1
 319 00cc BB68     		ldr	r3, [r7, #8]
 320 00ce 1C4A     		ldr	r2, .L23+36
 321 00d0 9342     		cmp	r3, r2
 322 00d2 02D8     		bhi	.L19
 190:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 191:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 27.7-32 MHz */
 192:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0x7U;
 323              		.loc 1 192 0 is_stmt 1
 324 00d4 0723     		movs	r3, #7
ARM GAS  /tmp/ccjl6mF2.s 			page 10


 325 00d6 7B61     		str	r3, [r7, #20]
 326 00d8 0AE0     		b	.L20
 327              	.L19:
 193:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 194:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else /* if(hclk >= 32000000) */
 195:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 196:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 32-200 MHz */
 197:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0x6U;
 328              		.loc 1 197 0
 329 00da 0623     		movs	r3, #6
 330 00dc 7B61     		str	r3, [r7, #20]
 331 00de 07E0     		b	.L20
 332              	.L9:
 198:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 199:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 200:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else if (speed == USBD_HS_SPEED)
 333              		.loc 1 200 0
 334 00e0 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 335 00e2 002B     		cmp	r3, #0
 336 00e4 02D1     		bne	.L21
 201:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 202:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     UsbTrd = USBD_HS_TRDT_VALUE;
 337              		.loc 1 202 0
 338 00e6 0923     		movs	r3, #9
 339 00e8 7B61     		str	r3, [r7, #20]
 340 00ea 01E0     		b	.L20
 341              	.L21:
 203:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 204:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 205:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 206:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     UsbTrd = USBD_DEFAULT_TRDT_VALUE;
 342              		.loc 1 206 0
 343 00ec 0923     		movs	r3, #9
 344 00ee 7B61     		str	r3, [r7, #20]
 345              	.L20:
 207:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 208:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 209:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GUSBCFG &= ~USB_OTG_GUSBCFG_TRDT;
 346              		.loc 1 209 0
 347 00f0 FB68     		ldr	r3, [r7, #12]
 348 00f2 DB68     		ldr	r3, [r3, #12]
 349 00f4 23F47052 		bic	r2, r3, #15360
 350 00f8 FB68     		ldr	r3, [r7, #12]
 351 00fa DA60     		str	r2, [r3, #12]
 210:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GUSBCFG |= (uint32_t)((UsbTrd << 10) & USB_OTG_GUSBCFG_TRDT);
 352              		.loc 1 210 0
 353 00fc FB68     		ldr	r3, [r7, #12]
 354 00fe DA68     		ldr	r2, [r3, #12]
 355 0100 7B69     		ldr	r3, [r7, #20]
 356 0102 9B02     		lsls	r3, r3, #10
 357 0104 03F47053 		and	r3, r3, #15360
 358 0108 1A43     		orrs	r2, r2, r3
 359 010a FB68     		ldr	r3, [r7, #12]
 360 010c DA60     		str	r2, [r3, #12]
 211:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 212:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 361              		.loc 1 212 0
ARM GAS  /tmp/ccjl6mF2.s 			page 11


 362 010e 0023     		movs	r3, #0
 213:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 363              		.loc 1 213 0
 364 0110 1846     		mov	r0, r3
 365 0112 1C37     		adds	r7, r7, #28
 366              	.LCFI11:
 367              		.cfi_def_cfa_offset 4
 368 0114 BD46     		mov	sp, r7
 369              	.LCFI12:
 370              		.cfi_def_cfa_register 13
 371              		@ sp needed
 372 0116 5DF8047B 		ldr	r7, [sp], #4
 373              	.LCFI13:
 374              		.cfi_restore 7
 375              		.cfi_def_cfa_offset 0
 376 011a 7047     		bx	lr
 377              	.L24:
 378              		.align	2
 379              	.L23:
 380 011c BFACD800 		.word	14199999
 381 0120 BFE1E400 		.word	14999999
 382 0124 FF23F400 		.word	15999999
 383 0128 7F730601 		.word	17199999
 384 012c 9F491A01 		.word	18499999
 385 0130 FF2C3101 		.word	19999999
 386 0134 3FA44C01 		.word	21799999
 387 0138 FF356E01 		.word	23999999
 388 013c 1FABA601 		.word	27699999
 389 0140 FF47E801 		.word	31999999
 390              		.cfi_endproc
 391              	.LFE131:
 393              		.section	.text.USB_EnableGlobalInt,"ax",%progbits
 394              		.align	1
 395              		.global	USB_EnableGlobalInt
 396              		.syntax unified
 397              		.thumb
 398              		.thumb_func
 399              		.fpu fpv4-sp-d16
 401              	USB_EnableGlobalInt:
 402              	.LFB132:
 214:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 215:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 216:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EnableGlobalInt
 217:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         Enables the controller's Global Int in the AHB Config reg
 218:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 219:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 220:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 221:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EnableGlobalInt(USB_OTG_GlobalTypeDef *USBx)
 222:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 403              		.loc 1 222 0
 404              		.cfi_startproc
 405              		@ args = 0, pretend = 0, frame = 8
 406              		@ frame_needed = 1, uses_anonymous_args = 0
 407              		@ link register save eliminated.
 408 0000 80B4     		push	{r7}
 409              	.LCFI14:
 410              		.cfi_def_cfa_offset 4
ARM GAS  /tmp/ccjl6mF2.s 			page 12


 411              		.cfi_offset 7, -4
 412 0002 83B0     		sub	sp, sp, #12
 413              	.LCFI15:
 414              		.cfi_def_cfa_offset 16
 415 0004 00AF     		add	r7, sp, #0
 416              	.LCFI16:
 417              		.cfi_def_cfa_register 7
 418 0006 7860     		str	r0, [r7, #4]
 223:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GAHBCFG |= USB_OTG_GAHBCFG_GINT;
 419              		.loc 1 223 0
 420 0008 7B68     		ldr	r3, [r7, #4]
 421 000a 9B68     		ldr	r3, [r3, #8]
 422 000c 43F00102 		orr	r2, r3, #1
 423 0010 7B68     		ldr	r3, [r7, #4]
 424 0012 9A60     		str	r2, [r3, #8]
 224:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 425              		.loc 1 224 0
 426 0014 0023     		movs	r3, #0
 225:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 427              		.loc 1 225 0
 428 0016 1846     		mov	r0, r3
 429 0018 0C37     		adds	r7, r7, #12
 430              	.LCFI17:
 431              		.cfi_def_cfa_offset 4
 432 001a BD46     		mov	sp, r7
 433              	.LCFI18:
 434              		.cfi_def_cfa_register 13
 435              		@ sp needed
 436 001c 5DF8047B 		ldr	r7, [sp], #4
 437              	.LCFI19:
 438              		.cfi_restore 7
 439              		.cfi_def_cfa_offset 0
 440 0020 7047     		bx	lr
 441              		.cfi_endproc
 442              	.LFE132:
 444              		.section	.text.USB_DisableGlobalInt,"ax",%progbits
 445              		.align	1
 446              		.global	USB_DisableGlobalInt
 447              		.syntax unified
 448              		.thumb
 449              		.thumb_func
 450              		.fpu fpv4-sp-d16
 452              	USB_DisableGlobalInt:
 453              	.LFB133:
 226:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 227:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 228:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DisableGlobalInt
 229:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         Disable the controller's Global Int in the AHB Config reg
 230:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 231:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 232:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** */
 233:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DisableGlobalInt(USB_OTG_GlobalTypeDef *USBx)
 234:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 454              		.loc 1 234 0
 455              		.cfi_startproc
 456              		@ args = 0, pretend = 0, frame = 8
 457              		@ frame_needed = 1, uses_anonymous_args = 0
ARM GAS  /tmp/ccjl6mF2.s 			page 13


 458              		@ link register save eliminated.
 459 0000 80B4     		push	{r7}
 460              	.LCFI20:
 461              		.cfi_def_cfa_offset 4
 462              		.cfi_offset 7, -4
 463 0002 83B0     		sub	sp, sp, #12
 464              	.LCFI21:
 465              		.cfi_def_cfa_offset 16
 466 0004 00AF     		add	r7, sp, #0
 467              	.LCFI22:
 468              		.cfi_def_cfa_register 7
 469 0006 7860     		str	r0, [r7, #4]
 235:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GAHBCFG &= ~USB_OTG_GAHBCFG_GINT;
 470              		.loc 1 235 0
 471 0008 7B68     		ldr	r3, [r7, #4]
 472 000a 9B68     		ldr	r3, [r3, #8]
 473 000c 23F00102 		bic	r2, r3, #1
 474 0010 7B68     		ldr	r3, [r7, #4]
 475 0012 9A60     		str	r2, [r3, #8]
 236:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 476              		.loc 1 236 0
 477 0014 0023     		movs	r3, #0
 237:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 478              		.loc 1 237 0
 479 0016 1846     		mov	r0, r3
 480 0018 0C37     		adds	r7, r7, #12
 481              	.LCFI23:
 482              		.cfi_def_cfa_offset 4
 483 001a BD46     		mov	sp, r7
 484              	.LCFI24:
 485              		.cfi_def_cfa_register 13
 486              		@ sp needed
 487 001c 5DF8047B 		ldr	r7, [sp], #4
 488              	.LCFI25:
 489              		.cfi_restore 7
 490              		.cfi_def_cfa_offset 0
 491 0020 7047     		bx	lr
 492              		.cfi_endproc
 493              	.LFE133:
 495              		.section	.text.USB_SetCurrentMode,"ax",%progbits
 496              		.align	1
 497              		.global	USB_SetCurrentMode
 498              		.syntax unified
 499              		.thumb
 500              		.thumb_func
 501              		.fpu fpv4-sp-d16
 503              	USB_SetCurrentMode:
 504              	.LFB134:
 238:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 239:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 240:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_SetCurrentMode : Set functional mode
 241:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 242:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  mode   current core mode
 243:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 244:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_DEVICE_MODE: Peripheral mode
 245:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_HOST_MODE: Host mode
 246:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_DRD_MODE: Dual Role Device mode
ARM GAS  /tmp/ccjl6mF2.s 			page 14


 247:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 248:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 249:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_SetCurrentMode(USB_OTG_GlobalTypeDef *USBx, USB_OTG_ModeTypeDef mode)
 250:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 505              		.loc 1 250 0
 506              		.cfi_startproc
 507              		@ args = 0, pretend = 0, frame = 8
 508              		@ frame_needed = 1, uses_anonymous_args = 0
 509 0000 80B5     		push	{r7, lr}
 510              	.LCFI26:
 511              		.cfi_def_cfa_offset 8
 512              		.cfi_offset 7, -8
 513              		.cfi_offset 14, -4
 514 0002 82B0     		sub	sp, sp, #8
 515              	.LCFI27:
 516              		.cfi_def_cfa_offset 16
 517 0004 00AF     		add	r7, sp, #0
 518              	.LCFI28:
 519              		.cfi_def_cfa_register 7
 520 0006 7860     		str	r0, [r7, #4]
 521 0008 0B46     		mov	r3, r1
 522 000a FB70     		strb	r3, [r7, #3]
 251:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GUSBCFG &= ~(USB_OTG_GUSBCFG_FHMOD | USB_OTG_GUSBCFG_FDMOD);
 523              		.loc 1 251 0
 524 000c 7B68     		ldr	r3, [r7, #4]
 525 000e DB68     		ldr	r3, [r3, #12]
 526 0010 23F0C042 		bic	r2, r3, #1610612736
 527 0014 7B68     		ldr	r3, [r7, #4]
 528 0016 DA60     		str	r2, [r3, #12]
 252:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 253:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (mode == USB_HOST_MODE)
 529              		.loc 1 253 0
 530 0018 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 531 001a 012B     		cmp	r3, #1
 532 001c 06D1     		bne	.L30
 254:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 255:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG |= USB_OTG_GUSBCFG_FHMOD;
 533              		.loc 1 255 0
 534 001e 7B68     		ldr	r3, [r7, #4]
 535 0020 DB68     		ldr	r3, [r3, #12]
 536 0022 43F00052 		orr	r2, r3, #536870912
 537 0026 7B68     		ldr	r3, [r7, #4]
 538 0028 DA60     		str	r2, [r3, #12]
 539 002a 0BE0     		b	.L31
 540              	.L30:
 256:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 257:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else if (mode == USB_DEVICE_MODE)
 541              		.loc 1 257 0
 542 002c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 543 002e 002B     		cmp	r3, #0
 544 0030 06D1     		bne	.L32
 258:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 259:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG |= USB_OTG_GUSBCFG_FDMOD;
 545              		.loc 1 259 0
 546 0032 7B68     		ldr	r3, [r7, #4]
 547 0034 DB68     		ldr	r3, [r3, #12]
 548 0036 43F08042 		orr	r2, r3, #1073741824
ARM GAS  /tmp/ccjl6mF2.s 			page 15


 549 003a 7B68     		ldr	r3, [r7, #4]
 550 003c DA60     		str	r2, [r3, #12]
 551 003e 01E0     		b	.L31
 552              	.L32:
 260:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 261:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 262:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 263:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     return HAL_ERROR;
 553              		.loc 1 263 0
 554 0040 0123     		movs	r3, #1
 555 0042 03E0     		b	.L33
 556              	.L31:
 264:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 265:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_Delay(50U);
 557              		.loc 1 265 0
 558 0044 3220     		movs	r0, #50
 559 0046 FFF7FEFF 		bl	HAL_Delay
 266:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 267:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 560              		.loc 1 267 0
 561 004a 0023     		movs	r3, #0
 562              	.L33:
 268:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 563              		.loc 1 268 0
 564 004c 1846     		mov	r0, r3
 565 004e 0837     		adds	r7, r7, #8
 566              	.LCFI29:
 567              		.cfi_def_cfa_offset 8
 568 0050 BD46     		mov	sp, r7
 569              	.LCFI30:
 570              		.cfi_def_cfa_register 13
 571              		@ sp needed
 572 0052 80BD     		pop	{r7, pc}
 573              		.cfi_endproc
 574              	.LFE134:
 576              		.section	.text.USB_DevInit,"ax",%progbits
 577              		.align	1
 578              		.global	USB_DevInit
 579              		.syntax unified
 580              		.thumb
 581              		.thumb_func
 582              		.fpu fpv4-sp-d16
 584              	USB_DevInit:
 585              	.LFB135:
 269:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 270:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 271:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DevInit : Initializes the USB_OTG controller registers
 272:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         for device mode
 273:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 274:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  cfg   pointer to a USB_OTG_CfgTypeDef structure that contains
 275:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
 276:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 277:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 278:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DevInit(USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
 279:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 586              		.loc 1 279 0
 587              		.cfi_startproc
ARM GAS  /tmp/ccjl6mF2.s 			page 16


 588              		@ args = 56, pretend = 16, frame = 24
 589              		@ frame_needed = 1, uses_anonymous_args = 0
 590 0000 84B0     		sub	sp, sp, #16
 591              	.LCFI31:
 592              		.cfi_def_cfa_offset 16
 593 0002 80B5     		push	{r7, lr}
 594              	.LCFI32:
 595              		.cfi_def_cfa_offset 24
 596              		.cfi_offset 7, -24
 597              		.cfi_offset 14, -20
 598 0004 86B0     		sub	sp, sp, #24
 599              	.LCFI33:
 600              		.cfi_def_cfa_offset 48
 601 0006 00AF     		add	r7, sp, #0
 602              	.LCFI34:
 603              		.cfi_def_cfa_register 7
 604 0008 7860     		str	r0, [r7, #4]
 605 000a 07F12400 		add	r0, r7, #36
 606 000e 80E80E00 		stm	r0, {r1, r2, r3}
 280:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
 607              		.loc 1 280 0
 608 0012 0023     		movs	r3, #0
 609 0014 FB75     		strb	r3, [r7, #23]
 281:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 610              		.loc 1 281 0
 611 0016 7B68     		ldr	r3, [r7, #4]
 612 0018 FB60     		str	r3, [r7, #12]
 282:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i;
 283:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 284:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < 15U; i++)
 613              		.loc 1 284 0
 614 001a 0023     		movs	r3, #0
 615 001c 3B61     		str	r3, [r7, #16]
 616 001e 09E0     		b	.L35
 617              	.L36:
 285:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 286:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->DIEPTXF[i] = 0U;
 618              		.loc 1 286 0 discriminator 3
 619 0020 7A68     		ldr	r2, [r7, #4]
 620 0022 3B69     		ldr	r3, [r7, #16]
 621 0024 4033     		adds	r3, r3, #64
 622 0026 9B00     		lsls	r3, r3, #2
 623 0028 1344     		add	r3, r3, r2
 624 002a 0022     		movs	r2, #0
 625 002c 5A60     		str	r2, [r3, #4]
 284:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 626              		.loc 1 284 0 discriminator 3
 627 002e 3B69     		ldr	r3, [r7, #16]
 628 0030 0133     		adds	r3, r3, #1
 629 0032 3B61     		str	r3, [r7, #16]
 630              	.L35:
 284:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 631              		.loc 1 284 0 is_stmt 0 discriminator 1
 632 0034 3B69     		ldr	r3, [r7, #16]
 633 0036 0E2B     		cmp	r3, #14
 634 0038 F2D9     		bls	.L36
 287:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
ARM GAS  /tmp/ccjl6mF2.s 			page 17


 288:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 289:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined(STM32F446xx) || defined(STM32F469xx) || defined(STM32F479xx) || defined(STM32F412Zx) ||
 290:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* VBUS Sensing setup */
 291:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.vbus_sensing_enable == 0U)
 635              		.loc 1 291 0 is_stmt 1
 636 003a FB6C     		ldr	r3, [r7, #76]
 637 003c 002B     		cmp	r3, #0
 638 003e 12D1     		bne	.L37
 292:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 293:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Deactivate VBUS Sensing B */
 294:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG &= ~USB_OTG_GCCFG_VBDEN;
 639              		.loc 1 294 0
 640 0040 7B68     		ldr	r3, [r7, #4]
 641 0042 9B6B     		ldr	r3, [r3, #56]
 642 0044 23F40012 		bic	r2, r3, #2097152
 643 0048 7B68     		ldr	r3, [r7, #4]
 644 004a 9A63     		str	r2, [r3, #56]
 295:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 296:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* B-peripheral session valid override enable */
 297:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GOTGCTL |= USB_OTG_GOTGCTL_BVALOEN;
 645              		.loc 1 297 0
 646 004c 7B68     		ldr	r3, [r7, #4]
 647 004e 1B68     		ldr	r3, [r3]
 648 0050 43F04002 		orr	r2, r3, #64
 649 0054 7B68     		ldr	r3, [r7, #4]
 650 0056 1A60     		str	r2, [r3]
 298:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GOTGCTL |= USB_OTG_GOTGCTL_BVALOVAL;
 651              		.loc 1 298 0
 652 0058 7B68     		ldr	r3, [r7, #4]
 653 005a 1B68     		ldr	r3, [r3]
 654 005c 43F08002 		orr	r2, r3, #128
 655 0060 7B68     		ldr	r3, [r7, #4]
 656 0062 1A60     		str	r2, [r3]
 657 0064 05E0     		b	.L38
 658              	.L37:
 299:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 300:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 301:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 302:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Enable HW VBUS sensing */
 303:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG |= USB_OTG_GCCFG_VBDEN;
 659              		.loc 1 303 0
 660 0066 7B68     		ldr	r3, [r7, #4]
 661 0068 9B6B     		ldr	r3, [r3, #56]
 662 006a 43F40012 		orr	r2, r3, #2097152
 663 006e 7B68     		ldr	r3, [r7, #4]
 664 0070 9A63     		str	r2, [r3, #56]
 665              	.L38:
 304:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 305:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #else
 306:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* VBUS Sensing setup */
 307:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.vbus_sensing_enable == 0U)
 308:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 309:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /*
 310:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****      * Disable HW VBUS sensing. VBUS is internally considered to be always
 311:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****      * at VBUS-Valid level (5V).
 312:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****      */
 313:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG |= USB_OTG_GCCFG_NOVBUSSENS;
ARM GAS  /tmp/ccjl6mF2.s 			page 18


 314:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG &= ~USB_OTG_GCCFG_VBUSBSEN;
 315:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG &= ~USB_OTG_GCCFG_VBUSASEN;
 316:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 317:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 318:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 319:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Enable HW VBUS sensing */
 320:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GOTGCTL &= ~USB_OTG_GCCFG_NOVBUSSENS;
 321:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG |= USB_OTG_GCCFG_VBUSBSEN;
 322:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 323:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #endif /* defined(STM32F446xx) || defined(STM32F469xx) || defined(STM32F479xx) || defined(STM32F412
 324:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 325:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Restart the Phy Clock */
 326:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_PCGCCTL = 0U;
 666              		.loc 1 326 0
 667 0072 FB68     		ldr	r3, [r7, #12]
 668 0074 03F56063 		add	r3, r3, #3584
 669 0078 1A46     		mov	r2, r3
 670 007a 0023     		movs	r3, #0
 671 007c 1360     		str	r3, [r2]
 327:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 328:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Device mode configuration */
 329:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCFG |= DCFG_FRAME_INTERVAL_80;
 672              		.loc 1 329 0
 673 007e FB68     		ldr	r3, [r7, #12]
 674 0080 03F50063 		add	r3, r3, #2048
 675 0084 1946     		mov	r1, r3
 676 0086 FB68     		ldr	r3, [r7, #12]
 677 0088 03F50063 		add	r3, r3, #2048
 678 008c 1A46     		mov	r2, r3
 679 008e 0B68     		ldr	r3, [r1]
 680 0090 1360     		str	r3, [r2]
 330:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 331:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.phy_itface == USB_OTG_ULPI_PHY)
 681              		.loc 1 331 0
 682 0092 BB6B     		ldr	r3, [r7, #56]
 683 0094 012B     		cmp	r3, #1
 684 0096 0CD1     		bne	.L39
 332:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 333:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (cfg.speed == USBD_HS_SPEED)
 685              		.loc 1 333 0
 686 0098 FB6A     		ldr	r3, [r7, #44]
 687 009a 002B     		cmp	r3, #0
 688 009c 04D1     		bne	.L40
 334:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 335:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Set Core speed to High speed mode */
 336:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (void)USB_SetDevSpeed(USBx, USB_OTG_SPEED_HIGH);
 689              		.loc 1 336 0
 690 009e 0021     		movs	r1, #0
 691 00a0 7868     		ldr	r0, [r7, #4]
 692 00a2 FFF7FEFF 		bl	USB_SetDevSpeed
 693 00a6 08E0     		b	.L42
 694              	.L40:
 337:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 338:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 339:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 340:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Set Core speed to Full speed mode */
 341:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (void)USB_SetDevSpeed(USBx, USB_OTG_SPEED_HIGH_IN_FULL);
ARM GAS  /tmp/ccjl6mF2.s 			page 19


 695              		.loc 1 341 0
 696 00a8 0121     		movs	r1, #1
 697 00aa 7868     		ldr	r0, [r7, #4]
 698 00ac FFF7FEFF 		bl	USB_SetDevSpeed
 699 00b0 03E0     		b	.L42
 700              	.L39:
 342:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 343:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 344:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 345:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 346:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Set Core speed to Full speed mode */
 347:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     (void)USB_SetDevSpeed(USBx, USB_OTG_SPEED_FULL);
 701              		.loc 1 347 0
 702 00b2 0321     		movs	r1, #3
 703 00b4 7868     		ldr	r0, [r7, #4]
 704 00b6 FFF7FEFF 		bl	USB_SetDevSpeed
 705              	.L42:
 348:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 349:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 350:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Flush the FIFOs */
 351:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (USB_FlushTxFifo(USBx, 0x10U) != HAL_OK) /* all Tx FIFOs */
 706              		.loc 1 351 0
 707 00ba 1021     		movs	r1, #16
 708 00bc 7868     		ldr	r0, [r7, #4]
 709 00be FFF7FEFF 		bl	USB_FlushTxFifo
 710 00c2 0346     		mov	r3, r0
 711 00c4 002B     		cmp	r3, #0
 712 00c6 01D0     		beq	.L43
 352:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 353:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ret = HAL_ERROR;
 713              		.loc 1 353 0
 714 00c8 0123     		movs	r3, #1
 715 00ca FB75     		strb	r3, [r7, #23]
 716              	.L43:
 354:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 355:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 356:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (USB_FlushRxFifo(USBx) != HAL_OK)
 717              		.loc 1 356 0
 718 00cc 7868     		ldr	r0, [r7, #4]
 719 00ce FFF7FEFF 		bl	USB_FlushRxFifo
 720 00d2 0346     		mov	r3, r0
 721 00d4 002B     		cmp	r3, #0
 722 00d6 01D0     		beq	.L44
 357:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 358:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ret = HAL_ERROR;
 723              		.loc 1 358 0
 724 00d8 0123     		movs	r3, #1
 725 00da FB75     		strb	r3, [r7, #23]
 726              	.L44:
 359:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 360:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 361:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear all pending Device Interrupts */
 362:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK = 0U;
 727              		.loc 1 362 0
 728 00dc FB68     		ldr	r3, [r7, #12]
 729 00de 03F50063 		add	r3, r3, #2048
 730 00e2 1A46     		mov	r2, r3
ARM GAS  /tmp/ccjl6mF2.s 			page 20


 731 00e4 0023     		movs	r3, #0
 732 00e6 1361     		str	r3, [r2, #16]
 363:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DOEPMSK = 0U;
 733              		.loc 1 363 0
 734 00e8 FB68     		ldr	r3, [r7, #12]
 735 00ea 03F50063 		add	r3, r3, #2048
 736 00ee 1A46     		mov	r2, r3
 737 00f0 0023     		movs	r3, #0
 738 00f2 5361     		str	r3, [r2, #20]
 364:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DAINTMSK = 0U;
 739              		.loc 1 364 0
 740 00f4 FB68     		ldr	r3, [r7, #12]
 741 00f6 03F50063 		add	r3, r3, #2048
 742 00fa 1A46     		mov	r2, r3
 743 00fc 0023     		movs	r3, #0
 744 00fe D361     		str	r3, [r2, #28]
 365:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 366:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < cfg.dev_endpoints; i++)
 745              		.loc 1 366 0
 746 0100 0023     		movs	r3, #0
 747 0102 3B61     		str	r3, [r7, #16]
 748 0104 43E0     		b	.L45
 749              	.L50:
 367:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 368:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_INEP(i)->DIEPCTL & USB_OTG_DIEPCTL_EPENA) == USB_OTG_DIEPCTL_EPENA)
 750              		.loc 1 368 0
 751 0106 3B69     		ldr	r3, [r7, #16]
 752 0108 5A01     		lsls	r2, r3, #5
 753 010a FB68     		ldr	r3, [r7, #12]
 754 010c 1344     		add	r3, r3, r2
 755 010e 03F51063 		add	r3, r3, #2304
 756 0112 1B68     		ldr	r3, [r3]
 757 0114 03F00043 		and	r3, r3, #-2147483648
 758 0118 B3F1004F 		cmp	r3, #-2147483648
 759 011c 18D1     		bne	.L46
 369:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 370:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (i == 0U)
 760              		.loc 1 370 0
 761 011e 3B69     		ldr	r3, [r7, #16]
 762 0120 002B     		cmp	r3, #0
 763 0122 0AD1     		bne	.L47
 371:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 372:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(i)->DIEPCTL = USB_OTG_DIEPCTL_SNAK;
 764              		.loc 1 372 0
 765 0124 3B69     		ldr	r3, [r7, #16]
 766 0126 5A01     		lsls	r2, r3, #5
 767 0128 FB68     		ldr	r3, [r7, #12]
 768 012a 1344     		add	r3, r3, r2
 769 012c 03F51063 		add	r3, r3, #2304
 770 0130 1A46     		mov	r2, r3
 771 0132 4FF00063 		mov	r3, #134217728
 772 0136 1360     		str	r3, [r2]
 773 0138 13E0     		b	.L49
 774              	.L47:
 373:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 374:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       else
 375:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
ARM GAS  /tmp/ccjl6mF2.s 			page 21


 376:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(i)->DIEPCTL = USB_OTG_DIEPCTL_EPDIS | USB_OTG_DIEPCTL_SNAK;
 775              		.loc 1 376 0
 776 013a 3B69     		ldr	r3, [r7, #16]
 777 013c 5A01     		lsls	r2, r3, #5
 778 013e FB68     		ldr	r3, [r7, #12]
 779 0140 1344     		add	r3, r3, r2
 780 0142 03F51063 		add	r3, r3, #2304
 781 0146 1A46     		mov	r2, r3
 782 0148 4FF09043 		mov	r3, #1207959552
 783 014c 1360     		str	r3, [r2]
 784 014e 08E0     		b	.L49
 785              	.L46:
 377:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 378:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 379:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 380:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 381:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(i)->DIEPCTL = 0U;
 786              		.loc 1 381 0
 787 0150 3B69     		ldr	r3, [r7, #16]
 788 0152 5A01     		lsls	r2, r3, #5
 789 0154 FB68     		ldr	r3, [r7, #12]
 790 0156 1344     		add	r3, r3, r2
 791 0158 03F51063 		add	r3, r3, #2304
 792 015c 1A46     		mov	r2, r3
 793 015e 0023     		movs	r3, #0
 794 0160 1360     		str	r3, [r2]
 795              	.L49:
 382:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 383:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 384:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(i)->DIEPTSIZ = 0U;
 796              		.loc 1 384 0 discriminator 2
 797 0162 3B69     		ldr	r3, [r7, #16]
 798 0164 5A01     		lsls	r2, r3, #5
 799 0166 FB68     		ldr	r3, [r7, #12]
 800 0168 1344     		add	r3, r3, r2
 801 016a 03F51063 		add	r3, r3, #2304
 802 016e 1A46     		mov	r2, r3
 803 0170 0023     		movs	r3, #0
 804 0172 1361     		str	r3, [r2, #16]
 385:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(i)->DIEPINT  = 0xFB7FU;
 805              		.loc 1 385 0 discriminator 2
 806 0174 3B69     		ldr	r3, [r7, #16]
 807 0176 5A01     		lsls	r2, r3, #5
 808 0178 FB68     		ldr	r3, [r7, #12]
 809 017a 1344     		add	r3, r3, r2
 810 017c 03F51063 		add	r3, r3, #2304
 811 0180 1A46     		mov	r2, r3
 812 0182 4FF67F33 		movw	r3, #64383
 813 0186 9360     		str	r3, [r2, #8]
 366:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 814              		.loc 1 366 0 discriminator 2
 815 0188 3B69     		ldr	r3, [r7, #16]
 816 018a 0133     		adds	r3, r3, #1
 817 018c 3B61     		str	r3, [r7, #16]
 818              	.L45:
 366:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 819              		.loc 1 366 0 is_stmt 0 discriminator 1
ARM GAS  /tmp/ccjl6mF2.s 			page 22


 820 018e 7B6A     		ldr	r3, [r7, #36]
 821 0190 3A69     		ldr	r2, [r7, #16]
 822 0192 9A42     		cmp	r2, r3
 823 0194 B7D3     		bcc	.L50
 386:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 387:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 388:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < cfg.dev_endpoints; i++)
 824              		.loc 1 388 0 is_stmt 1
 825 0196 0023     		movs	r3, #0
 826 0198 3B61     		str	r3, [r7, #16]
 827 019a 43E0     		b	.L51
 828              	.L56:
 389:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 390:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_OUTEP(i)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 829              		.loc 1 390 0
 830 019c 3B69     		ldr	r3, [r7, #16]
 831 019e 5A01     		lsls	r2, r3, #5
 832 01a0 FB68     		ldr	r3, [r7, #12]
 833 01a2 1344     		add	r3, r3, r2
 834 01a4 03F53063 		add	r3, r3, #2816
 835 01a8 1B68     		ldr	r3, [r3]
 836 01aa 03F00043 		and	r3, r3, #-2147483648
 837 01ae B3F1004F 		cmp	r3, #-2147483648
 838 01b2 18D1     		bne	.L52
 391:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 392:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (i == 0U)
 839              		.loc 1 392 0
 840 01b4 3B69     		ldr	r3, [r7, #16]
 841 01b6 002B     		cmp	r3, #0
 842 01b8 0AD1     		bne	.L53
 393:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 394:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(i)->DOEPCTL = USB_OTG_DOEPCTL_SNAK;
 843              		.loc 1 394 0
 844 01ba 3B69     		ldr	r3, [r7, #16]
 845 01bc 5A01     		lsls	r2, r3, #5
 846 01be FB68     		ldr	r3, [r7, #12]
 847 01c0 1344     		add	r3, r3, r2
 848 01c2 03F53063 		add	r3, r3, #2816
 849 01c6 1A46     		mov	r2, r3
 850 01c8 4FF00063 		mov	r3, #134217728
 851 01cc 1360     		str	r3, [r2]
 852 01ce 13E0     		b	.L55
 853              	.L53:
 395:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 396:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       else
 397:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 398:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(i)->DOEPCTL = USB_OTG_DOEPCTL_EPDIS | USB_OTG_DOEPCTL_SNAK;
 854              		.loc 1 398 0
 855 01d0 3B69     		ldr	r3, [r7, #16]
 856 01d2 5A01     		lsls	r2, r3, #5
 857 01d4 FB68     		ldr	r3, [r7, #12]
 858 01d6 1344     		add	r3, r3, r2
 859 01d8 03F53063 		add	r3, r3, #2816
 860 01dc 1A46     		mov	r2, r3
 861 01de 4FF09043 		mov	r3, #1207959552
 862 01e2 1360     		str	r3, [r2]
 863 01e4 08E0     		b	.L55
ARM GAS  /tmp/ccjl6mF2.s 			page 23


 864              	.L52:
 399:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 400:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 401:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 402:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 403:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(i)->DOEPCTL = 0U;
 865              		.loc 1 403 0
 866 01e6 3B69     		ldr	r3, [r7, #16]
 867 01e8 5A01     		lsls	r2, r3, #5
 868 01ea FB68     		ldr	r3, [r7, #12]
 869 01ec 1344     		add	r3, r3, r2
 870 01ee 03F53063 		add	r3, r3, #2816
 871 01f2 1A46     		mov	r2, r3
 872 01f4 0023     		movs	r3, #0
 873 01f6 1360     		str	r3, [r2]
 874              	.L55:
 404:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 405:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 406:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(i)->DOEPTSIZ = 0U;
 875              		.loc 1 406 0 discriminator 2
 876 01f8 3B69     		ldr	r3, [r7, #16]
 877 01fa 5A01     		lsls	r2, r3, #5
 878 01fc FB68     		ldr	r3, [r7, #12]
 879 01fe 1344     		add	r3, r3, r2
 880 0200 03F53063 		add	r3, r3, #2816
 881 0204 1A46     		mov	r2, r3
 882 0206 0023     		movs	r3, #0
 883 0208 1361     		str	r3, [r2, #16]
 407:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(i)->DOEPINT  = 0xFB7FU;
 884              		.loc 1 407 0 discriminator 2
 885 020a 3B69     		ldr	r3, [r7, #16]
 886 020c 5A01     		lsls	r2, r3, #5
 887 020e FB68     		ldr	r3, [r7, #12]
 888 0210 1344     		add	r3, r3, r2
 889 0212 03F53063 		add	r3, r3, #2816
 890 0216 1A46     		mov	r2, r3
 891 0218 4FF67F33 		movw	r3, #64383
 892 021c 9360     		str	r3, [r2, #8]
 388:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 893              		.loc 1 388 0 discriminator 2
 894 021e 3B69     		ldr	r3, [r7, #16]
 895 0220 0133     		adds	r3, r3, #1
 896 0222 3B61     		str	r3, [r7, #16]
 897              	.L51:
 388:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 898              		.loc 1 388 0 is_stmt 0 discriminator 1
 899 0224 7B6A     		ldr	r3, [r7, #36]
 900 0226 3A69     		ldr	r2, [r7, #16]
 901 0228 9A42     		cmp	r2, r3
 902 022a B7D3     		bcc	.L56
 408:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 409:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 410:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK &= ~(USB_OTG_DIEPMSK_TXFURM);
 903              		.loc 1 410 0 is_stmt 1
 904 022c FB68     		ldr	r3, [r7, #12]
 905 022e 03F50063 		add	r3, r3, #2048
 906 0232 1B69     		ldr	r3, [r3, #16]
ARM GAS  /tmp/ccjl6mF2.s 			page 24


 907 0234 FA68     		ldr	r2, [r7, #12]
 908 0236 02F50062 		add	r2, r2, #2048
 909 023a 23F48073 		bic	r3, r3, #256
 910 023e 1361     		str	r3, [r2, #16]
 411:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 412:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.dma_enable == 1U)
 911              		.loc 1 412 0
 912 0240 3B6B     		ldr	r3, [r7, #48]
 913 0242 012B     		cmp	r3, #1
 914 0244 11D1     		bne	.L57
 413:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 414:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /*Set threshold parameters */
 415:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DTHRCTL = USB_OTG_DTHRCTL_TXTHRLEN_6 |
 915              		.loc 1 415 0
 916 0246 FB68     		ldr	r3, [r7, #12]
 917 0248 03F50063 		add	r3, r3, #2048
 918 024c 1A46     		mov	r2, r3
 919 024e 204B     		ldr	r3, .L62
 920 0250 1363     		str	r3, [r2, #48]
 416:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                            USB_OTG_DTHRCTL_RXTHRLEN_6;
 417:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 418:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DTHRCTL |= USB_OTG_DTHRCTL_RXTHREN |
 921              		.loc 1 418 0
 922 0252 FB68     		ldr	r3, [r7, #12]
 923 0254 03F50063 		add	r3, r3, #2048
 924 0258 1B6B     		ldr	r3, [r3, #48]
 925 025a FA68     		ldr	r2, [r7, #12]
 926 025c 02F50062 		add	r2, r2, #2048
 927 0260 43F48033 		orr	r3, r3, #65536
 928 0264 43F00303 		orr	r3, r3, #3
 929 0268 1363     		str	r3, [r2, #48]
 930              	.L57:
 419:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                             USB_OTG_DTHRCTL_ISOTHREN |
 420:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                             USB_OTG_DTHRCTL_NONISOTHREN;
 421:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 422:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 423:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Disable all interrupts. */
 424:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK = 0U;
 931              		.loc 1 424 0
 932 026a 7B68     		ldr	r3, [r7, #4]
 933 026c 0022     		movs	r2, #0
 934 026e 9A61     		str	r2, [r3, #24]
 425:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 426:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear any pending interrupts */
 427:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTSTS = 0xBFFFFFFFU;
 935              		.loc 1 427 0
 936 0270 7B68     		ldr	r3, [r7, #4]
 937 0272 6FF08042 		mvn	r2, #1073741824
 938 0276 5A61     		str	r2, [r3, #20]
 428:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 429:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable the common interrupts */
 430:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.dma_enable == 0U)
 939              		.loc 1 430 0
 940 0278 3B6B     		ldr	r3, [r7, #48]
 941 027a 002B     		cmp	r3, #0
 942 027c 05D1     		bne	.L58
 431:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
ARM GAS  /tmp/ccjl6mF2.s 			page 25


 432:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GINTMSK |= USB_OTG_GINTMSK_RXFLVLM;
 943              		.loc 1 432 0
 944 027e 7B68     		ldr	r3, [r7, #4]
 945 0280 9B69     		ldr	r3, [r3, #24]
 946 0282 43F01002 		orr	r2, r3, #16
 947 0286 7B68     		ldr	r3, [r7, #4]
 948 0288 9A61     		str	r2, [r3, #24]
 949              	.L58:
 433:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 434:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 435:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable interrupts matching to the Device mode ONLY */
 436:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK |= USB_OTG_GINTMSK_USBSUSPM | USB_OTG_GINTMSK_USBRST |
 950              		.loc 1 436 0
 951 028a 7B68     		ldr	r3, [r7, #4]
 952 028c 9A69     		ldr	r2, [r3, #24]
 953 028e 114B     		ldr	r3, .L62+4
 954 0290 1343     		orrs	r3, r3, r2
 955 0292 7A68     		ldr	r2, [r7, #4]
 956 0294 9361     		str	r3, [r2, #24]
 437:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                    USB_OTG_GINTMSK_ENUMDNEM | USB_OTG_GINTMSK_IEPINT |
 438:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                    USB_OTG_GINTMSK_OEPINT   | USB_OTG_GINTMSK_IISOIXFRM |
 439:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                    USB_OTG_GINTMSK_PXFRM_IISOOXFRM | USB_OTG_GINTMSK_WUIM;
 440:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 441:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.Sof_enable != 0U)
 957              		.loc 1 441 0
 958 0296 FB6B     		ldr	r3, [r7, #60]
 959 0298 002B     		cmp	r3, #0
 960 029a 05D0     		beq	.L59
 442:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 443:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GINTMSK |= USB_OTG_GINTMSK_SOFM;
 961              		.loc 1 443 0
 962 029c 7B68     		ldr	r3, [r7, #4]
 963 029e 9B69     		ldr	r3, [r3, #24]
 964 02a0 43F00802 		orr	r2, r3, #8
 965 02a4 7B68     		ldr	r3, [r7, #4]
 966 02a6 9A61     		str	r2, [r3, #24]
 967              	.L59:
 444:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 445:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 446:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.vbus_sensing_enable == 1U)
 968              		.loc 1 446 0
 969 02a8 FB6C     		ldr	r3, [r7, #76]
 970 02aa 012B     		cmp	r3, #1
 971 02ac 07D1     		bne	.L60
 447:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 448:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GINTMSK |= (USB_OTG_GINTMSK_SRQIM | USB_OTG_GINTMSK_OTGINT);
 972              		.loc 1 448 0
 973 02ae 7B68     		ldr	r3, [r7, #4]
 974 02b0 9B69     		ldr	r3, [r3, #24]
 975 02b2 43F08043 		orr	r3, r3, #1073741824
 976 02b6 43F00403 		orr	r3, r3, #4
 977 02ba 7A68     		ldr	r2, [r7, #4]
 978 02bc 9361     		str	r3, [r2, #24]
 979              	.L60:
 449:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 450:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 451:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ret;
ARM GAS  /tmp/ccjl6mF2.s 			page 26


 980              		.loc 1 451 0
 981 02be FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 452:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 982              		.loc 1 452 0
 983 02c0 1846     		mov	r0, r3
 984 02c2 1837     		adds	r7, r7, #24
 985              	.LCFI35:
 986              		.cfi_def_cfa_offset 24
 987 02c4 BD46     		mov	sp, r7
 988              	.LCFI36:
 989              		.cfi_def_cfa_register 13
 990              		@ sp needed
 991 02c6 BDE88040 		pop	{r7, lr}
 992              	.LCFI37:
 993              		.cfi_restore 14
 994              		.cfi_restore 7
 995              		.cfi_def_cfa_offset 16
 996 02ca 04B0     		add	sp, sp, #16
 997              	.LCFI38:
 998              		.cfi_def_cfa_offset 0
 999 02cc 7047     		bx	lr
 1000              	.L63:
 1001 02ce 00BF     		.align	2
 1002              	.L62:
 1003 02d0 00018000 		.word	8388864
 1004 02d4 00383C80 		.word	-2143537152
 1005              		.cfi_endproc
 1006              	.LFE135:
 1008              		.section	.text.USB_FlushTxFifo,"ax",%progbits
 1009              		.align	1
 1010              		.global	USB_FlushTxFifo
 1011              		.syntax unified
 1012              		.thumb
 1013              		.thumb_func
 1014              		.fpu fpv4-sp-d16
 1016              	USB_FlushTxFifo:
 1017              	.LFB136:
 453:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 454:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 455:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_OTG_FlushTxFifo : Flush a Tx FIFO
 456:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 457:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  num  FIFO number
 458:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
 459:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****             15 means Flush all Tx FIFOs
 460:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 461:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 462:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_FlushTxFifo(USB_OTG_GlobalTypeDef *USBx, uint32_t num)
 463:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1018              		.loc 1 463 0
 1019              		.cfi_startproc
 1020              		@ args = 0, pretend = 0, frame = 16
 1021              		@ frame_needed = 1, uses_anonymous_args = 0
 1022              		@ link register save eliminated.
 1023 0000 80B4     		push	{r7}
 1024              	.LCFI39:
 1025              		.cfi_def_cfa_offset 4
 1026              		.cfi_offset 7, -4
ARM GAS  /tmp/ccjl6mF2.s 			page 27


 1027 0002 85B0     		sub	sp, sp, #20
 1028              	.LCFI40:
 1029              		.cfi_def_cfa_offset 24
 1030 0004 00AF     		add	r7, sp, #0
 1031              	.LCFI41:
 1032              		.cfi_def_cfa_register 7
 1033 0006 7860     		str	r0, [r7, #4]
 1034 0008 3960     		str	r1, [r7]
 464:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count = 0U;
 1035              		.loc 1 464 0
 1036 000a 0023     		movs	r3, #0
 1037 000c FB60     		str	r3, [r7, #12]
 465:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 466:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GRSTCTL = (USB_OTG_GRSTCTL_TXFFLSH | (num << 6));
 1038              		.loc 1 466 0
 1039 000e 3B68     		ldr	r3, [r7]
 1040 0010 9B01     		lsls	r3, r3, #6
 1041 0012 43F02002 		orr	r2, r3, #32
 1042 0016 7B68     		ldr	r3, [r7, #4]
 1043 0018 1A61     		str	r2, [r3, #16]
 1044              	.L67:
 467:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 468:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
 469:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 470:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (++count > 200000U)
 1045              		.loc 1 470 0
 1046 001a FB68     		ldr	r3, [r7, #12]
 1047 001c 0133     		adds	r3, r3, #1
 1048 001e FB60     		str	r3, [r7, #12]
 1049 0020 FB68     		ldr	r3, [r7, #12]
 1050 0022 094A     		ldr	r2, .L68
 1051 0024 9342     		cmp	r3, r2
 1052 0026 01D9     		bls	.L65
 471:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 472:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
 1053              		.loc 1 472 0
 1054 0028 0323     		movs	r3, #3
 1055 002a 06E0     		b	.L66
 1056              	.L65:
 473:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 474:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 475:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_TXFFLSH) == USB_OTG_GRSTCTL_TXFFLSH);
 1057              		.loc 1 475 0
 1058 002c 7B68     		ldr	r3, [r7, #4]
 1059 002e 1B69     		ldr	r3, [r3, #16]
 1060 0030 03F02003 		and	r3, r3, #32
 1061 0034 202B     		cmp	r3, #32
 1062 0036 F0D0     		beq	.L67
 476:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 477:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1063              		.loc 1 477 0
 1064 0038 0023     		movs	r3, #0
 1065              	.L66:
 478:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1066              		.loc 1 478 0
 1067 003a 1846     		mov	r0, r3
 1068 003c 1437     		adds	r7, r7, #20
ARM GAS  /tmp/ccjl6mF2.s 			page 28


 1069              	.LCFI42:
 1070              		.cfi_def_cfa_offset 4
 1071 003e BD46     		mov	sp, r7
 1072              	.LCFI43:
 1073              		.cfi_def_cfa_register 13
 1074              		@ sp needed
 1075 0040 5DF8047B 		ldr	r7, [sp], #4
 1076              	.LCFI44:
 1077              		.cfi_restore 7
 1078              		.cfi_def_cfa_offset 0
 1079 0044 7047     		bx	lr
 1080              	.L69:
 1081 0046 00BF     		.align	2
 1082              	.L68:
 1083 0048 400D0300 		.word	200000
 1084              		.cfi_endproc
 1085              	.LFE136:
 1087              		.section	.text.USB_FlushRxFifo,"ax",%progbits
 1088              		.align	1
 1089              		.global	USB_FlushRxFifo
 1090              		.syntax unified
 1091              		.thumb
 1092              		.thumb_func
 1093              		.fpu fpv4-sp-d16
 1095              	USB_FlushRxFifo:
 1096              	.LFB137:
 479:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 480:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 481:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_FlushRxFifo : Flush Rx FIFO
 482:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 483:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 484:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 485:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_FlushRxFifo(USB_OTG_GlobalTypeDef *USBx)
 486:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1097              		.loc 1 486 0
 1098              		.cfi_startproc
 1099              		@ args = 0, pretend = 0, frame = 16
 1100              		@ frame_needed = 1, uses_anonymous_args = 0
 1101              		@ link register save eliminated.
 1102 0000 80B4     		push	{r7}
 1103              	.LCFI45:
 1104              		.cfi_def_cfa_offset 4
 1105              		.cfi_offset 7, -4
 1106 0002 85B0     		sub	sp, sp, #20
 1107              	.LCFI46:
 1108              		.cfi_def_cfa_offset 24
 1109 0004 00AF     		add	r7, sp, #0
 1110              	.LCFI47:
 1111              		.cfi_def_cfa_register 7
 1112 0006 7860     		str	r0, [r7, #4]
 487:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count = 0;
 1113              		.loc 1 487 0
 1114 0008 0023     		movs	r3, #0
 1115 000a FB60     		str	r3, [r7, #12]
 488:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 489:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GRSTCTL = USB_OTG_GRSTCTL_RXFFLSH;
 1116              		.loc 1 489 0
ARM GAS  /tmp/ccjl6mF2.s 			page 29


 1117 000c 7B68     		ldr	r3, [r7, #4]
 1118 000e 1022     		movs	r2, #16
 1119 0010 1A61     		str	r2, [r3, #16]
 1120              	.L73:
 490:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 491:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
 492:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 493:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (++count > 200000U)
 1121              		.loc 1 493 0
 1122 0012 FB68     		ldr	r3, [r7, #12]
 1123 0014 0133     		adds	r3, r3, #1
 1124 0016 FB60     		str	r3, [r7, #12]
 1125 0018 FB68     		ldr	r3, [r7, #12]
 1126 001a 094A     		ldr	r2, .L74
 1127 001c 9342     		cmp	r3, r2
 1128 001e 01D9     		bls	.L71
 494:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 495:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
 1129              		.loc 1 495 0
 1130 0020 0323     		movs	r3, #3
 1131 0022 06E0     		b	.L72
 1132              	.L71:
 496:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 497:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 498:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_RXFFLSH) == USB_OTG_GRSTCTL_RXFFLSH);
 1133              		.loc 1 498 0
 1134 0024 7B68     		ldr	r3, [r7, #4]
 1135 0026 1B69     		ldr	r3, [r3, #16]
 1136 0028 03F01003 		and	r3, r3, #16
 1137 002c 102B     		cmp	r3, #16
 1138 002e F0D0     		beq	.L73
 499:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 500:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1139              		.loc 1 500 0
 1140 0030 0023     		movs	r3, #0
 1141              	.L72:
 501:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1142              		.loc 1 501 0
 1143 0032 1846     		mov	r0, r3
 1144 0034 1437     		adds	r7, r7, #20
 1145              	.LCFI48:
 1146              		.cfi_def_cfa_offset 4
 1147 0036 BD46     		mov	sp, r7
 1148              	.LCFI49:
 1149              		.cfi_def_cfa_register 13
 1150              		@ sp needed
 1151 0038 5DF8047B 		ldr	r7, [sp], #4
 1152              	.LCFI50:
 1153              		.cfi_restore 7
 1154              		.cfi_def_cfa_offset 0
 1155 003c 7047     		bx	lr
 1156              	.L75:
 1157 003e 00BF     		.align	2
 1158              	.L74:
 1159 0040 400D0300 		.word	200000
 1160              		.cfi_endproc
 1161              	.LFE137:
ARM GAS  /tmp/ccjl6mF2.s 			page 30


 1163              		.section	.text.USB_SetDevSpeed,"ax",%progbits
 1164              		.align	1
 1165              		.global	USB_SetDevSpeed
 1166              		.syntax unified
 1167              		.thumb
 1168              		.thumb_func
 1169              		.fpu fpv4-sp-d16
 1171              	USB_SetDevSpeed:
 1172              	.LFB138:
 502:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 503:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 504:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_SetDevSpeed  Initializes the DevSpd field of DCFG register
 505:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         depending the PHY type and the enumeration speed of the device.
 506:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 507:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  speed  device speed
 508:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 509:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_HIGH: High speed mode
 510:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_HIGH_IN_FULL: High speed core in Full Speed mode
 511:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_FULL: Full speed mode
 512:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval  Hal status
 513:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 514:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_SetDevSpeed(USB_OTG_GlobalTypeDef *USBx, uint8_t speed)
 515:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1173              		.loc 1 515 0
 1174              		.cfi_startproc
 1175              		@ args = 0, pretend = 0, frame = 16
 1176              		@ frame_needed = 1, uses_anonymous_args = 0
 1177              		@ link register save eliminated.
 1178 0000 80B4     		push	{r7}
 1179              	.LCFI51:
 1180              		.cfi_def_cfa_offset 4
 1181              		.cfi_offset 7, -4
 1182 0002 85B0     		sub	sp, sp, #20
 1183              	.LCFI52:
 1184              		.cfi_def_cfa_offset 24
 1185 0004 00AF     		add	r7, sp, #0
 1186              	.LCFI53:
 1187              		.cfi_def_cfa_register 7
 1188 0006 7860     		str	r0, [r7, #4]
 1189 0008 0B46     		mov	r3, r1
 1190 000a FB70     		strb	r3, [r7, #3]
 516:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1191              		.loc 1 516 0
 1192 000c 7B68     		ldr	r3, [r7, #4]
 1193 000e FB60     		str	r3, [r7, #12]
 517:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 518:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCFG |= speed;
 1194              		.loc 1 518 0
 1195 0010 FB68     		ldr	r3, [r7, #12]
 1196 0012 03F50063 		add	r3, r3, #2048
 1197 0016 1A68     		ldr	r2, [r3]
 1198 0018 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1199 001a F968     		ldr	r1, [r7, #12]
 1200 001c 01F50061 		add	r1, r1, #2048
 1201 0020 1343     		orrs	r3, r3, r2
 1202 0022 0B60     		str	r3, [r1]
 519:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
ARM GAS  /tmp/ccjl6mF2.s 			page 31


 1203              		.loc 1 519 0
 1204 0024 0023     		movs	r3, #0
 520:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1205              		.loc 1 520 0
 1206 0026 1846     		mov	r0, r3
 1207 0028 1437     		adds	r7, r7, #20
 1208              	.LCFI54:
 1209              		.cfi_def_cfa_offset 4
 1210 002a BD46     		mov	sp, r7
 1211              	.LCFI55:
 1212              		.cfi_def_cfa_register 13
 1213              		@ sp needed
 1214 002c 5DF8047B 		ldr	r7, [sp], #4
 1215              	.LCFI56:
 1216              		.cfi_restore 7
 1217              		.cfi_def_cfa_offset 0
 1218 0030 7047     		bx	lr
 1219              		.cfi_endproc
 1220              	.LFE138:
 1222              		.section	.text.USB_GetDevSpeed,"ax",%progbits
 1223              		.align	1
 1224              		.global	USB_GetDevSpeed
 1225              		.syntax unified
 1226              		.thumb
 1227              		.thumb_func
 1228              		.fpu fpv4-sp-d16
 1230              	USB_GetDevSpeed:
 1231              	.LFB139:
 521:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 522:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 523:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_GetDevSpeed  Return the Dev Speed
 524:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 525:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval speed  device speed
 526:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 527:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg PCD_SPEED_HIGH: High speed mode
 528:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg PCD_SPEED_FULL: Full speed mode
 529:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 530:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint8_t USB_GetDevSpeed(USB_OTG_GlobalTypeDef *USBx)
 531:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1232              		.loc 1 531 0
 1233              		.cfi_startproc
 1234              		@ args = 0, pretend = 0, frame = 24
 1235              		@ frame_needed = 1, uses_anonymous_args = 0
 1236              		@ link register save eliminated.
 1237 0000 80B4     		push	{r7}
 1238              	.LCFI57:
 1239              		.cfi_def_cfa_offset 4
 1240              		.cfi_offset 7, -4
 1241 0002 87B0     		sub	sp, sp, #28
 1242              	.LCFI58:
 1243              		.cfi_def_cfa_offset 32
 1244 0004 00AF     		add	r7, sp, #0
 1245              	.LCFI59:
 1246              		.cfi_def_cfa_register 7
 1247 0006 7860     		str	r0, [r7, #4]
 532:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1248              		.loc 1 532 0
ARM GAS  /tmp/ccjl6mF2.s 			page 32


 1249 0008 7B68     		ldr	r3, [r7, #4]
 1250 000a 3B61     		str	r3, [r7, #16]
 533:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint8_t speed;
 534:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t DevEnumSpeed = USBx_DEVICE->DSTS & USB_OTG_DSTS_ENUMSPD;
 1251              		.loc 1 534 0
 1252 000c 3B69     		ldr	r3, [r7, #16]
 1253 000e 03F50063 		add	r3, r3, #2048
 1254 0012 9B68     		ldr	r3, [r3, #8]
 1255 0014 03F00603 		and	r3, r3, #6
 1256 0018 FB60     		str	r3, [r7, #12]
 535:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 536:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (DevEnumSpeed == DSTS_ENUMSPD_HS_PHY_30MHZ_OR_60MHZ)
 1257              		.loc 1 536 0
 1258 001a FB68     		ldr	r3, [r7, #12]
 1259 001c 002B     		cmp	r3, #0
 1260 001e 02D1     		bne	.L79
 537:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 538:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     speed = USBD_HS_SPEED;
 1261              		.loc 1 538 0
 1262 0020 0023     		movs	r3, #0
 1263 0022 FB75     		strb	r3, [r7, #23]
 1264 0024 0AE0     		b	.L80
 1265              	.L79:
 539:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 540:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else if ((DevEnumSpeed == DSTS_ENUMSPD_FS_PHY_30MHZ_OR_60MHZ) ||
 1266              		.loc 1 540 0
 1267 0026 FB68     		ldr	r3, [r7, #12]
 1268 0028 022B     		cmp	r3, #2
 1269 002a 02D0     		beq	.L81
 1270              		.loc 1 540 0 is_stmt 0 discriminator 1
 1271 002c FB68     		ldr	r3, [r7, #12]
 1272 002e 062B     		cmp	r3, #6
 1273 0030 02D1     		bne	.L82
 1274              	.L81:
 541:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****            (DevEnumSpeed == DSTS_ENUMSPD_FS_PHY_48MHZ))
 542:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 543:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     speed = USBD_FS_SPEED;
 1275              		.loc 1 543 0 is_stmt 1
 1276 0032 0223     		movs	r3, #2
 1277 0034 FB75     		strb	r3, [r7, #23]
 1278 0036 01E0     		b	.L80
 1279              	.L82:
 544:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 545:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 546:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 547:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     speed = 0xFU;
 1280              		.loc 1 547 0
 1281 0038 0F23     		movs	r3, #15
 1282 003a FB75     		strb	r3, [r7, #23]
 1283              	.L80:
 548:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 549:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 550:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return speed;
 1284              		.loc 1 550 0
 1285 003c FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 551:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1286              		.loc 1 551 0
ARM GAS  /tmp/ccjl6mF2.s 			page 33


 1287 003e 1846     		mov	r0, r3
 1288 0040 1C37     		adds	r7, r7, #28
 1289              	.LCFI60:
 1290              		.cfi_def_cfa_offset 4
 1291 0042 BD46     		mov	sp, r7
 1292              	.LCFI61:
 1293              		.cfi_def_cfa_register 13
 1294              		@ sp needed
 1295 0044 5DF8047B 		ldr	r7, [sp], #4
 1296              	.LCFI62:
 1297              		.cfi_restore 7
 1298              		.cfi_def_cfa_offset 0
 1299 0048 7047     		bx	lr
 1300              		.cfi_endproc
 1301              	.LFE139:
 1303              		.section	.text.USB_ActivateEndpoint,"ax",%progbits
 1304              		.align	1
 1305              		.global	USB_ActivateEndpoint
 1306              		.syntax unified
 1307              		.thumb
 1308              		.thumb_func
 1309              		.fpu fpv4-sp-d16
 1311              	USB_ActivateEndpoint:
 1312              	.LFB140:
 552:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 553:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 554:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Activate and configure an endpoint
 555:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 556:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 557:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 558:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 559:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 560:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1313              		.loc 1 560 0
 1314              		.cfi_startproc
 1315              		@ args = 0, pretend = 0, frame = 16
 1316              		@ frame_needed = 1, uses_anonymous_args = 0
 1317              		@ link register save eliminated.
 1318 0000 80B4     		push	{r7}
 1319              	.LCFI63:
 1320              		.cfi_def_cfa_offset 4
 1321              		.cfi_offset 7, -4
 1322 0002 85B0     		sub	sp, sp, #20
 1323              	.LCFI64:
 1324              		.cfi_def_cfa_offset 24
 1325 0004 00AF     		add	r7, sp, #0
 1326              	.LCFI65:
 1327              		.cfi_def_cfa_register 7
 1328 0006 7860     		str	r0, [r7, #4]
 1329 0008 3960     		str	r1, [r7]
 561:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1330              		.loc 1 561 0
 1331 000a 7B68     		ldr	r3, [r7, #4]
 1332 000c FB60     		str	r3, [r7, #12]
 562:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 1333              		.loc 1 562 0
 1334 000e 3B68     		ldr	r3, [r7]
ARM GAS  /tmp/ccjl6mF2.s 			page 34


 1335 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1336 0012 BB60     		str	r3, [r7, #8]
 563:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 564:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 1337              		.loc 1 564 0
 1338 0014 3B68     		ldr	r3, [r7]
 1339 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1340 0018 012B     		cmp	r3, #1
 1341 001a 3AD1     		bne	.L85
 565:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 566:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK |= USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK));
 1342              		.loc 1 566 0
 1343 001c FB68     		ldr	r3, [r7, #12]
 1344 001e 03F50063 		add	r3, r3, #2048
 1345 0022 DA69     		ldr	r2, [r3, #28]
 1346 0024 3B68     		ldr	r3, [r7]
 1347 0026 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1348 0028 03F00F03 		and	r3, r3, #15
 1349 002c 0121     		movs	r1, #1
 1350 002e 01FA03F3 		lsl	r3, r1, r3
 1351 0032 9BB2     		uxth	r3, r3
 1352 0034 F968     		ldr	r1, [r7, #12]
 1353 0036 01F50061 		add	r1, r1, #2048
 1354 003a 1343     		orrs	r3, r3, r2
 1355 003c CB61     		str	r3, [r1, #28]
 567:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 568:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_INEP(epnum)->DIEPCTL & USB_OTG_DIEPCTL_USBAEP) == 0U)
 1356              		.loc 1 568 0
 1357 003e BB68     		ldr	r3, [r7, #8]
 1358 0040 5A01     		lsls	r2, r3, #5
 1359 0042 FB68     		ldr	r3, [r7, #12]
 1360 0044 1344     		add	r3, r3, r2
 1361 0046 03F51063 		add	r3, r3, #2304
 1362 004a 1B68     		ldr	r3, [r3]
 1363 004c 03F40043 		and	r3, r3, #32768
 1364 0050 002B     		cmp	r3, #0
 1365 0052 55D1     		bne	.L87
 569:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 570:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (ep->maxpacket & USB_OTG_DIEPCTL_MPSIZ) |
 1366              		.loc 1 570 0
 1367 0054 BB68     		ldr	r3, [r7, #8]
 1368 0056 5A01     		lsls	r2, r3, #5
 1369 0058 FB68     		ldr	r3, [r7, #12]
 1370 005a 1344     		add	r3, r3, r2
 1371 005c 03F51063 		add	r3, r3, #2304
 1372 0060 1A68     		ldr	r2, [r3]
 1373 0062 3B68     		ldr	r3, [r7]
 1374 0064 9B68     		ldr	r3, [r3, #8]
 1375 0066 C3F30A01 		ubfx	r1, r3, #0, #11
 571:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1376              		.loc 1 571 0
 1377 006a 3B68     		ldr	r3, [r7]
 1378 006c DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 1379 006e 9B04     		lsls	r3, r3, #18
 570:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1380              		.loc 1 570 0
 1381 0070 1943     		orrs	r1, r1, r3
ARM GAS  /tmp/ccjl6mF2.s 			page 35


 1382              		.loc 1 571 0
 1383 0072 BB68     		ldr	r3, [r7, #8]
 1384 0074 9B05     		lsls	r3, r3, #22
 1385 0076 0B43     		orrs	r3, r3, r1
 570:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1386              		.loc 1 570 0
 1387 0078 1343     		orrs	r3, r3, r2
 1388 007a BA68     		ldr	r2, [r7, #8]
 1389 007c 5101     		lsls	r1, r2, #5
 1390 007e FA68     		ldr	r2, [r7, #12]
 1391 0080 0A44     		add	r2, r2, r1
 1392 0082 02F51062 		add	r2, r2, #2304
 1393 0086 43F08053 		orr	r3, r3, #268435456
 1394 008a 43F40043 		orr	r3, r3, #32768
 1395 008e 1360     		str	r3, [r2]
 1396 0090 36E0     		b	.L87
 1397              	.L85:
 572:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_SD0PID_SEVNFRM |
 573:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_USBAEP;
 574:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 575:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 576:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 577:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 578:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK |= USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) <<
 1398              		.loc 1 578 0
 1399 0092 FB68     		ldr	r3, [r7, #12]
 1400 0094 03F50063 		add	r3, r3, #2048
 1401 0098 DA69     		ldr	r2, [r3, #28]
 1402 009a 3B68     		ldr	r3, [r7]
 1403 009c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1404 009e 03F00F03 		and	r3, r3, #15
 1405 00a2 0121     		movs	r1, #1
 1406 00a4 01FA03F3 		lsl	r3, r1, r3
 1407 00a8 1B04     		lsls	r3, r3, #16
 1408 00aa F968     		ldr	r1, [r7, #12]
 1409 00ac 01F50061 		add	r1, r1, #2048
 1410 00b0 1343     		orrs	r3, r3, r2
 1411 00b2 CB61     		str	r3, [r1, #28]
 579:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 580:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_OUTEP(epnum)->DOEPCTL) & USB_OTG_DOEPCTL_USBAEP) == 0U)
 1412              		.loc 1 580 0
 1413 00b4 BB68     		ldr	r3, [r7, #8]
 1414 00b6 5A01     		lsls	r2, r3, #5
 1415 00b8 FB68     		ldr	r3, [r7, #12]
 1416 00ba 1344     		add	r3, r3, r2
 1417 00bc 03F53063 		add	r3, r3, #2816
 1418 00c0 1B68     		ldr	r3, [r3]
 1419 00c2 03F40043 		and	r3, r3, #32768
 1420 00c6 002B     		cmp	r3, #0
 1421 00c8 1AD1     		bne	.L87
 581:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 582:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= (ep->maxpacket & USB_OTG_DOEPCTL_MPSIZ) |
 1422              		.loc 1 582 0
 1423 00ca BB68     		ldr	r3, [r7, #8]
 1424 00cc 5A01     		lsls	r2, r3, #5
 1425 00ce FB68     		ldr	r3, [r7, #12]
 1426 00d0 1344     		add	r3, r3, r2
ARM GAS  /tmp/ccjl6mF2.s 			page 36


 1427 00d2 03F53063 		add	r3, r3, #2816
 1428 00d6 1A68     		ldr	r2, [r3]
 1429 00d8 3B68     		ldr	r3, [r7]
 1430 00da 9B68     		ldr	r3, [r3, #8]
 1431 00dc C3F30A01 		ubfx	r1, r3, #0, #11
 583:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) |
 1432              		.loc 1 583 0
 1433 00e0 3B68     		ldr	r3, [r7]
 1434 00e2 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 1435 00e4 9B04     		lsls	r3, r3, #18
 582:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) |
 1436              		.loc 1 582 0
 1437 00e6 0B43     		orrs	r3, r3, r1
 1438 00e8 1343     		orrs	r3, r3, r2
 1439 00ea BA68     		ldr	r2, [r7, #8]
 1440 00ec 5101     		lsls	r1, r2, #5
 1441 00ee FA68     		ldr	r2, [r7, #12]
 1442 00f0 0A44     		add	r2, r2, r1
 1443 00f2 02F53062 		add	r2, r2, #2816
 1444 00f6 43F08053 		orr	r3, r3, #268435456
 1445 00fa 43F40043 		orr	r3, r3, #32768
 1446 00fe 1360     		str	r3, [r2]
 1447              	.L87:
 584:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     USB_OTG_DIEPCTL_SD0PID_SEVNFRM |
 585:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_USBAEP;
 586:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 587:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 588:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1448              		.loc 1 588 0
 1449 0100 0023     		movs	r3, #0
 589:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1450              		.loc 1 589 0
 1451 0102 1846     		mov	r0, r3
 1452 0104 1437     		adds	r7, r7, #20
 1453              	.LCFI66:
 1454              		.cfi_def_cfa_offset 4
 1455 0106 BD46     		mov	sp, r7
 1456              	.LCFI67:
 1457              		.cfi_def_cfa_register 13
 1458              		@ sp needed
 1459 0108 5DF8047B 		ldr	r7, [sp], #4
 1460              	.LCFI68:
 1461              		.cfi_restore 7
 1462              		.cfi_def_cfa_offset 0
 1463 010c 7047     		bx	lr
 1464              		.cfi_endproc
 1465              	.LFE140:
 1467              		.section	.text.USB_ActivateDedicatedEndpoint,"ax",%progbits
 1468              		.align	1
 1469              		.global	USB_ActivateDedicatedEndpoint
 1470              		.syntax unified
 1471              		.thumb
 1472              		.thumb_func
 1473              		.fpu fpv4-sp-d16
 1475              	USB_ActivateDedicatedEndpoint:
 1476              	.LFB141:
 590:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
ARM GAS  /tmp/ccjl6mF2.s 			page 37


 591:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 592:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Activate and configure a dedicated endpoint
 593:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 594:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 595:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 596:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 597:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateDedicatedEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 598:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1477              		.loc 1 598 0
 1478              		.cfi_startproc
 1479              		@ args = 0, pretend = 0, frame = 16
 1480              		@ frame_needed = 1, uses_anonymous_args = 0
 1481              		@ link register save eliminated.
 1482 0000 80B4     		push	{r7}
 1483              	.LCFI69:
 1484              		.cfi_def_cfa_offset 4
 1485              		.cfi_offset 7, -4
 1486 0002 85B0     		sub	sp, sp, #20
 1487              	.LCFI70:
 1488              		.cfi_def_cfa_offset 24
 1489 0004 00AF     		add	r7, sp, #0
 1490              	.LCFI71:
 1491              		.cfi_def_cfa_register 7
 1492 0006 7860     		str	r0, [r7, #4]
 1493 0008 3960     		str	r1, [r7]
 599:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1494              		.loc 1 599 0
 1495 000a 7B68     		ldr	r3, [r7, #4]
 1496 000c FB60     		str	r3, [r7, #12]
 600:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 1497              		.loc 1 600 0
 1498 000e 3B68     		ldr	r3, [r7]
 1499 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1500 0012 BB60     		str	r3, [r7, #8]
 601:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 602:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Read DEPCTLn register */
 603:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 1501              		.loc 1 603 0
 1502 0014 3B68     		ldr	r3, [r7]
 1503 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1504 0018 012B     		cmp	r3, #1
 1505 001a 3AD1     		bne	.L90
 604:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 605:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_INEP(epnum)->DIEPCTL) & USB_OTG_DIEPCTL_USBAEP) == 0U)
 1506              		.loc 1 605 0
 1507 001c BB68     		ldr	r3, [r7, #8]
 1508 001e 5A01     		lsls	r2, r3, #5
 1509 0020 FB68     		ldr	r3, [r7, #12]
 1510 0022 1344     		add	r3, r3, r2
 1511 0024 03F51063 		add	r3, r3, #2304
 1512 0028 1B68     		ldr	r3, [r3]
 1513 002a 03F40043 		and	r3, r3, #32768
 1514 002e 002B     		cmp	r3, #0
 1515 0030 1DD1     		bne	.L91
 606:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 607:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (ep->maxpacket & USB_OTG_DIEPCTL_MPSIZ) |
 1516              		.loc 1 607 0
ARM GAS  /tmp/ccjl6mF2.s 			page 38


 1517 0032 BB68     		ldr	r3, [r7, #8]
 1518 0034 5A01     		lsls	r2, r3, #5
 1519 0036 FB68     		ldr	r3, [r7, #12]
 1520 0038 1344     		add	r3, r3, r2
 1521 003a 03F51063 		add	r3, r3, #2304
 1522 003e 1A68     		ldr	r2, [r3]
 1523 0040 3B68     		ldr	r3, [r7]
 1524 0042 9B68     		ldr	r3, [r3, #8]
 1525 0044 C3F30A01 		ubfx	r1, r3, #0, #11
 608:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1526              		.loc 1 608 0
 1527 0048 3B68     		ldr	r3, [r7]
 1528 004a DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 1529 004c 9B04     		lsls	r3, r3, #18
 607:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1530              		.loc 1 607 0
 1531 004e 1943     		orrs	r1, r1, r3
 1532              		.loc 1 608 0
 1533 0050 BB68     		ldr	r3, [r7, #8]
 1534 0052 9B05     		lsls	r3, r3, #22
 1535 0054 0B43     		orrs	r3, r3, r1
 607:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1536              		.loc 1 607 0
 1537 0056 1343     		orrs	r3, r3, r2
 1538 0058 BA68     		ldr	r2, [r7, #8]
 1539 005a 5101     		lsls	r1, r2, #5
 1540 005c FA68     		ldr	r2, [r7, #12]
 1541 005e 0A44     		add	r2, r2, r1
 1542 0060 02F51062 		add	r2, r2, #2304
 1543 0064 43F08053 		orr	r3, r3, #268435456
 1544 0068 43F40043 		orr	r3, r3, #32768
 1545 006c 1360     		str	r3, [r2]
 1546              	.L91:
 609:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_SD0PID_SEVNFRM |
 610:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_USBAEP;
 611:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 612:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 613:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK |= USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK));
 1547              		.loc 1 613 0
 1548 006e FB68     		ldr	r3, [r7, #12]
 1549 0070 03F50063 		add	r3, r3, #2048
 1550 0074 DA6B     		ldr	r2, [r3, #60]
 1551 0076 3B68     		ldr	r3, [r7]
 1552 0078 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1553 007a 03F00F03 		and	r3, r3, #15
 1554 007e 0121     		movs	r1, #1
 1555 0080 01FA03F3 		lsl	r3, r1, r3
 1556 0084 9BB2     		uxth	r3, r3
 1557 0086 F968     		ldr	r1, [r7, #12]
 1558 0088 01F50061 		add	r1, r1, #2048
 1559 008c 1343     		orrs	r3, r3, r2
 1560 008e CB63     		str	r3, [r1, #60]
 1561 0090 37E0     		b	.L92
 1562              	.L90:
 614:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 615:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 616:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
ARM GAS  /tmp/ccjl6mF2.s 			page 39


 617:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_OUTEP(epnum)->DOEPCTL) & USB_OTG_DOEPCTL_USBAEP) == 0U)
 1563              		.loc 1 617 0
 1564 0092 BB68     		ldr	r3, [r7, #8]
 1565 0094 5A01     		lsls	r2, r3, #5
 1566 0096 FB68     		ldr	r3, [r7, #12]
 1567 0098 1344     		add	r3, r3, r2
 1568 009a 03F53063 		add	r3, r3, #2816
 1569 009e 1B68     		ldr	r3, [r3]
 1570 00a0 03F40043 		and	r3, r3, #32768
 1571 00a4 002B     		cmp	r3, #0
 1572 00a6 1BD1     		bne	.L93
 618:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 619:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= (ep->maxpacket & USB_OTG_DOEPCTL_MPSIZ) |
 1573              		.loc 1 619 0
 1574 00a8 BB68     		ldr	r3, [r7, #8]
 1575 00aa 5A01     		lsls	r2, r3, #5
 1576 00ac FB68     		ldr	r3, [r7, #12]
 1577 00ae 1344     		add	r3, r3, r2
 1578 00b0 03F53063 		add	r3, r3, #2816
 1579 00b4 1A68     		ldr	r2, [r3]
 1580 00b6 3B68     		ldr	r3, [r7]
 1581 00b8 9B68     		ldr	r3, [r3, #8]
 1582 00ba C3F30A01 		ubfx	r1, r3, #0, #11
 620:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) | (epnum << 22) |
 1583              		.loc 1 620 0
 1584 00be 3B68     		ldr	r3, [r7]
 1585 00c0 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 1586 00c2 9B04     		lsls	r3, r3, #18
 619:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) | (epnum << 22) |
 1587              		.loc 1 619 0
 1588 00c4 1943     		orrs	r1, r1, r3
 1589              		.loc 1 620 0
 1590 00c6 BB68     		ldr	r3, [r7, #8]
 1591 00c8 9B05     		lsls	r3, r3, #22
 1592 00ca 0B43     		orrs	r3, r3, r1
 619:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) | (epnum << 22) |
 1593              		.loc 1 619 0
 1594 00cc 1343     		orrs	r3, r3, r2
 1595 00ce BA68     		ldr	r2, [r7, #8]
 1596 00d0 5101     		lsls	r1, r2, #5
 1597 00d2 FA68     		ldr	r2, [r7, #12]
 1598 00d4 0A44     		add	r2, r2, r1
 1599 00d6 02F53062 		add	r2, r2, #2816
 1600 00da 43F40043 		orr	r3, r3, #32768
 1601 00de 1360     		str	r3, [r2]
 1602              	.L93:
 621:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_USBAEP;
 622:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 623:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 624:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK |= USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) <<
 1603              		.loc 1 624 0
 1604 00e0 FB68     		ldr	r3, [r7, #12]
 1605 00e2 03F50063 		add	r3, r3, #2048
 1606 00e6 DA6B     		ldr	r2, [r3, #60]
 1607 00e8 3B68     		ldr	r3, [r7]
 1608 00ea 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1609 00ec 03F00F03 		and	r3, r3, #15
ARM GAS  /tmp/ccjl6mF2.s 			page 40


 1610 00f0 0121     		movs	r1, #1
 1611 00f2 01FA03F3 		lsl	r3, r1, r3
 1612 00f6 1B04     		lsls	r3, r3, #16
 1613 00f8 F968     		ldr	r1, [r7, #12]
 1614 00fa 01F50061 		add	r1, r1, #2048
 1615 00fe 1343     		orrs	r3, r3, r2
 1616 0100 CB63     		str	r3, [r1, #60]
 1617              	.L92:
 625:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 626:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 627:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1618              		.loc 1 627 0
 1619 0102 0023     		movs	r3, #0
 628:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1620              		.loc 1 628 0
 1621 0104 1846     		mov	r0, r3
 1622 0106 1437     		adds	r7, r7, #20
 1623              	.LCFI72:
 1624              		.cfi_def_cfa_offset 4
 1625 0108 BD46     		mov	sp, r7
 1626              	.LCFI73:
 1627              		.cfi_def_cfa_register 13
 1628              		@ sp needed
 1629 010a 5DF8047B 		ldr	r7, [sp], #4
 1630              	.LCFI74:
 1631              		.cfi_restore 7
 1632              		.cfi_def_cfa_offset 0
 1633 010e 7047     		bx	lr
 1634              		.cfi_endproc
 1635              	.LFE141:
 1637              		.section	.text.USB_DeactivateEndpoint,"ax",%progbits
 1638              		.align	1
 1639              		.global	USB_DeactivateEndpoint
 1640              		.syntax unified
 1641              		.thumb
 1642              		.thumb_func
 1643              		.fpu fpv4-sp-d16
 1645              	USB_DeactivateEndpoint:
 1646              	.LFB142:
 629:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 630:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 631:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  De-activate and de-initialize an endpoint
 632:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 633:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 634:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 635:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 636:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DeactivateEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 637:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1647              		.loc 1 637 0
 1648              		.cfi_startproc
 1649              		@ args = 0, pretend = 0, frame = 16
 1650              		@ frame_needed = 1, uses_anonymous_args = 0
 1651              		@ link register save eliminated.
 1652 0000 80B4     		push	{r7}
 1653              	.LCFI75:
 1654              		.cfi_def_cfa_offset 4
 1655              		.cfi_offset 7, -4
ARM GAS  /tmp/ccjl6mF2.s 			page 41


 1656 0002 85B0     		sub	sp, sp, #20
 1657              	.LCFI76:
 1658              		.cfi_def_cfa_offset 24
 1659 0004 00AF     		add	r7, sp, #0
 1660              	.LCFI77:
 1661              		.cfi_def_cfa_register 7
 1662 0006 7860     		str	r0, [r7, #4]
 1663 0008 3960     		str	r1, [r7]
 638:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1664              		.loc 1 638 0
 1665 000a 7B68     		ldr	r3, [r7, #4]
 1666 000c FB60     		str	r3, [r7, #12]
 639:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 1667              		.loc 1 639 0
 1668 000e 3B68     		ldr	r3, [r7]
 1669 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1670 0012 BB60     		str	r3, [r7, #8]
 640:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 641:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Read DEPCTLn register */
 642:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 1671              		.loc 1 642 0
 1672 0014 3B68     		ldr	r3, [r7]
 1673 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1674 0018 012B     		cmp	r3, #1
 1675 001a 35D1     		bne	.L96
 643:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 644:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK &= ~(USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK)));
 1676              		.loc 1 644 0
 1677 001c FB68     		ldr	r3, [r7, #12]
 1678 001e 03F50063 		add	r3, r3, #2048
 1679 0022 DA6B     		ldr	r2, [r3, #60]
 1680 0024 3B68     		ldr	r3, [r7]
 1681 0026 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1682 0028 03F00F03 		and	r3, r3, #15
 1683 002c 0121     		movs	r1, #1
 1684 002e 01FA03F3 		lsl	r3, r1, r3
 1685 0032 9BB2     		uxth	r3, r3
 1686 0034 DB43     		mvns	r3, r3
 1687 0036 F968     		ldr	r1, [r7, #12]
 1688 0038 01F50061 		add	r1, r1, #2048
 1689 003c 1340     		ands	r3, r3, r2
 1690 003e CB63     		str	r3, [r1, #60]
 645:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK)));
 1691              		.loc 1 645 0
 1692 0040 FB68     		ldr	r3, [r7, #12]
 1693 0042 03F50063 		add	r3, r3, #2048
 1694 0046 DA69     		ldr	r2, [r3, #28]
 1695 0048 3B68     		ldr	r3, [r7]
 1696 004a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1697 004c 03F00F03 		and	r3, r3, #15
 1698 0050 0121     		movs	r1, #1
 1699 0052 01FA03F3 		lsl	r3, r1, r3
 1700 0056 9BB2     		uxth	r3, r3
 1701 0058 DB43     		mvns	r3, r3
 1702 005a F968     		ldr	r1, [r7, #12]
 1703 005c 01F50061 		add	r1, r1, #2048
 1704 0060 1340     		ands	r3, r3, r2
ARM GAS  /tmp/ccjl6mF2.s 			page 42


 1705 0062 CB61     		str	r3, [r1, #28]
 646:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL &= ~(USB_OTG_DIEPCTL_USBAEP |
 1706              		.loc 1 646 0
 1707 0064 BB68     		ldr	r3, [r7, #8]
 1708 0066 5A01     		lsls	r2, r3, #5
 1709 0068 FB68     		ldr	r3, [r7, #12]
 1710 006a 1344     		add	r3, r3, r2
 1711 006c 03F51063 		add	r3, r3, #2304
 1712 0070 1A68     		ldr	r2, [r3]
 1713 0072 BB68     		ldr	r3, [r7, #8]
 1714 0074 5901     		lsls	r1, r3, #5
 1715 0076 FB68     		ldr	r3, [r7, #12]
 1716 0078 0B44     		add	r3, r3, r1
 1717 007a 03F51063 		add	r3, r3, #2304
 1718 007e 1946     		mov	r1, r3
 1719 0080 1F4B     		ldr	r3, .L99
 1720 0082 1340     		ands	r3, r3, r2
 1721 0084 0B60     		str	r3, [r1]
 1722 0086 34E0     		b	.L97
 1723              	.L96:
 647:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_MPSIZ |
 648:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_TXFNUM |
 649:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_SD0PID_SEVNFRM |
 650:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_EPTYP);
 651:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 652:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 653:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 654:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK &= ~(USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) 
 1724              		.loc 1 654 0
 1725 0088 FB68     		ldr	r3, [r7, #12]
 1726 008a 03F50063 		add	r3, r3, #2048
 1727 008e DA6B     		ldr	r2, [r3, #60]
 1728 0090 3B68     		ldr	r3, [r7]
 1729 0092 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1730 0094 03F00F03 		and	r3, r3, #15
 1731 0098 0121     		movs	r1, #1
 1732 009a 01FA03F3 		lsl	r3, r1, r3
 1733 009e 1B04     		lsls	r3, r3, #16
 1734 00a0 DB43     		mvns	r3, r3
 1735 00a2 F968     		ldr	r1, [r7, #12]
 1736 00a4 01F50061 		add	r1, r1, #2048
 1737 00a8 1340     		ands	r3, r3, r2
 1738 00aa CB63     		str	r3, [r1, #60]
 655:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) 
 1739              		.loc 1 655 0
 1740 00ac FB68     		ldr	r3, [r7, #12]
 1741 00ae 03F50063 		add	r3, r3, #2048
 1742 00b2 DA69     		ldr	r2, [r3, #28]
 1743 00b4 3B68     		ldr	r3, [r7]
 1744 00b6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1745 00b8 03F00F03 		and	r3, r3, #15
 1746 00bc 0121     		movs	r1, #1
 1747 00be 01FA03F3 		lsl	r3, r1, r3
 1748 00c2 1B04     		lsls	r3, r3, #16
 1749 00c4 DB43     		mvns	r3, r3
 1750 00c6 F968     		ldr	r1, [r7, #12]
 1751 00c8 01F50061 		add	r1, r1, #2048
ARM GAS  /tmp/ccjl6mF2.s 			page 43


 1752 00cc 1340     		ands	r3, r3, r2
 1753 00ce CB61     		str	r3, [r1, #28]
 656:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL &= ~(USB_OTG_DOEPCTL_USBAEP |
 1754              		.loc 1 656 0
 1755 00d0 BB68     		ldr	r3, [r7, #8]
 1756 00d2 5A01     		lsls	r2, r3, #5
 1757 00d4 FB68     		ldr	r3, [r7, #12]
 1758 00d6 1344     		add	r3, r3, r2
 1759 00d8 03F53063 		add	r3, r3, #2816
 1760 00dc 1A68     		ldr	r2, [r3]
 1761 00de BB68     		ldr	r3, [r7, #8]
 1762 00e0 5901     		lsls	r1, r3, #5
 1763 00e2 FB68     		ldr	r3, [r7, #12]
 1764 00e4 0B44     		add	r3, r3, r1
 1765 00e6 03F53063 		add	r3, r3, #2816
 1766 00ea 1946     		mov	r1, r3
 1767 00ec 054B     		ldr	r3, .L99+4
 1768 00ee 1340     		ands	r3, r3, r2
 1769 00f0 0B60     		str	r3, [r1]
 1770              	.L97:
 657:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_MPSIZ |
 658:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_SD0PID_SEVNFRM |
 659:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_EPTYP);
 660:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 661:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 662:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1771              		.loc 1 662 0
 1772 00f2 0023     		movs	r3, #0
 663:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1773              		.loc 1 663 0
 1774 00f4 1846     		mov	r0, r3
 1775 00f6 1437     		adds	r7, r7, #20
 1776              	.LCFI78:
 1777              		.cfi_def_cfa_offset 4
 1778 00f8 BD46     		mov	sp, r7
 1779              	.LCFI79:
 1780              		.cfi_def_cfa_register 13
 1781              		@ sp needed
 1782 00fa 5DF8047B 		ldr	r7, [sp], #4
 1783              	.LCFI80:
 1784              		.cfi_restore 7
 1785              		.cfi_def_cfa_offset 0
 1786 00fe 7047     		bx	lr
 1787              	.L100:
 1788              		.align	2
 1789              	.L99:
 1790 0100 007833EC 		.word	-332171264
 1791 0104 0078F3EF 		.word	-269256704
 1792              		.cfi_endproc
 1793              	.LFE142:
 1795              		.section	.text.USB_DeactivateDedicatedEndpoint,"ax",%progbits
 1796              		.align	1
 1797              		.global	USB_DeactivateDedicatedEndpoint
 1798              		.syntax unified
 1799              		.thumb
 1800              		.thumb_func
 1801              		.fpu fpv4-sp-d16
ARM GAS  /tmp/ccjl6mF2.s 			page 44


 1803              	USB_DeactivateDedicatedEndpoint:
 1804              	.LFB143:
 664:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 665:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 666:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  De-activate and de-initialize a dedicated endpoint
 667:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 668:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 669:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 670:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 671:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DeactivateDedicatedEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *e
 672:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1805              		.loc 1 672 0
 1806              		.cfi_startproc
 1807              		@ args = 0, pretend = 0, frame = 16
 1808              		@ frame_needed = 1, uses_anonymous_args = 0
 1809              		@ link register save eliminated.
 1810 0000 80B4     		push	{r7}
 1811              	.LCFI81:
 1812              		.cfi_def_cfa_offset 4
 1813              		.cfi_offset 7, -4
 1814 0002 85B0     		sub	sp, sp, #20
 1815              	.LCFI82:
 1816              		.cfi_def_cfa_offset 24
 1817 0004 00AF     		add	r7, sp, #0
 1818              	.LCFI83:
 1819              		.cfi_def_cfa_register 7
 1820 0006 7860     		str	r0, [r7, #4]
 1821 0008 3960     		str	r1, [r7]
 673:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1822              		.loc 1 673 0
 1823 000a 7B68     		ldr	r3, [r7, #4]
 1824 000c FB60     		str	r3, [r7, #12]
 674:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 1825              		.loc 1 674 0
 1826 000e 3B68     		ldr	r3, [r7]
 1827 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1828 0012 BB60     		str	r3, [r7, #8]
 675:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 676:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Read DEPCTLn register */
 677:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 1829              		.loc 1 677 0
 1830 0014 3B68     		ldr	r3, [r7]
 1831 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1832 0018 012B     		cmp	r3, #1
 1833 001a 22D1     		bne	.L102
 678:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 679:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL &= ~ USB_OTG_DIEPCTL_USBAEP;
 1834              		.loc 1 679 0
 1835 001c BB68     		ldr	r3, [r7, #8]
 1836 001e 5A01     		lsls	r2, r3, #5
 1837 0020 FB68     		ldr	r3, [r7, #12]
 1838 0022 1344     		add	r3, r3, r2
 1839 0024 03F51063 		add	r3, r3, #2304
 1840 0028 1B68     		ldr	r3, [r3]
 1841 002a BA68     		ldr	r2, [r7, #8]
 1842 002c 5101     		lsls	r1, r2, #5
 1843 002e FA68     		ldr	r2, [r7, #12]
ARM GAS  /tmp/ccjl6mF2.s 			page 45


 1844 0030 0A44     		add	r2, r2, r1
 1845 0032 02F51062 		add	r2, r2, #2304
 1846 0036 23F40043 		bic	r3, r3, #32768
 1847 003a 1360     		str	r3, [r2]
 680:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK)));
 1848              		.loc 1 680 0
 1849 003c FB68     		ldr	r3, [r7, #12]
 1850 003e 03F50063 		add	r3, r3, #2048
 1851 0042 DA69     		ldr	r2, [r3, #28]
 1852 0044 3B68     		ldr	r3, [r7]
 1853 0046 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1854 0048 03F00F03 		and	r3, r3, #15
 1855 004c 0121     		movs	r1, #1
 1856 004e 01FA03F3 		lsl	r3, r1, r3
 1857 0052 9BB2     		uxth	r3, r3
 1858 0054 DB43     		mvns	r3, r3
 1859 0056 F968     		ldr	r1, [r7, #12]
 1860 0058 01F50061 		add	r1, r1, #2048
 1861 005c 1340     		ands	r3, r3, r2
 1862 005e CB61     		str	r3, [r1, #28]
 1863 0060 21E0     		b	.L103
 1864              	.L102:
 681:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 682:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 683:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 684:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL &= ~USB_OTG_DOEPCTL_USBAEP;
 1865              		.loc 1 684 0
 1866 0062 BB68     		ldr	r3, [r7, #8]
 1867 0064 5A01     		lsls	r2, r3, #5
 1868 0066 FB68     		ldr	r3, [r7, #12]
 1869 0068 1344     		add	r3, r3, r2
 1870 006a 03F53063 		add	r3, r3, #2816
 1871 006e 1B68     		ldr	r3, [r3]
 1872 0070 BA68     		ldr	r2, [r7, #8]
 1873 0072 5101     		lsls	r1, r2, #5
 1874 0074 FA68     		ldr	r2, [r7, #12]
 1875 0076 0A44     		add	r2, r2, r1
 1876 0078 02F53062 		add	r2, r2, #2816
 1877 007c 23F40043 		bic	r3, r3, #32768
 1878 0080 1360     		str	r3, [r2]
 685:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) 
 1879              		.loc 1 685 0
 1880 0082 FB68     		ldr	r3, [r7, #12]
 1881 0084 03F50063 		add	r3, r3, #2048
 1882 0088 DA69     		ldr	r2, [r3, #28]
 1883 008a 3B68     		ldr	r3, [r7]
 1884 008c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1885 008e 03F00F03 		and	r3, r3, #15
 1886 0092 0121     		movs	r1, #1
 1887 0094 01FA03F3 		lsl	r3, r1, r3
 1888 0098 1B04     		lsls	r3, r3, #16
 1889 009a DB43     		mvns	r3, r3
 1890 009c F968     		ldr	r1, [r7, #12]
 1891 009e 01F50061 		add	r1, r1, #2048
 1892 00a2 1340     		ands	r3, r3, r2
 1893 00a4 CB61     		str	r3, [r1, #28]
 1894              	.L103:
ARM GAS  /tmp/ccjl6mF2.s 			page 46


 686:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 687:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 688:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1895              		.loc 1 688 0
 1896 00a6 0023     		movs	r3, #0
 689:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1897              		.loc 1 689 0
 1898 00a8 1846     		mov	r0, r3
 1899 00aa 1437     		adds	r7, r7, #20
 1900              	.LCFI84:
 1901              		.cfi_def_cfa_offset 4
 1902 00ac BD46     		mov	sp, r7
 1903              	.LCFI85:
 1904              		.cfi_def_cfa_register 13
 1905              		@ sp needed
 1906 00ae 5DF8047B 		ldr	r7, [sp], #4
 1907              	.LCFI86:
 1908              		.cfi_restore 7
 1909              		.cfi_def_cfa_offset 0
 1910 00b2 7047     		bx	lr
 1911              		.cfi_endproc
 1912              	.LFE143:
 1914              		.section	.text.USB_EPStartXfer,"ax",%progbits
 1915              		.align	1
 1916              		.global	USB_EPStartXfer
 1917              		.syntax unified
 1918              		.thumb
 1919              		.thumb_func
 1920              		.fpu fpv4-sp-d16
 1922              	USB_EPStartXfer:
 1923              	.LFB144:
 690:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 691:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 692:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EPStartXfer : setup and starts a transfer over an EP
 693:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 694:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 695:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled
 696:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 697:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used
 698:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used
 699:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 700:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 701:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPStartXfer(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep, uint8_t dma)
 702:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1924              		.loc 1 702 0
 1925              		.cfi_startproc
 1926              		@ args = 0, pretend = 0, frame = 32
 1927              		@ frame_needed = 1, uses_anonymous_args = 0
 1928 0000 80B5     		push	{r7, lr}
 1929              	.LCFI87:
 1930              		.cfi_def_cfa_offset 8
 1931              		.cfi_offset 7, -8
 1932              		.cfi_offset 14, -4
 1933 0002 8AB0     		sub	sp, sp, #40
 1934              	.LCFI88:
 1935              		.cfi_def_cfa_offset 48
 1936 0004 02AF     		add	r7, sp, #8
ARM GAS  /tmp/ccjl6mF2.s 			page 47


 1937              	.LCFI89:
 1938              		.cfi_def_cfa 7, 40
 1939 0006 F860     		str	r0, [r7, #12]
 1940 0008 B960     		str	r1, [r7, #8]
 1941 000a 1346     		mov	r3, r2
 1942 000c FB71     		strb	r3, [r7, #7]
 703:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1943              		.loc 1 703 0
 1944 000e FB68     		ldr	r3, [r7, #12]
 1945 0010 FB61     		str	r3, [r7, #28]
 704:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 1946              		.loc 1 704 0
 1947 0012 BB68     		ldr	r3, [r7, #8]
 1948 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1949 0016 BB61     		str	r3, [r7, #24]
 705:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t pktcnt;
 706:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 707:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* IN endpoint */
 708:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 1950              		.loc 1 708 0
 1951 0018 BB68     		ldr	r3, [r7, #8]
 1952 001a 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1953 001c 012B     		cmp	r3, #1
 1954 001e 40F05C81 		bne	.L106
 709:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 710:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Zero Length Packet? */
 711:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->xfer_len == 0U)
 1955              		.loc 1 711 0
 1956 0022 BB68     		ldr	r3, [r7, #8]
 1957 0024 5B69     		ldr	r3, [r3, #20]
 1958 0026 002B     		cmp	r3, #0
 1959 0028 32D1     		bne	.L107
 712:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 713:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT);
 1960              		.loc 1 713 0
 1961 002a BB69     		ldr	r3, [r7, #24]
 1962 002c 5A01     		lsls	r2, r3, #5
 1963 002e FB69     		ldr	r3, [r7, #28]
 1964 0030 1344     		add	r3, r3, r2
 1965 0032 03F51063 		add	r3, r3, #2304
 1966 0036 1B69     		ldr	r3, [r3, #16]
 1967 0038 BA69     		ldr	r2, [r7, #24]
 1968 003a 5101     		lsls	r1, r2, #5
 1969 003c FA69     		ldr	r2, [r7, #28]
 1970 003e 0A44     		add	r2, r2, r1
 1971 0040 02F51062 		add	r2, r2, #2304
 1972 0044 23F0FF53 		bic	r3, r3, #534773760
 1973 0048 23F4C013 		bic	r3, r3, #1572864
 1974 004c 1361     		str	r3, [r2, #16]
 714:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1U << 19));
 1975              		.loc 1 714 0
 1976 004e BB69     		ldr	r3, [r7, #24]
 1977 0050 5A01     		lsls	r2, r3, #5
 1978 0052 FB69     		ldr	r3, [r7, #28]
 1979 0054 1344     		add	r3, r3, r2
 1980 0056 03F51063 		add	r3, r3, #2304
 1981 005a 1B69     		ldr	r3, [r3, #16]
ARM GAS  /tmp/ccjl6mF2.s 			page 48


 1982 005c BA69     		ldr	r2, [r7, #24]
 1983 005e 5101     		lsls	r1, r2, #5
 1984 0060 FA69     		ldr	r2, [r7, #28]
 1985 0062 0A44     		add	r2, r2, r1
 1986 0064 02F51062 		add	r2, r2, #2304
 1987 0068 43F40023 		orr	r3, r3, #524288
 1988 006c 1361     		str	r3, [r2, #16]
 715:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 1989              		.loc 1 715 0
 1990 006e BB69     		ldr	r3, [r7, #24]
 1991 0070 5A01     		lsls	r2, r3, #5
 1992 0072 FB69     		ldr	r3, [r7, #28]
 1993 0074 1344     		add	r3, r3, r2
 1994 0076 03F51063 		add	r3, r3, #2304
 1995 007a 1B69     		ldr	r3, [r3, #16]
 1996 007c BA69     		ldr	r2, [r7, #24]
 1997 007e 5101     		lsls	r1, r2, #5
 1998 0080 FA69     		ldr	r2, [r7, #28]
 1999 0082 0A44     		add	r2, r2, r1
 2000 0084 02F51062 		add	r2, r2, #2304
 2001 0088 DB0C     		lsrs	r3, r3, #19
 2002 008a DB04     		lsls	r3, r3, #19
 2003 008c 1361     		str	r3, [r2, #16]
 2004 008e 74E0     		b	.L108
 2005              	.L107:
 716:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 717:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 718:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 719:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Program the transfer size and packet count
 720:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * as follows: xfersize = N * maxpacket +
 721:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * short_packet pktcnt = N + (short_packet
 722:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * exist ? 1 : 0)
 723:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       */
 724:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 2006              		.loc 1 724 0
 2007 0090 BB69     		ldr	r3, [r7, #24]
 2008 0092 5A01     		lsls	r2, r3, #5
 2009 0094 FB69     		ldr	r3, [r7, #28]
 2010 0096 1344     		add	r3, r3, r2
 2011 0098 03F51063 		add	r3, r3, #2304
 2012 009c 1B69     		ldr	r3, [r3, #16]
 2013 009e BA69     		ldr	r2, [r7, #24]
 2014 00a0 5101     		lsls	r1, r2, #5
 2015 00a2 FA69     		ldr	r2, [r7, #28]
 2016 00a4 0A44     		add	r2, r2, r1
 2017 00a6 02F51062 		add	r2, r2, #2304
 2018 00aa DB0C     		lsrs	r3, r3, #19
 2019 00ac DB04     		lsls	r3, r3, #19
 2020 00ae 1361     		str	r3, [r2, #16]
 725:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT);
 2021              		.loc 1 725 0
 2022 00b0 BB69     		ldr	r3, [r7, #24]
 2023 00b2 5A01     		lsls	r2, r3, #5
 2024 00b4 FB69     		ldr	r3, [r7, #28]
 2025 00b6 1344     		add	r3, r3, r2
 2026 00b8 03F51063 		add	r3, r3, #2304
 2027 00bc 1B69     		ldr	r3, [r3, #16]
ARM GAS  /tmp/ccjl6mF2.s 			page 49


 2028 00be BA69     		ldr	r2, [r7, #24]
 2029 00c0 5101     		lsls	r1, r2, #5
 2030 00c2 FA69     		ldr	r2, [r7, #28]
 2031 00c4 0A44     		add	r2, r2, r1
 2032 00c6 02F51062 		add	r2, r2, #2304
 2033 00ca 23F0FF53 		bic	r3, r3, #534773760
 2034 00ce 23F4C013 		bic	r3, r3, #1572864
 2035 00d2 1361     		str	r3, [r2, #16]
 726:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (((ep->xfer_len + ep->maxpacket - 1U
 2036              		.loc 1 726 0
 2037 00d4 BB69     		ldr	r3, [r7, #24]
 2038 00d6 5A01     		lsls	r2, r3, #5
 2039 00d8 FB69     		ldr	r3, [r7, #28]
 2040 00da 1344     		add	r3, r3, r2
 2041 00dc 03F51063 		add	r3, r3, #2304
 2042 00e0 1A69     		ldr	r2, [r3, #16]
 2043 00e2 BB68     		ldr	r3, [r7, #8]
 2044 00e4 5969     		ldr	r1, [r3, #20]
 2045 00e6 BB68     		ldr	r3, [r7, #8]
 2046 00e8 9B68     		ldr	r3, [r3, #8]
 2047 00ea 0B44     		add	r3, r3, r1
 2048 00ec 591E     		subs	r1, r3, #1
 2049 00ee BB68     		ldr	r3, [r7, #8]
 2050 00f0 9B68     		ldr	r3, [r3, #8]
 2051 00f2 B1FBF3F3 		udiv	r3, r1, r3
 2052 00f6 D904     		lsls	r1, r3, #19
 2053 00f8 9D4B     		ldr	r3, .L125
 2054 00fa 0B40     		ands	r3, r3, r1
 2055 00fc B969     		ldr	r1, [r7, #24]
 2056 00fe 4801     		lsls	r0, r1, #5
 2057 0100 F969     		ldr	r1, [r7, #28]
 2058 0102 0144     		add	r1, r1, r0
 2059 0104 01F51061 		add	r1, r1, #2304
 2060 0108 1343     		orrs	r3, r3, r2
 2061 010a 0B61     		str	r3, [r1, #16]
 727:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_XFRSIZ & ep->xfer_len);
 2062              		.loc 1 727 0
 2063 010c BB69     		ldr	r3, [r7, #24]
 2064 010e 5A01     		lsls	r2, r3, #5
 2065 0110 FB69     		ldr	r3, [r7, #28]
 2066 0112 1344     		add	r3, r3, r2
 2067 0114 03F51063 		add	r3, r3, #2304
 2068 0118 1A69     		ldr	r2, [r3, #16]
 2069 011a BB68     		ldr	r3, [r7, #8]
 2070 011c 5B69     		ldr	r3, [r3, #20]
 2071 011e C3F31203 		ubfx	r3, r3, #0, #19
 2072 0122 B969     		ldr	r1, [r7, #24]
 2073 0124 4801     		lsls	r0, r1, #5
 2074 0126 F969     		ldr	r1, [r7, #28]
 2075 0128 0144     		add	r1, r1, r0
 2076 012a 01F51061 		add	r1, r1, #2304
 2077 012e 1343     		orrs	r3, r3, r2
 2078 0130 0B61     		str	r3, [r1, #16]
 728:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 729:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (ep->type == EP_TYPE_ISOC)
 2079              		.loc 1 729 0
 2080 0132 BB68     		ldr	r3, [r7, #8]
ARM GAS  /tmp/ccjl6mF2.s 			page 50


 2081 0134 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 2082 0136 012B     		cmp	r3, #1
 2083 0138 1FD1     		bne	.L108
 730:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 731:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_MULCNT);
 2084              		.loc 1 731 0
 2085 013a BB69     		ldr	r3, [r7, #24]
 2086 013c 5A01     		lsls	r2, r3, #5
 2087 013e FB69     		ldr	r3, [r7, #28]
 2088 0140 1344     		add	r3, r3, r2
 2089 0142 03F51063 		add	r3, r3, #2304
 2090 0146 1B69     		ldr	r3, [r3, #16]
 2091 0148 BA69     		ldr	r2, [r7, #24]
 2092 014a 5101     		lsls	r1, r2, #5
 2093 014c FA69     		ldr	r2, [r7, #28]
 2094 014e 0A44     		add	r2, r2, r1
 2095 0150 02F51062 		add	r2, r2, #2304
 2096 0154 23F0C043 		bic	r3, r3, #1610612736
 2097 0158 1361     		str	r3, [r2, #16]
 732:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_MULCNT & (1U << 29));
 2098              		.loc 1 732 0
 2099 015a BB69     		ldr	r3, [r7, #24]
 2100 015c 5A01     		lsls	r2, r3, #5
 2101 015e FB69     		ldr	r3, [r7, #28]
 2102 0160 1344     		add	r3, r3, r2
 2103 0162 03F51063 		add	r3, r3, #2304
 2104 0166 1B69     		ldr	r3, [r3, #16]
 2105 0168 BA69     		ldr	r2, [r7, #24]
 2106 016a 5101     		lsls	r1, r2, #5
 2107 016c FA69     		ldr	r2, [r7, #28]
 2108 016e 0A44     		add	r2, r2, r1
 2109 0170 02F51062 		add	r2, r2, #2304
 2110 0174 43F00053 		orr	r3, r3, #536870912
 2111 0178 1361     		str	r3, [r2, #16]
 2112              	.L108:
 733:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 734:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 735:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 736:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (dma == 1U)
 2113              		.loc 1 736 0
 2114 017a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2115 017c 012B     		cmp	r3, #1
 2116 017e 4BD1     		bne	.L109
 737:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 738:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((uint32_t)ep->dma_addr != 0U)
 2117              		.loc 1 738 0
 2118 0180 BB68     		ldr	r3, [r7, #8]
 2119 0182 1B69     		ldr	r3, [r3, #16]
 2120 0184 002B     		cmp	r3, #0
 2121 0186 09D0     		beq	.L110
 739:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 740:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(epnum)->DIEPDMA = (uint32_t)(ep->dma_addr);
 2122              		.loc 1 740 0
 2123 0188 BB69     		ldr	r3, [r7, #24]
 2124 018a 5A01     		lsls	r2, r3, #5
 2125 018c FB69     		ldr	r3, [r7, #28]
 2126 018e 1344     		add	r3, r3, r2
ARM GAS  /tmp/ccjl6mF2.s 			page 51


 2127 0190 03F51063 		add	r3, r3, #2304
 2128 0194 1A46     		mov	r2, r3
 2129 0196 BB68     		ldr	r3, [r7, #8]
 2130 0198 1B69     		ldr	r3, [r3, #16]
 2131 019a 5361     		str	r3, [r2, #20]
 2132              	.L110:
 741:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 742:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 743:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (ep->type == EP_TYPE_ISOC)
 2133              		.loc 1 743 0
 2134 019c BB68     		ldr	r3, [r7, #8]
 2135 019e DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 2136 01a0 012B     		cmp	r3, #1
 2137 01a2 28D1     		bne	.L111
 744:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 745:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if ((USBx_DEVICE->DSTS & (1U << 8)) == 0U)
 2138              		.loc 1 745 0
 2139 01a4 FB69     		ldr	r3, [r7, #28]
 2140 01a6 03F50063 		add	r3, r3, #2048
 2141 01aa 9B68     		ldr	r3, [r3, #8]
 2142 01ac 03F48073 		and	r3, r3, #256
 2143 01b0 002B     		cmp	r3, #0
 2144 01b2 10D1     		bne	.L112
 746:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 747:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SODDFRM;
 2145              		.loc 1 747 0
 2146 01b4 BB69     		ldr	r3, [r7, #24]
 2147 01b6 5A01     		lsls	r2, r3, #5
 2148 01b8 FB69     		ldr	r3, [r7, #28]
 2149 01ba 1344     		add	r3, r3, r2
 2150 01bc 03F51063 		add	r3, r3, #2304
 2151 01c0 1B68     		ldr	r3, [r3]
 2152 01c2 BA69     		ldr	r2, [r7, #24]
 2153 01c4 5101     		lsls	r1, r2, #5
 2154 01c6 FA69     		ldr	r2, [r7, #28]
 2155 01c8 0A44     		add	r2, r2, r1
 2156 01ca 02F51062 		add	r2, r2, #2304
 2157 01ce 43F00053 		orr	r3, r3, #536870912
 2158 01d2 1360     		str	r3, [r2]
 2159 01d4 0FE0     		b	.L111
 2160              	.L112:
 748:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 749:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         else
 750:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 751:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SD0PID_SEVNFRM;
 2161              		.loc 1 751 0
 2162 01d6 BB69     		ldr	r3, [r7, #24]
 2163 01d8 5A01     		lsls	r2, r3, #5
 2164 01da FB69     		ldr	r3, [r7, #28]
 2165 01dc 1344     		add	r3, r3, r2
 2166 01de 03F51063 		add	r3, r3, #2304
 2167 01e2 1B68     		ldr	r3, [r3]
 2168 01e4 BA69     		ldr	r2, [r7, #24]
 2169 01e6 5101     		lsls	r1, r2, #5
 2170 01e8 FA69     		ldr	r2, [r7, #28]
 2171 01ea 0A44     		add	r2, r2, r1
 2172 01ec 02F51062 		add	r2, r2, #2304
ARM GAS  /tmp/ccjl6mF2.s 			page 52


 2173 01f0 43F08053 		orr	r3, r3, #268435456
 2174 01f4 1360     		str	r3, [r2]
 2175              	.L111:
 752:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 753:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 754:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 755:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* EP enable, IN data in FIFO */
 756:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (USB_OTG_DIEPCTL_CNAK | USB_OTG_DIEPCTL_EPENA);
 2176              		.loc 1 756 0
 2177 01f6 BB69     		ldr	r3, [r7, #24]
 2178 01f8 5A01     		lsls	r2, r3, #5
 2179 01fa FB69     		ldr	r3, [r7, #28]
 2180 01fc 1344     		add	r3, r3, r2
 2181 01fe 03F51063 		add	r3, r3, #2304
 2182 0202 1B68     		ldr	r3, [r3]
 2183 0204 BA69     		ldr	r2, [r7, #24]
 2184 0206 5101     		lsls	r1, r2, #5
 2185 0208 FA69     		ldr	r2, [r7, #28]
 2186 020a 0A44     		add	r2, r2, r1
 2187 020c 02F51062 		add	r2, r2, #2304
 2188 0210 43F00443 		orr	r3, r3, #-2080374784
 2189 0214 1360     		str	r3, [r2]
 2190 0216 2FE1     		b	.L118
 2191              	.L109:
 757:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 758:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 759:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 760:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* EP enable, IN data in FIFO */
 761:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (USB_OTG_DIEPCTL_CNAK | USB_OTG_DIEPCTL_EPENA);
 2192              		.loc 1 761 0
 2193 0218 BB69     		ldr	r3, [r7, #24]
 2194 021a 5A01     		lsls	r2, r3, #5
 2195 021c FB69     		ldr	r3, [r7, #28]
 2196 021e 1344     		add	r3, r3, r2
 2197 0220 03F51063 		add	r3, r3, #2304
 2198 0224 1B68     		ldr	r3, [r3]
 2199 0226 BA69     		ldr	r2, [r7, #24]
 2200 0228 5101     		lsls	r1, r2, #5
 2201 022a FA69     		ldr	r2, [r7, #28]
 2202 022c 0A44     		add	r2, r2, r1
 2203 022e 02F51062 		add	r2, r2, #2304
 2204 0232 43F00443 		orr	r3, r3, #-2080374784
 2205 0236 1360     		str	r3, [r2]
 762:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 763:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (ep->type != EP_TYPE_ISOC)
 2206              		.loc 1 763 0
 2207 0238 BB68     		ldr	r3, [r7, #8]
 2208 023a DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 2209 023c 012B     		cmp	r3, #1
 2210 023e 15D0     		beq	.L114
 764:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 765:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         /* Enable the Tx FIFO Empty Interrupt for this EP */
 766:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if (ep->xfer_len > 0U)
 2211              		.loc 1 766 0
 2212 0240 BB68     		ldr	r3, [r7, #8]
 2213 0242 5B69     		ldr	r3, [r3, #20]
 2214 0244 002B     		cmp	r3, #0
ARM GAS  /tmp/ccjl6mF2.s 			page 53


 2215 0246 00F01781 		beq	.L118
 767:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 768:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx_DEVICE->DIEPEMPMSK |= 1UL << (ep->num & EP_ADDR_MSK);
 2216              		.loc 1 768 0
 2217 024a FB69     		ldr	r3, [r7, #28]
 2218 024c 03F50063 		add	r3, r3, #2048
 2219 0250 5A6B     		ldr	r2, [r3, #52]
 2220 0252 BB68     		ldr	r3, [r7, #8]
 2221 0254 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2222 0256 03F00F03 		and	r3, r3, #15
 2223 025a 0121     		movs	r1, #1
 2224 025c 01FA03F3 		lsl	r3, r1, r3
 2225 0260 F969     		ldr	r1, [r7, #28]
 2226 0262 01F50061 		add	r1, r1, #2048
 2227 0266 1343     		orrs	r3, r3, r2
 2228 0268 4B63     		str	r3, [r1, #52]
 2229 026a 05E1     		b	.L118
 2230              	.L114:
 769:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 770:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 771:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       else
 772:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 773:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if ((USBx_DEVICE->DSTS & (1U << 8)) == 0U)
 2231              		.loc 1 773 0
 2232 026c FB69     		ldr	r3, [r7, #28]
 2233 026e 03F50063 		add	r3, r3, #2048
 2234 0272 9B68     		ldr	r3, [r3, #8]
 2235 0274 03F48073 		and	r3, r3, #256
 2236 0278 002B     		cmp	r3, #0
 2237 027a 10D1     		bne	.L116
 774:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 775:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SODDFRM;
 2238              		.loc 1 775 0
 2239 027c BB69     		ldr	r3, [r7, #24]
 2240 027e 5A01     		lsls	r2, r3, #5
 2241 0280 FB69     		ldr	r3, [r7, #28]
 2242 0282 1344     		add	r3, r3, r2
 2243 0284 03F51063 		add	r3, r3, #2304
 2244 0288 1B68     		ldr	r3, [r3]
 2245 028a BA69     		ldr	r2, [r7, #24]
 2246 028c 5101     		lsls	r1, r2, #5
 2247 028e FA69     		ldr	r2, [r7, #28]
 2248 0290 0A44     		add	r2, r2, r1
 2249 0292 02F51062 		add	r2, r2, #2304
 2250 0296 43F00053 		orr	r3, r3, #536870912
 2251 029a 1360     		str	r3, [r2]
 2252 029c 0FE0     		b	.L117
 2253              	.L116:
 776:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 777:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         else
 778:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 779:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SD0PID_SEVNFRM;
 2254              		.loc 1 779 0
 2255 029e BB69     		ldr	r3, [r7, #24]
 2256 02a0 5A01     		lsls	r2, r3, #5
 2257 02a2 FB69     		ldr	r3, [r7, #28]
 2258 02a4 1344     		add	r3, r3, r2
ARM GAS  /tmp/ccjl6mF2.s 			page 54


 2259 02a6 03F51063 		add	r3, r3, #2304
 2260 02aa 1B68     		ldr	r3, [r3]
 2261 02ac BA69     		ldr	r2, [r7, #24]
 2262 02ae 5101     		lsls	r1, r2, #5
 2263 02b0 FA69     		ldr	r2, [r7, #28]
 2264 02b2 0A44     		add	r2, r2, r1
 2265 02b4 02F51062 		add	r2, r2, #2304
 2266 02b8 43F08053 		orr	r3, r3, #268435456
 2267 02bc 1360     		str	r3, [r2]
 2268              	.L117:
 780:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 781:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 782:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         (void)USB_WritePacket(USBx, ep->xfer_buff, ep->num, (uint16_t)ep->xfer_len, dma);
 2269              		.loc 1 782 0
 2270 02be BB68     		ldr	r3, [r7, #8]
 2271 02c0 D968     		ldr	r1, [r3, #12]
 2272 02c2 BB68     		ldr	r3, [r7, #8]
 2273 02c4 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 2274 02c6 BB68     		ldr	r3, [r7, #8]
 2275 02c8 5B69     		ldr	r3, [r3, #20]
 2276 02ca 98B2     		uxth	r0, r3
 2277 02cc FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2278 02ce 0093     		str	r3, [sp]
 2279 02d0 0346     		mov	r3, r0
 2280 02d2 F868     		ldr	r0, [r7, #12]
 2281 02d4 FFF7FEFF 		bl	USB_WritePacket
 2282 02d8 CEE0     		b	.L118
 2283              	.L106:
 783:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 784:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 785:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 786:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else /* OUT endpoint */
 787:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 788:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Program the transfer size and packet count as follows:
 789:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     * pktcnt = N
 790:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     * xfersize = N * maxpacket
 791:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     */
 792:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_XFRSIZ);
 2284              		.loc 1 792 0
 2285 02da BB69     		ldr	r3, [r7, #24]
 2286 02dc 5A01     		lsls	r2, r3, #5
 2287 02de FB69     		ldr	r3, [r7, #28]
 2288 02e0 1344     		add	r3, r3, r2
 2289 02e2 03F53063 		add	r3, r3, #2816
 2290 02e6 1B69     		ldr	r3, [r3, #16]
 2291 02e8 BA69     		ldr	r2, [r7, #24]
 2292 02ea 5101     		lsls	r1, r2, #5
 2293 02ec FA69     		ldr	r2, [r7, #28]
 2294 02ee 0A44     		add	r2, r2, r1
 2295 02f0 02F53062 		add	r2, r2, #2816
 2296 02f4 DB0C     		lsrs	r3, r3, #19
 2297 02f6 DB04     		lsls	r3, r3, #19
 2298 02f8 1361     		str	r3, [r2, #16]
 793:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_PKTCNT);
 2299              		.loc 1 793 0
 2300 02fa BB69     		ldr	r3, [r7, #24]
 2301 02fc 5A01     		lsls	r2, r3, #5
ARM GAS  /tmp/ccjl6mF2.s 			page 55


 2302 02fe FB69     		ldr	r3, [r7, #28]
 2303 0300 1344     		add	r3, r3, r2
 2304 0302 03F53063 		add	r3, r3, #2816
 2305 0306 1B69     		ldr	r3, [r3, #16]
 2306 0308 BA69     		ldr	r2, [r7, #24]
 2307 030a 5101     		lsls	r1, r2, #5
 2308 030c FA69     		ldr	r2, [r7, #28]
 2309 030e 0A44     		add	r2, r2, r1
 2310 0310 02F53062 		add	r2, r2, #2816
 2311 0314 23F0FF53 		bic	r3, r3, #534773760
 2312 0318 23F4C013 		bic	r3, r3, #1572864
 2313 031c 1361     		str	r3, [r2, #16]
 794:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 795:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->xfer_len == 0U)
 2314              		.loc 1 795 0
 2315 031e BB68     		ldr	r3, [r7, #8]
 2316 0320 5B69     		ldr	r3, [r3, #20]
 2317 0322 002B     		cmp	r3, #0
 2318 0324 26D1     		bne	.L119
 796:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 797:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_XFRSIZ & ep->maxpacket);
 2319              		.loc 1 797 0
 2320 0326 BB69     		ldr	r3, [r7, #24]
 2321 0328 5A01     		lsls	r2, r3, #5
 2322 032a FB69     		ldr	r3, [r7, #28]
 2323 032c 1344     		add	r3, r3, r2
 2324 032e 03F53063 		add	r3, r3, #2816
 2325 0332 1A69     		ldr	r2, [r3, #16]
 2326 0334 BB68     		ldr	r3, [r7, #8]
 2327 0336 9B68     		ldr	r3, [r3, #8]
 2328 0338 C3F31203 		ubfx	r3, r3, #0, #19
 2329 033c B969     		ldr	r1, [r7, #24]
 2330 033e 4801     		lsls	r0, r1, #5
 2331 0340 F969     		ldr	r1, [r7, #28]
 2332 0342 0144     		add	r1, r1, r0
 2333 0344 01F53061 		add	r1, r1, #2816
 2334 0348 1343     		orrs	r3, r3, r2
 2335 034a 0B61     		str	r3, [r1, #16]
 798:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1U << 19));
 2336              		.loc 1 798 0
 2337 034c BB69     		ldr	r3, [r7, #24]
 2338 034e 5A01     		lsls	r2, r3, #5
 2339 0350 FB69     		ldr	r3, [r7, #28]
 2340 0352 1344     		add	r3, r3, r2
 2341 0354 03F53063 		add	r3, r3, #2816
 2342 0358 1B69     		ldr	r3, [r3, #16]
 2343 035a BA69     		ldr	r2, [r7, #24]
 2344 035c 5101     		lsls	r1, r2, #5
 2345 035e FA69     		ldr	r2, [r7, #28]
 2346 0360 0A44     		add	r2, r2, r1
 2347 0362 02F53062 		add	r2, r2, #2816
 2348 0366 43F40023 		orr	r3, r3, #524288
 2349 036a 1361     		str	r3, [r2, #16]
 2350 036c 36E0     		b	.L120
 2351              	.L126:
 2352 036e 00BF     		.align	2
 2353              	.L125:
ARM GAS  /tmp/ccjl6mF2.s 			page 56


 2354 0370 0000F81F 		.word	536346624
 2355              	.L119:
 799:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 800:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 801:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 802:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       pktcnt = (uint16_t)((ep->xfer_len + ep->maxpacket - 1U) / ep->maxpacket);
 2356              		.loc 1 802 0
 2357 0374 BB68     		ldr	r3, [r7, #8]
 2358 0376 5A69     		ldr	r2, [r3, #20]
 2359 0378 BB68     		ldr	r3, [r7, #8]
 2360 037a 9B68     		ldr	r3, [r3, #8]
 2361 037c 1344     		add	r3, r3, r2
 2362 037e 5A1E     		subs	r2, r3, #1
 2363 0380 BB68     		ldr	r3, [r7, #8]
 2364 0382 9B68     		ldr	r3, [r3, #8]
 2365 0384 B2FBF3F3 		udiv	r3, r2, r3
 2366 0388 FB82     		strh	r3, [r7, #22]	@ movhi
 803:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPTSIZ |= USB_OTG_DOEPTSIZ_PKTCNT & ((uint32_t)pktcnt << 19);
 2367              		.loc 1 803 0
 2368 038a BB69     		ldr	r3, [r7, #24]
 2369 038c 5A01     		lsls	r2, r3, #5
 2370 038e FB69     		ldr	r3, [r7, #28]
 2371 0390 1344     		add	r3, r3, r2
 2372 0392 03F53063 		add	r3, r3, #2816
 2373 0396 1A69     		ldr	r2, [r3, #16]
 2374 0398 FB8A     		ldrh	r3, [r7, #22]
 2375 039a D904     		lsls	r1, r3, #19
 2376 039c 394B     		ldr	r3, .L127
 2377 039e 0B40     		ands	r3, r3, r1
 2378 03a0 B969     		ldr	r1, [r7, #24]
 2379 03a2 4801     		lsls	r0, r1, #5
 2380 03a4 F969     		ldr	r1, [r7, #28]
 2381 03a6 0144     		add	r1, r1, r0
 2382 03a8 01F53061 		add	r1, r1, #2816
 2383 03ac 1343     		orrs	r3, r3, r2
 2384 03ae 0B61     		str	r3, [r1, #16]
 804:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPTSIZ |= USB_OTG_DOEPTSIZ_XFRSIZ & (ep->maxpacket * pktcnt);
 2385              		.loc 1 804 0
 2386 03b0 BB69     		ldr	r3, [r7, #24]
 2387 03b2 5A01     		lsls	r2, r3, #5
 2388 03b4 FB69     		ldr	r3, [r7, #28]
 2389 03b6 1344     		add	r3, r3, r2
 2390 03b8 03F53063 		add	r3, r3, #2816
 2391 03bc 1A69     		ldr	r2, [r3, #16]
 2392 03be BB68     		ldr	r3, [r7, #8]
 2393 03c0 9B68     		ldr	r3, [r3, #8]
 2394 03c2 F98A     		ldrh	r1, [r7, #22]
 2395 03c4 01FB03F3 		mul	r3, r1, r3
 2396 03c8 C3F31203 		ubfx	r3, r3, #0, #19
 2397 03cc B969     		ldr	r1, [r7, #24]
 2398 03ce 4801     		lsls	r0, r1, #5
 2399 03d0 F969     		ldr	r1, [r7, #28]
 2400 03d2 0144     		add	r1, r1, r0
 2401 03d4 01F53061 		add	r1, r1, #2816
 2402 03d8 1343     		orrs	r3, r3, r2
 2403 03da 0B61     		str	r3, [r1, #16]
 2404              	.L120:
ARM GAS  /tmp/ccjl6mF2.s 			page 57


 805:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 806:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 807:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (dma == 1U)
 2405              		.loc 1 807 0
 2406 03dc FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2407 03de 012B     		cmp	r3, #1
 2408 03e0 0DD1     		bne	.L121
 808:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 809:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((uint32_t)ep->xfer_buff != 0U)
 2409              		.loc 1 809 0
 2410 03e2 BB68     		ldr	r3, [r7, #8]
 2411 03e4 DB68     		ldr	r3, [r3, #12]
 2412 03e6 002B     		cmp	r3, #0
 2413 03e8 09D0     		beq	.L121
 810:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 811:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(epnum)->DOEPDMA = (uint32_t)(ep->xfer_buff);
 2414              		.loc 1 811 0
 2415 03ea BB68     		ldr	r3, [r7, #8]
 2416 03ec D968     		ldr	r1, [r3, #12]
 2417 03ee BB69     		ldr	r3, [r7, #24]
 2418 03f0 5A01     		lsls	r2, r3, #5
 2419 03f2 FB69     		ldr	r3, [r7, #28]
 2420 03f4 1344     		add	r3, r3, r2
 2421 03f6 03F53063 		add	r3, r3, #2816
 2422 03fa 0A46     		mov	r2, r1
 2423 03fc 5A61     		str	r2, [r3, #20]
 2424              	.L121:
 812:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 813:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 814:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 815:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->type == EP_TYPE_ISOC)
 2425              		.loc 1 815 0
 2426 03fe BB68     		ldr	r3, [r7, #8]
 2427 0400 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 2428 0402 012B     		cmp	r3, #1
 2429 0404 28D1     		bne	.L122
 816:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 817:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((USBx_DEVICE->DSTS & (1U << 8)) == 0U)
 2430              		.loc 1 817 0
 2431 0406 FB69     		ldr	r3, [r7, #28]
 2432 0408 03F50063 		add	r3, r3, #2048
 2433 040c 9B68     		ldr	r3, [r3, #8]
 2434 040e 03F48073 		and	r3, r3, #256
 2435 0412 002B     		cmp	r3, #0
 2436 0414 10D1     		bne	.L123
 818:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 819:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_SODDFRM;
 2437              		.loc 1 819 0
 2438 0416 BB69     		ldr	r3, [r7, #24]
 2439 0418 5A01     		lsls	r2, r3, #5
 2440 041a FB69     		ldr	r3, [r7, #28]
 2441 041c 1344     		add	r3, r3, r2
 2442 041e 03F53063 		add	r3, r3, #2816
 2443 0422 1B68     		ldr	r3, [r3]
 2444 0424 BA69     		ldr	r2, [r7, #24]
 2445 0426 5101     		lsls	r1, r2, #5
 2446 0428 FA69     		ldr	r2, [r7, #28]
ARM GAS  /tmp/ccjl6mF2.s 			page 58


 2447 042a 0A44     		add	r2, r2, r1
 2448 042c 02F53062 		add	r2, r2, #2816
 2449 0430 43F00053 		orr	r3, r3, #536870912
 2450 0434 1360     		str	r3, [r2]
 2451 0436 0FE0     		b	.L122
 2452              	.L123:
 820:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 821:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       else
 822:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 823:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_SD0PID_SEVNFRM;
 2453              		.loc 1 823 0
 2454 0438 BB69     		ldr	r3, [r7, #24]
 2455 043a 5A01     		lsls	r2, r3, #5
 2456 043c FB69     		ldr	r3, [r7, #28]
 2457 043e 1344     		add	r3, r3, r2
 2458 0440 03F53063 		add	r3, r3, #2816
 2459 0444 1B68     		ldr	r3, [r3]
 2460 0446 BA69     		ldr	r2, [r7, #24]
 2461 0448 5101     		lsls	r1, r2, #5
 2462 044a FA69     		ldr	r2, [r7, #28]
 2463 044c 0A44     		add	r2, r2, r1
 2464 044e 02F53062 		add	r2, r2, #2816
 2465 0452 43F08053 		orr	r3, r3, #268435456
 2466 0456 1360     		str	r3, [r2]
 2467              	.L122:
 824:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 825:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 826:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* EP enable */
 827:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL |= (USB_OTG_DOEPCTL_CNAK | USB_OTG_DOEPCTL_EPENA);
 2468              		.loc 1 827 0
 2469 0458 BB69     		ldr	r3, [r7, #24]
 2470 045a 5A01     		lsls	r2, r3, #5
 2471 045c FB69     		ldr	r3, [r7, #28]
 2472 045e 1344     		add	r3, r3, r2
 2473 0460 03F53063 		add	r3, r3, #2816
 2474 0464 1B68     		ldr	r3, [r3]
 2475 0466 BA69     		ldr	r2, [r7, #24]
 2476 0468 5101     		lsls	r1, r2, #5
 2477 046a FA69     		ldr	r2, [r7, #28]
 2478 046c 0A44     		add	r2, r2, r1
 2479 046e 02F53062 		add	r2, r2, #2816
 2480 0472 43F00443 		orr	r3, r3, #-2080374784
 2481 0476 1360     		str	r3, [r2]
 2482              	.L118:
 828:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 829:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 830:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 2483              		.loc 1 830 0
 2484 0478 0023     		movs	r3, #0
 831:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 2485              		.loc 1 831 0
 2486 047a 1846     		mov	r0, r3
 2487 047c 2037     		adds	r7, r7, #32
 2488              	.LCFI90:
 2489              		.cfi_def_cfa_offset 8
 2490 047e BD46     		mov	sp, r7
 2491              	.LCFI91:
ARM GAS  /tmp/ccjl6mF2.s 			page 59


 2492              		.cfi_def_cfa_register 13
 2493              		@ sp needed
 2494 0480 80BD     		pop	{r7, pc}
 2495              	.L128:
 2496 0482 00BF     		.align	2
 2497              	.L127:
 2498 0484 0000F81F 		.word	536346624
 2499              		.cfi_endproc
 2500              	.LFE144:
 2502              		.section	.text.USB_EP0StartXfer,"ax",%progbits
 2503              		.align	1
 2504              		.global	USB_EP0StartXfer
 2505              		.syntax unified
 2506              		.thumb
 2507              		.thumb_func
 2508              		.fpu fpv4-sp-d16
 2510              	USB_EP0StartXfer:
 2511              	.LFB145:
 832:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 833:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 834:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EP0StartXfer : setup and starts a transfer over the EP  0
 835:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 836:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 837:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled
 838:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 839:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used
 840:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used
 841:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 842:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 843:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EP0StartXfer(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep, uint8_t dma)
 844:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 2512              		.loc 1 844 0
 2513              		.cfi_startproc
 2514              		@ args = 0, pretend = 0, frame = 24
 2515              		@ frame_needed = 1, uses_anonymous_args = 0
 2516              		@ link register save eliminated.
 2517 0000 80B4     		push	{r7}
 2518              	.LCFI92:
 2519              		.cfi_def_cfa_offset 4
 2520              		.cfi_offset 7, -4
 2521 0002 87B0     		sub	sp, sp, #28
 2522              	.LCFI93:
 2523              		.cfi_def_cfa_offset 32
 2524 0004 00AF     		add	r7, sp, #0
 2525              	.LCFI94:
 2526              		.cfi_def_cfa_register 7
 2527 0006 F860     		str	r0, [r7, #12]
 2528 0008 B960     		str	r1, [r7, #8]
 2529 000a 1346     		mov	r3, r2
 2530 000c FB71     		strb	r3, [r7, #7]
 845:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 2531              		.loc 1 845 0
 2532 000e FB68     		ldr	r3, [r7, #12]
 2533 0010 7B61     		str	r3, [r7, #20]
 846:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 2534              		.loc 1 846 0
 2535 0012 BB68     		ldr	r3, [r7, #8]
ARM GAS  /tmp/ccjl6mF2.s 			page 60


 2536 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2537 0016 3B61     		str	r3, [r7, #16]
 847:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 848:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* IN endpoint */
 849:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 2538              		.loc 1 849 0
 2539 0018 BB68     		ldr	r3, [r7, #8]
 2540 001a 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2541 001c 012B     		cmp	r3, #1
 2542 001e 40F0CD80 		bne	.L130
 850:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 851:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Zero Length Packet? */
 852:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->xfer_len == 0U)
 2543              		.loc 1 852 0
 2544 0022 BB68     		ldr	r3, [r7, #8]
 2545 0024 5B69     		ldr	r3, [r3, #20]
 2546 0026 002B     		cmp	r3, #0
 2547 0028 32D1     		bne	.L131
 853:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 854:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT);
 2548              		.loc 1 854 0
 2549 002a 3B69     		ldr	r3, [r7, #16]
 2550 002c 5A01     		lsls	r2, r3, #5
 2551 002e 7B69     		ldr	r3, [r7, #20]
 2552 0030 1344     		add	r3, r3, r2
 2553 0032 03F51063 		add	r3, r3, #2304
 2554 0036 1B69     		ldr	r3, [r3, #16]
 2555 0038 3A69     		ldr	r2, [r7, #16]
 2556 003a 5101     		lsls	r1, r2, #5
 2557 003c 7A69     		ldr	r2, [r7, #20]
 2558 003e 0A44     		add	r2, r2, r1
 2559 0040 02F51062 		add	r2, r2, #2304
 2560 0044 23F0FF53 		bic	r3, r3, #534773760
 2561 0048 23F4C013 		bic	r3, r3, #1572864
 2562 004c 1361     		str	r3, [r2, #16]
 855:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1U << 19));
 2563              		.loc 1 855 0
 2564 004e 3B69     		ldr	r3, [r7, #16]
 2565 0050 5A01     		lsls	r2, r3, #5
 2566 0052 7B69     		ldr	r3, [r7, #20]
 2567 0054 1344     		add	r3, r3, r2
 2568 0056 03F51063 		add	r3, r3, #2304
 2569 005a 1B69     		ldr	r3, [r3, #16]
 2570 005c 3A69     		ldr	r2, [r7, #16]
 2571 005e 5101     		lsls	r1, r2, #5
 2572 0060 7A69     		ldr	r2, [r7, #20]
 2573 0062 0A44     		add	r2, r2, r1
 2574 0064 02F51062 		add	r2, r2, #2304
 2575 0068 43F40023 		orr	r3, r3, #524288
 2576 006c 1361     		str	r3, [r2, #16]
 856:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 2577              		.loc 1 856 0
 2578 006e 3B69     		ldr	r3, [r7, #16]
 2579 0070 5A01     		lsls	r2, r3, #5
 2580 0072 7B69     		ldr	r3, [r7, #20]
 2581 0074 1344     		add	r3, r3, r2
 2582 0076 03F51063 		add	r3, r3, #2304
ARM GAS  /tmp/ccjl6mF2.s 			page 61


 2583 007a 1B69     		ldr	r3, [r3, #16]
 2584 007c 3A69     		ldr	r2, [r7, #16]
 2585 007e 5101     		lsls	r1, r2, #5
 2586 0080 7A69     		ldr	r2, [r7, #20]
 2587 0082 0A44     		add	r2, r2, r1
 2588 0084 02F51062 		add	r2, r2, #2304
 2589 0088 DB0C     		lsrs	r3, r3, #19
 2590 008a DB04     		lsls	r3, r3, #19
 2591 008c 1361     		str	r3, [r2, #16]
 2592 008e 4EE0     		b	.L132
 2593              	.L131:
 857:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 858:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 859:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 860:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Program the transfer size and packet count
 861:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * as follows: xfersize = N * maxpacket +
 862:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * short_packet pktcnt = N + (short_packet
 863:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * exist ? 1 : 0)
 864:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       */
 865:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 2594              		.loc 1 865 0
 2595 0090 3B69     		ldr	r3, [r7, #16]
 2596 0092 5A01     		lsls	r2, r3, #5
 2597 0094 7B69     		ldr	r3, [r7, #20]
 2598 0096 1344     		add	r3, r3, r2
 2599 0098 03F51063 		add	r3, r3, #2304
 2600 009c 1B69     		ldr	r3, [r3, #16]
 2601 009e 3A69     		ldr	r2, [r7, #16]
 2602 00a0 5101     		lsls	r1, r2, #5
 2603 00a2 7A69     		ldr	r2, [r7, #20]
 2604 00a4 0A44     		add	r2, r2, r1
 2605 00a6 02F51062 		add	r2, r2, #2304
 2606 00aa DB0C     		lsrs	r3, r3, #19
 2607 00ac DB04     		lsls	r3, r3, #19
 2608 00ae 1361     		str	r3, [r2, #16]
 866:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT);
 2609              		.loc 1 866 0
 2610 00b0 3B69     		ldr	r3, [r7, #16]
 2611 00b2 5A01     		lsls	r2, r3, #5
 2612 00b4 7B69     		ldr	r3, [r7, #20]
 2613 00b6 1344     		add	r3, r3, r2
 2614 00b8 03F51063 		add	r3, r3, #2304
 2615 00bc 1B69     		ldr	r3, [r3, #16]
 2616 00be 3A69     		ldr	r2, [r7, #16]
 2617 00c0 5101     		lsls	r1, r2, #5
 2618 00c2 7A69     		ldr	r2, [r7, #20]
 2619 00c4 0A44     		add	r2, r2, r1
 2620 00c6 02F51062 		add	r2, r2, #2304
 2621 00ca 23F0FF53 		bic	r3, r3, #534773760
 2622 00ce 23F4C013 		bic	r3, r3, #1572864
 2623 00d2 1361     		str	r3, [r2, #16]
 867:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 868:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (ep->xfer_len > ep->maxpacket)
 2624              		.loc 1 868 0
 2625 00d4 BB68     		ldr	r3, [r7, #8]
 2626 00d6 5A69     		ldr	r2, [r3, #20]
 2627 00d8 BB68     		ldr	r3, [r7, #8]
ARM GAS  /tmp/ccjl6mF2.s 			page 62


 2628 00da 9B68     		ldr	r3, [r3, #8]
 2629 00dc 9A42     		cmp	r2, r3
 2630 00de 03D9     		bls	.L133
 869:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 870:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         ep->xfer_len = ep->maxpacket;
 2631              		.loc 1 870 0
 2632 00e0 BB68     		ldr	r3, [r7, #8]
 2633 00e2 9A68     		ldr	r2, [r3, #8]
 2634 00e4 BB68     		ldr	r3, [r7, #8]
 2635 00e6 5A61     		str	r2, [r3, #20]
 2636              	.L133:
 871:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 872:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1U << 19));
 2637              		.loc 1 872 0
 2638 00e8 3B69     		ldr	r3, [r7, #16]
 2639 00ea 5A01     		lsls	r2, r3, #5
 2640 00ec 7B69     		ldr	r3, [r7, #20]
 2641 00ee 1344     		add	r3, r3, r2
 2642 00f0 03F51063 		add	r3, r3, #2304
 2643 00f4 1B69     		ldr	r3, [r3, #16]
 2644 00f6 3A69     		ldr	r2, [r7, #16]
 2645 00f8 5101     		lsls	r1, r2, #5
 2646 00fa 7A69     		ldr	r2, [r7, #20]
 2647 00fc 0A44     		add	r2, r2, r1
 2648 00fe 02F51062 		add	r2, r2, #2304
 2649 0102 43F40023 		orr	r3, r3, #524288
 2650 0106 1361     		str	r3, [r2, #16]
 873:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_XFRSIZ & ep->xfer_len);
 2651              		.loc 1 873 0
 2652 0108 3B69     		ldr	r3, [r7, #16]
 2653 010a 5A01     		lsls	r2, r3, #5
 2654 010c 7B69     		ldr	r3, [r7, #20]
 2655 010e 1344     		add	r3, r3, r2
 2656 0110 03F51063 		add	r3, r3, #2304
 2657 0114 1A69     		ldr	r2, [r3, #16]
 2658 0116 BB68     		ldr	r3, [r7, #8]
 2659 0118 5B69     		ldr	r3, [r3, #20]
 2660 011a C3F31203 		ubfx	r3, r3, #0, #19
 2661 011e 3969     		ldr	r1, [r7, #16]
 2662 0120 4801     		lsls	r0, r1, #5
 2663 0122 7969     		ldr	r1, [r7, #20]
 2664 0124 0144     		add	r1, r1, r0
 2665 0126 01F51061 		add	r1, r1, #2304
 2666 012a 1343     		orrs	r3, r3, r2
 2667 012c 0B61     		str	r3, [r1, #16]
 2668              	.L132:
 874:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 875:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 876:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (dma == 1U)
 2669              		.loc 1 876 0
 2670 012e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2671 0130 012B     		cmp	r3, #1
 2672 0132 1ED1     		bne	.L134
 877:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 878:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((uint32_t)ep->dma_addr != 0U)
 2673              		.loc 1 878 0
 2674 0134 BB68     		ldr	r3, [r7, #8]
ARM GAS  /tmp/ccjl6mF2.s 			page 63


 2675 0136 1B69     		ldr	r3, [r3, #16]
 2676 0138 002B     		cmp	r3, #0
 2677 013a 09D0     		beq	.L135
 879:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 880:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(epnum)->DIEPDMA = (uint32_t)(ep->dma_addr);
 2678              		.loc 1 880 0
 2679 013c 3B69     		ldr	r3, [r7, #16]
 2680 013e 5A01     		lsls	r2, r3, #5
 2681 0140 7B69     		ldr	r3, [r7, #20]
 2682 0142 1344     		add	r3, r3, r2
 2683 0144 03F51063 		add	r3, r3, #2304
 2684 0148 1A46     		mov	r2, r3
 2685 014a BB68     		ldr	r3, [r7, #8]
 2686 014c 1B69     		ldr	r3, [r3, #16]
 2687 014e 5361     		str	r3, [r2, #20]
 2688              	.L135:
 881:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 882:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 883:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* EP enable, IN data in FIFO */
 884:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (USB_OTG_DIEPCTL_CNAK | USB_OTG_DIEPCTL_EPENA);
 2689              		.loc 1 884 0
 2690 0150 3B69     		ldr	r3, [r7, #16]
 2691 0152 5A01     		lsls	r2, r3, #5
 2692 0154 7B69     		ldr	r3, [r7, #20]
 2693 0156 1344     		add	r3, r3, r2
 2694 0158 03F51063 		add	r3, r3, #2304
 2695 015c 1B68     		ldr	r3, [r3]
 2696 015e 3A69     		ldr	r2, [r7, #16]
 2697 0160 5101     		lsls	r1, r2, #5
 2698 0162 7A69     		ldr	r2, [r7, #20]
 2699 0164 0A44     		add	r2, r2, r1
 2700 0166 02F51062 		add	r2, r2, #2304
 2701 016a 43F00443 		orr	r3, r3, #-2080374784
 2702 016e 1360     		str	r3, [r2]
 2703 0170 92E0     		b	.L137
 2704              	.L134:
 885:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 886:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 887:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 888:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* EP enable, IN data in FIFO */
 889:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (USB_OTG_DIEPCTL_CNAK | USB_OTG_DIEPCTL_EPENA);
 2705              		.loc 1 889 0
 2706 0172 3B69     		ldr	r3, [r7, #16]
 2707 0174 5A01     		lsls	r2, r3, #5
 2708 0176 7B69     		ldr	r3, [r7, #20]
 2709 0178 1344     		add	r3, r3, r2
 2710 017a 03F51063 		add	r3, r3, #2304
 2711 017e 1B68     		ldr	r3, [r3]
 2712 0180 3A69     		ldr	r2, [r7, #16]
 2713 0182 5101     		lsls	r1, r2, #5
 2714 0184 7A69     		ldr	r2, [r7, #20]
 2715 0186 0A44     		add	r2, r2, r1
 2716 0188 02F51062 		add	r2, r2, #2304
 2717 018c 43F00443 		orr	r3, r3, #-2080374784
 2718 0190 1360     		str	r3, [r2]
 890:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 891:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Enable the Tx FIFO Empty Interrupt for this EP */
ARM GAS  /tmp/ccjl6mF2.s 			page 64


 892:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (ep->xfer_len > 0U)
 2719              		.loc 1 892 0
 2720 0192 BB68     		ldr	r3, [r7, #8]
 2721 0194 5B69     		ldr	r3, [r3, #20]
 2722 0196 002B     		cmp	r3, #0
 2723 0198 7ED0     		beq	.L137
 893:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 894:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_DEVICE->DIEPEMPMSK |= 1UL << (ep->num & EP_ADDR_MSK);
 2724              		.loc 1 894 0
 2725 019a 7B69     		ldr	r3, [r7, #20]
 2726 019c 03F50063 		add	r3, r3, #2048
 2727 01a0 5A6B     		ldr	r2, [r3, #52]
 2728 01a2 BB68     		ldr	r3, [r7, #8]
 2729 01a4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2730 01a6 03F00F03 		and	r3, r3, #15
 2731 01aa 0121     		movs	r1, #1
 2732 01ac 01FA03F3 		lsl	r3, r1, r3
 2733 01b0 7969     		ldr	r1, [r7, #20]
 2734 01b2 01F50061 		add	r1, r1, #2048
 2735 01b6 1343     		orrs	r3, r3, r2
 2736 01b8 4B63     		str	r3, [r1, #52]
 2737 01ba 6DE0     		b	.L137
 2738              	.L130:
 895:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 896:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 897:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 898:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else /* OUT endpoint */
 899:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 900:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Program the transfer size and packet count as follows:
 901:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     * pktcnt = N
 902:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     * xfersize = N * maxpacket
 903:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     */
 904:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_XFRSIZ);
 2739              		.loc 1 904 0
 2740 01bc 3B69     		ldr	r3, [r7, #16]
 2741 01be 5A01     		lsls	r2, r3, #5
 2742 01c0 7B69     		ldr	r3, [r7, #20]
 2743 01c2 1344     		add	r3, r3, r2
 2744 01c4 03F53063 		add	r3, r3, #2816
 2745 01c8 1B69     		ldr	r3, [r3, #16]
 2746 01ca 3A69     		ldr	r2, [r7, #16]
 2747 01cc 5101     		lsls	r1, r2, #5
 2748 01ce 7A69     		ldr	r2, [r7, #20]
 2749 01d0 0A44     		add	r2, r2, r1
 2750 01d2 02F53062 		add	r2, r2, #2816
 2751 01d6 DB0C     		lsrs	r3, r3, #19
 2752 01d8 DB04     		lsls	r3, r3, #19
 2753 01da 1361     		str	r3, [r2, #16]
 905:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_PKTCNT);
 2754              		.loc 1 905 0
 2755 01dc 3B69     		ldr	r3, [r7, #16]
 2756 01de 5A01     		lsls	r2, r3, #5
 2757 01e0 7B69     		ldr	r3, [r7, #20]
 2758 01e2 1344     		add	r3, r3, r2
 2759 01e4 03F53063 		add	r3, r3, #2816
 2760 01e8 1B69     		ldr	r3, [r3, #16]
 2761 01ea 3A69     		ldr	r2, [r7, #16]
ARM GAS  /tmp/ccjl6mF2.s 			page 65


 2762 01ec 5101     		lsls	r1, r2, #5
 2763 01ee 7A69     		ldr	r2, [r7, #20]
 2764 01f0 0A44     		add	r2, r2, r1
 2765 01f2 02F53062 		add	r2, r2, #2816
 2766 01f6 23F0FF53 		bic	r3, r3, #534773760
 2767 01fa 23F4C013 		bic	r3, r3, #1572864
 2768 01fe 1361     		str	r3, [r2, #16]
 906:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 907:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->xfer_len > 0U)
 2769              		.loc 1 907 0
 2770 0200 BB68     		ldr	r3, [r7, #8]
 2771 0202 5B69     		ldr	r3, [r3, #20]
 2772 0204 002B     		cmp	r3, #0
 2773 0206 03D0     		beq	.L138
 908:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 909:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       ep->xfer_len = ep->maxpacket;
 2774              		.loc 1 909 0
 2775 0208 BB68     		ldr	r3, [r7, #8]
 2776 020a 9A68     		ldr	r2, [r3, #8]
 2777 020c BB68     		ldr	r3, [r7, #8]
 2778 020e 5A61     		str	r2, [r3, #20]
 2779              	.L138:
 910:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 911:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 912:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1U << 19));
 2780              		.loc 1 912 0
 2781 0210 3B69     		ldr	r3, [r7, #16]
 2782 0212 5A01     		lsls	r2, r3, #5
 2783 0214 7B69     		ldr	r3, [r7, #20]
 2784 0216 1344     		add	r3, r3, r2
 2785 0218 03F53063 		add	r3, r3, #2816
 2786 021c 1B69     		ldr	r3, [r3, #16]
 2787 021e 3A69     		ldr	r2, [r7, #16]
 2788 0220 5101     		lsls	r1, r2, #5
 2789 0222 7A69     		ldr	r2, [r7, #20]
 2790 0224 0A44     		add	r2, r2, r1
 2791 0226 02F53062 		add	r2, r2, #2816
 2792 022a 43F40023 		orr	r3, r3, #524288
 2793 022e 1361     		str	r3, [r2, #16]
 913:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_XFRSIZ & (ep->maxpacket));
 2794              		.loc 1 913 0
 2795 0230 3B69     		ldr	r3, [r7, #16]
 2796 0232 5A01     		lsls	r2, r3, #5
 2797 0234 7B69     		ldr	r3, [r7, #20]
 2798 0236 1344     		add	r3, r3, r2
 2799 0238 03F53063 		add	r3, r3, #2816
 2800 023c 1A69     		ldr	r2, [r3, #16]
 2801 023e BB68     		ldr	r3, [r7, #8]
 2802 0240 9B68     		ldr	r3, [r3, #8]
 2803 0242 C3F31203 		ubfx	r3, r3, #0, #19
 2804 0246 3969     		ldr	r1, [r7, #16]
 2805 0248 4801     		lsls	r0, r1, #5
 2806 024a 7969     		ldr	r1, [r7, #20]
 2807 024c 0144     		add	r1, r1, r0
 2808 024e 01F53061 		add	r1, r1, #2816
 2809 0252 1343     		orrs	r3, r3, r2
 2810 0254 0B61     		str	r3, [r1, #16]
ARM GAS  /tmp/ccjl6mF2.s 			page 66


 914:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 915:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (dma == 1U)
 2811              		.loc 1 915 0
 2812 0256 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2813 0258 012B     		cmp	r3, #1
 2814 025a 0DD1     		bne	.L139
 916:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 917:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((uint32_t)ep->xfer_buff != 0U)
 2815              		.loc 1 917 0
 2816 025c BB68     		ldr	r3, [r7, #8]
 2817 025e DB68     		ldr	r3, [r3, #12]
 2818 0260 002B     		cmp	r3, #0
 2819 0262 09D0     		beq	.L139
 918:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 919:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(epnum)->DOEPDMA = (uint32_t)(ep->xfer_buff);
 2820              		.loc 1 919 0
 2821 0264 BB68     		ldr	r3, [r7, #8]
 2822 0266 D968     		ldr	r1, [r3, #12]
 2823 0268 3B69     		ldr	r3, [r7, #16]
 2824 026a 5A01     		lsls	r2, r3, #5
 2825 026c 7B69     		ldr	r3, [r7, #20]
 2826 026e 1344     		add	r3, r3, r2
 2827 0270 03F53063 		add	r3, r3, #2816
 2828 0274 0A46     		mov	r2, r1
 2829 0276 5A61     		str	r2, [r3, #20]
 2830              	.L139:
 920:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 921:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 922:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 923:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* EP enable */
 924:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL |= (USB_OTG_DOEPCTL_CNAK | USB_OTG_DOEPCTL_EPENA);
 2831              		.loc 1 924 0
 2832 0278 3B69     		ldr	r3, [r7, #16]
 2833 027a 5A01     		lsls	r2, r3, #5
 2834 027c 7B69     		ldr	r3, [r7, #20]
 2835 027e 1344     		add	r3, r3, r2
 2836 0280 03F53063 		add	r3, r3, #2816
 2837 0284 1B68     		ldr	r3, [r3]
 2838 0286 3A69     		ldr	r2, [r7, #16]
 2839 0288 5101     		lsls	r1, r2, #5
 2840 028a 7A69     		ldr	r2, [r7, #20]
 2841 028c 0A44     		add	r2, r2, r1
 2842 028e 02F53062 		add	r2, r2, #2816
 2843 0292 43F00443 		orr	r3, r3, #-2080374784
 2844 0296 1360     		str	r3, [r2]
 2845              	.L137:
 925:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 926:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 927:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 2846              		.loc 1 927 0
 2847 0298 0023     		movs	r3, #0
 928:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 2848              		.loc 1 928 0
 2849 029a 1846     		mov	r0, r3
 2850 029c 1C37     		adds	r7, r7, #28
 2851              	.LCFI95:
 2852              		.cfi_def_cfa_offset 4
ARM GAS  /tmp/ccjl6mF2.s 			page 67


 2853 029e BD46     		mov	sp, r7
 2854              	.LCFI96:
 2855              		.cfi_def_cfa_register 13
 2856              		@ sp needed
 2857 02a0 5DF8047B 		ldr	r7, [sp], #4
 2858              	.LCFI97:
 2859              		.cfi_restore 7
 2860              		.cfi_def_cfa_offset 0
 2861 02a4 7047     		bx	lr
 2862              		.cfi_endproc
 2863              	.LFE145:
 2865              		.section	.text.USB_WritePacket,"ax",%progbits
 2866              		.align	1
 2867              		.global	USB_WritePacket
 2868              		.syntax unified
 2869              		.thumb
 2870              		.thumb_func
 2871              		.fpu fpv4-sp-d16
 2873              	USB_WritePacket:
 2874              	.LFB146:
 929:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 930:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 931:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_WritePacket : Writes a packet into the Tx FIFO associated
 932:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         with the EP/channel
 933:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 934:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  src   pointer to source buffer
 935:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ch_ep_num  endpoint or host channel number
 936:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  len  Number of bytes to write
 937:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled
 938:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 939:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used
 940:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used
 941:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 942:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 943:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_WritePacket(USB_OTG_GlobalTypeDef *USBx, uint8_t *src, uint8_t ch_ep_num, uin
 944:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 2875              		.loc 1 944 0
 2876              		.cfi_startproc
 2877              		@ args = 4, pretend = 0, frame = 32
 2878              		@ frame_needed = 1, uses_anonymous_args = 0
 2879              		@ link register save eliminated.
 2880 0000 80B4     		push	{r7}
 2881              	.LCFI98:
 2882              		.cfi_def_cfa_offset 4
 2883              		.cfi_offset 7, -4
 2884 0002 89B0     		sub	sp, sp, #36
 2885              	.LCFI99:
 2886              		.cfi_def_cfa_offset 40
 2887 0004 00AF     		add	r7, sp, #0
 2888              	.LCFI100:
 2889              		.cfi_def_cfa_register 7
 2890 0006 F860     		str	r0, [r7, #12]
 2891 0008 B960     		str	r1, [r7, #8]
 2892 000a 1146     		mov	r1, r2
 2893 000c 1A46     		mov	r2, r3
 2894 000e 0B46     		mov	r3, r1
 2895 0010 FB71     		strb	r3, [r7, #7]
ARM GAS  /tmp/ccjl6mF2.s 			page 68


 2896 0012 1346     		mov	r3, r2	@ movhi
 2897 0014 BB80     		strh	r3, [r7, #4]	@ movhi
 945:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 2898              		.loc 1 945 0
 2899 0016 FB68     		ldr	r3, [r7, #12]
 2900 0018 7B61     		str	r3, [r7, #20]
 946:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t *pSrc = (uint32_t *)src;
 2901              		.loc 1 946 0
 2902 001a BB68     		ldr	r3, [r7, #8]
 2903 001c FB61     		str	r3, [r7, #28]
 947:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count32b, i;
 948:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 949:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (dma == 0U)
 2904              		.loc 1 949 0
 2905 001e 97F82830 		ldrb	r3, [r7, #40]	@ zero_extendqisi2
 2906 0022 002B     		cmp	r3, #0
 2907 0024 1AD1     		bne	.L142
 950:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 951:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     count32b = ((uint32_t)len + 3U) / 4U;
 2908              		.loc 1 951 0
 2909 0026 BB88     		ldrh	r3, [r7, #4]
 2910 0028 0333     		adds	r3, r3, #3
 2911 002a 9B08     		lsrs	r3, r3, #2
 2912 002c 3B61     		str	r3, [r7, #16]
 952:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     for (i = 0U; i < count32b; i++)
 2913              		.loc 1 952 0
 2914 002e 0023     		movs	r3, #0
 2915 0030 BB61     		str	r3, [r7, #24]
 2916 0032 0FE0     		b	.L143
 2917              	.L144:
 953:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 954:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_DFIFO((uint32_t)ch_ep_num) = __UNALIGNED_UINT32_READ(pSrc);
 2918              		.loc 1 954 0 discriminator 3
 2919 0034 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2920 0036 1A03     		lsls	r2, r3, #12
 2921 0038 7B69     		ldr	r3, [r7, #20]
 2922 003a 1344     		add	r3, r3, r2
 2923 003c 03F58053 		add	r3, r3, #4096
 2924 0040 1A46     		mov	r2, r3
 2925 0042 FB69     		ldr	r3, [r7, #28]
 2926 0044 1B68     		ldr	r3, [r3]	@ unaligned
 2927 0046 1360     		str	r3, [r2]
 955:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       pSrc++;
 2928              		.loc 1 955 0 discriminator 3
 2929 0048 FB69     		ldr	r3, [r7, #28]
 2930 004a 0433     		adds	r3, r3, #4
 2931 004c FB61     		str	r3, [r7, #28]
 952:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     for (i = 0U; i < count32b; i++)
 2932              		.loc 1 952 0 discriminator 3
 2933 004e BB69     		ldr	r3, [r7, #24]
 2934 0050 0133     		adds	r3, r3, #1
 2935 0052 BB61     		str	r3, [r7, #24]
 2936              	.L143:
 952:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     for (i = 0U; i < count32b; i++)
 2937              		.loc 1 952 0 is_stmt 0 discriminator 1
 2938 0054 BA69     		ldr	r2, [r7, #24]
 2939 0056 3B69     		ldr	r3, [r7, #16]
ARM GAS  /tmp/ccjl6mF2.s 			page 69


 2940 0058 9A42     		cmp	r2, r3
 2941 005a EBD3     		bcc	.L144
 2942              	.L142:
 956:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 957:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 958:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 959:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 2943              		.loc 1 959 0 is_stmt 1
 2944 005c 0023     		movs	r3, #0
 960:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 2945              		.loc 1 960 0
 2946 005e 1846     		mov	r0, r3
 2947 0060 2437     		adds	r7, r7, #36
 2948              	.LCFI101:
 2949              		.cfi_def_cfa_offset 4
 2950 0062 BD46     		mov	sp, r7
 2951              	.LCFI102:
 2952              		.cfi_def_cfa_register 13
 2953              		@ sp needed
 2954 0064 5DF8047B 		ldr	r7, [sp], #4
 2955              	.LCFI103:
 2956              		.cfi_restore 7
 2957              		.cfi_def_cfa_offset 0
 2958 0068 7047     		bx	lr
 2959              		.cfi_endproc
 2960              	.LFE146:
 2962              		.section	.text.USB_ReadPacket,"ax",%progbits
 2963              		.align	1
 2964              		.global	USB_ReadPacket
 2965              		.syntax unified
 2966              		.thumb
 2967              		.thumb_func
 2968              		.fpu fpv4-sp-d16
 2970              	USB_ReadPacket:
 2971              	.LFB147:
 961:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 962:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 963:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ReadPacket : read a packet from the RX FIFO
 964:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 965:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dest  source pointer
 966:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  len  Number of bytes to read
 967:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval pointer to destination buffer
 968:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 969:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** void *USB_ReadPacket(USB_OTG_GlobalTypeDef *USBx, uint8_t *dest, uint16_t len)
 970:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 2972              		.loc 1 970 0
 2973              		.cfi_startproc
 2974              		@ args = 0, pretend = 0, frame = 32
 2975              		@ frame_needed = 1, uses_anonymous_args = 0
 2976              		@ link register save eliminated.
 2977 0000 80B4     		push	{r7}
 2978              	.LCFI104:
 2979              		.cfi_def_cfa_offset 4
 2980              		.cfi_offset 7, -4
 2981 0002 89B0     		sub	sp, sp, #36
 2982              	.LCFI105:
 2983              		.cfi_def_cfa_offset 40
ARM GAS  /tmp/ccjl6mF2.s 			page 70


 2984 0004 00AF     		add	r7, sp, #0
 2985              	.LCFI106:
 2986              		.cfi_def_cfa_register 7
 2987 0006 F860     		str	r0, [r7, #12]
 2988 0008 B960     		str	r1, [r7, #8]
 2989 000a 1346     		mov	r3, r2
 2990 000c FB80     		strh	r3, [r7, #6]	@ movhi
 971:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 2991              		.loc 1 971 0
 2992 000e FB68     		ldr	r3, [r7, #12]
 2993 0010 7B61     		str	r3, [r7, #20]
 972:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t *pDest = (uint32_t *)dest;
 2994              		.loc 1 972 0
 2995 0012 BB68     		ldr	r3, [r7, #8]
 2996 0014 FB61     		str	r3, [r7, #28]
 973:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i;
 974:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count32b = ((uint32_t)len + 3U) / 4U;
 2997              		.loc 1 974 0
 2998 0016 FB88     		ldrh	r3, [r7, #6]
 2999 0018 0333     		adds	r3, r3, #3
 3000 001a 9B08     		lsrs	r3, r3, #2
 3001 001c 3B61     		str	r3, [r7, #16]
 975:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 976:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < count32b; i++)
 3002              		.loc 1 976 0
 3003 001e 0023     		movs	r3, #0
 3004 0020 BB61     		str	r3, [r7, #24]
 3005 0022 0BE0     		b	.L147
 3006              	.L148:
 977:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 978:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     __UNALIGNED_UINT32_WRITE(pDest, USBx_DFIFO(0U));
 3007              		.loc 1 978 0 discriminator 3
 3008 0024 7B69     		ldr	r3, [r7, #20]
 3009 0026 03F58053 		add	r3, r3, #4096
 3010 002a 1A68     		ldr	r2, [r3]
 3011 002c FB69     		ldr	r3, [r7, #28]
 3012 002e 1A60     		str	r2, [r3]	@ unaligned
 979:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     pDest++;
 3013              		.loc 1 979 0 discriminator 3
 3014 0030 FB69     		ldr	r3, [r7, #28]
 3015 0032 0433     		adds	r3, r3, #4
 3016 0034 FB61     		str	r3, [r7, #28]
 976:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 3017              		.loc 1 976 0 discriminator 3
 3018 0036 BB69     		ldr	r3, [r7, #24]
 3019 0038 0133     		adds	r3, r3, #1
 3020 003a BB61     		str	r3, [r7, #24]
 3021              	.L147:
 976:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 3022              		.loc 1 976 0 is_stmt 0 discriminator 1
 3023 003c BA69     		ldr	r2, [r7, #24]
 3024 003e 3B69     		ldr	r3, [r7, #16]
 3025 0040 9A42     		cmp	r2, r3
 3026 0042 EFD3     		bcc	.L148
 980:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 981:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 982:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((void *)pDest);
ARM GAS  /tmp/ccjl6mF2.s 			page 71


 3027              		.loc 1 982 0 is_stmt 1
 3028 0044 FB69     		ldr	r3, [r7, #28]
 983:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3029              		.loc 1 983 0
 3030 0046 1846     		mov	r0, r3
 3031 0048 2437     		adds	r7, r7, #36
 3032              	.LCFI107:
 3033              		.cfi_def_cfa_offset 4
 3034 004a BD46     		mov	sp, r7
 3035              	.LCFI108:
 3036              		.cfi_def_cfa_register 13
 3037              		@ sp needed
 3038 004c 5DF8047B 		ldr	r7, [sp], #4
 3039              	.LCFI109:
 3040              		.cfi_restore 7
 3041              		.cfi_def_cfa_offset 0
 3042 0050 7047     		bx	lr
 3043              		.cfi_endproc
 3044              	.LFE147:
 3046              		.section	.text.USB_EPSetStall,"ax",%progbits
 3047              		.align	1
 3048              		.global	USB_EPSetStall
 3049              		.syntax unified
 3050              		.thumb
 3051              		.thumb_func
 3052              		.fpu fpv4-sp-d16
 3054              	USB_EPSetStall:
 3055              	.LFB148:
 984:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 985:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 986:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EPSetStall : set a stall condition over an EP
 987:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 988:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 989:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 990:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 991:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPSetStall(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 992:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3056              		.loc 1 992 0
 3057              		.cfi_startproc
 3058              		@ args = 0, pretend = 0, frame = 16
 3059              		@ frame_needed = 1, uses_anonymous_args = 0
 3060              		@ link register save eliminated.
 3061 0000 80B4     		push	{r7}
 3062              	.LCFI110:
 3063              		.cfi_def_cfa_offset 4
 3064              		.cfi_offset 7, -4
 3065 0002 85B0     		sub	sp, sp, #20
 3066              	.LCFI111:
 3067              		.cfi_def_cfa_offset 24
 3068 0004 00AF     		add	r7, sp, #0
 3069              	.LCFI112:
 3070              		.cfi_def_cfa_register 7
 3071 0006 7860     		str	r0, [r7, #4]
 3072 0008 3960     		str	r1, [r7]
 993:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3073              		.loc 1 993 0
 3074 000a 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccjl6mF2.s 			page 72


 3075 000c FB60     		str	r3, [r7, #12]
 994:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 3076              		.loc 1 994 0
 3077 000e 3B68     		ldr	r3, [r7]
 3078 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3079 0012 BB60     		str	r3, [r7, #8]
 995:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 996:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 3080              		.loc 1 996 0
 3081 0014 3B68     		ldr	r3, [r7]
 3082 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3083 0018 012B     		cmp	r3, #1
 3084 001a 2CD1     		bne	.L151
 997:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 998:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_INEP(epnum)->DIEPCTL & USB_OTG_DIEPCTL_EPENA) == 0U) && (epnum != 0U))
 3085              		.loc 1 998 0
 3086 001c BB68     		ldr	r3, [r7, #8]
 3087 001e 5A01     		lsls	r2, r3, #5
 3088 0020 FB68     		ldr	r3, [r7, #12]
 3089 0022 1344     		add	r3, r3, r2
 3090 0024 03F51063 		add	r3, r3, #2304
 3091 0028 1B68     		ldr	r3, [r3]
 3092 002a 002B     		cmp	r3, #0
 3093 002c 12DB     		blt	.L152
 3094              		.loc 1 998 0 is_stmt 0 discriminator 1
 3095 002e BB68     		ldr	r3, [r7, #8]
 3096 0030 002B     		cmp	r3, #0
 3097 0032 0FD0     		beq	.L152
 999:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1000:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL &= ~(USB_OTG_DIEPCTL_EPDIS);
 3098              		.loc 1 1000 0 is_stmt 1
 3099 0034 BB68     		ldr	r3, [r7, #8]
 3100 0036 5A01     		lsls	r2, r3, #5
 3101 0038 FB68     		ldr	r3, [r7, #12]
 3102 003a 1344     		add	r3, r3, r2
 3103 003c 03F51063 		add	r3, r3, #2304
 3104 0040 1B68     		ldr	r3, [r3]
 3105 0042 BA68     		ldr	r2, [r7, #8]
 3106 0044 5101     		lsls	r1, r2, #5
 3107 0046 FA68     		ldr	r2, [r7, #12]
 3108 0048 0A44     		add	r2, r2, r1
 3109 004a 02F51062 		add	r2, r2, #2304
 3110 004e 23F08043 		bic	r3, r3, #1073741824
 3111 0052 1360     		str	r3, [r2]
 3112              	.L152:
1001:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1002:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_STALL;
 3113              		.loc 1 1002 0
 3114 0054 BB68     		ldr	r3, [r7, #8]
 3115 0056 5A01     		lsls	r2, r3, #5
 3116 0058 FB68     		ldr	r3, [r7, #12]
 3117 005a 1344     		add	r3, r3, r2
 3118 005c 03F51063 		add	r3, r3, #2304
 3119 0060 1B68     		ldr	r3, [r3]
 3120 0062 BA68     		ldr	r2, [r7, #8]
 3121 0064 5101     		lsls	r1, r2, #5
 3122 0066 FA68     		ldr	r2, [r7, #12]
ARM GAS  /tmp/ccjl6mF2.s 			page 73


 3123 0068 0A44     		add	r2, r2, r1
 3124 006a 02F51062 		add	r2, r2, #2304
 3125 006e 43F40013 		orr	r3, r3, #2097152
 3126 0072 1360     		str	r3, [r2]
 3127 0074 2BE0     		b	.L153
 3128              	.L151:
1003:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1004:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1005:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1006:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_OUTEP(epnum)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == 0U) && (epnum != 0U))
 3129              		.loc 1 1006 0
 3130 0076 BB68     		ldr	r3, [r7, #8]
 3131 0078 5A01     		lsls	r2, r3, #5
 3132 007a FB68     		ldr	r3, [r7, #12]
 3133 007c 1344     		add	r3, r3, r2
 3134 007e 03F53063 		add	r3, r3, #2816
 3135 0082 1B68     		ldr	r3, [r3]
 3136 0084 002B     		cmp	r3, #0
 3137 0086 12DB     		blt	.L154
 3138              		.loc 1 1006 0 is_stmt 0 discriminator 1
 3139 0088 BB68     		ldr	r3, [r7, #8]
 3140 008a 002B     		cmp	r3, #0
 3141 008c 0FD0     		beq	.L154
1007:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1008:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL &= ~(USB_OTG_DOEPCTL_EPDIS);
 3142              		.loc 1 1008 0 is_stmt 1
 3143 008e BB68     		ldr	r3, [r7, #8]
 3144 0090 5A01     		lsls	r2, r3, #5
 3145 0092 FB68     		ldr	r3, [r7, #12]
 3146 0094 1344     		add	r3, r3, r2
 3147 0096 03F53063 		add	r3, r3, #2816
 3148 009a 1B68     		ldr	r3, [r3]
 3149 009c BA68     		ldr	r2, [r7, #8]
 3150 009e 5101     		lsls	r1, r2, #5
 3151 00a0 FA68     		ldr	r2, [r7, #12]
 3152 00a2 0A44     		add	r2, r2, r1
 3153 00a4 02F53062 		add	r2, r2, #2816
 3154 00a8 23F08043 		bic	r3, r3, #1073741824
 3155 00ac 1360     		str	r3, [r2]
 3156              	.L154:
1009:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1010:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_STALL;
 3157              		.loc 1 1010 0
 3158 00ae BB68     		ldr	r3, [r7, #8]
 3159 00b0 5A01     		lsls	r2, r3, #5
 3160 00b2 FB68     		ldr	r3, [r7, #12]
 3161 00b4 1344     		add	r3, r3, r2
 3162 00b6 03F53063 		add	r3, r3, #2816
 3163 00ba 1B68     		ldr	r3, [r3]
 3164 00bc BA68     		ldr	r2, [r7, #8]
 3165 00be 5101     		lsls	r1, r2, #5
 3166 00c0 FA68     		ldr	r2, [r7, #12]
 3167 00c2 0A44     		add	r2, r2, r1
 3168 00c4 02F53062 		add	r2, r2, #2816
 3169 00c8 43F40013 		orr	r3, r3, #2097152
 3170 00cc 1360     		str	r3, [r2]
 3171              	.L153:
ARM GAS  /tmp/ccjl6mF2.s 			page 74


1011:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1012:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1013:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 3172              		.loc 1 1013 0
 3173 00ce 0023     		movs	r3, #0
1014:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3174              		.loc 1 1014 0
 3175 00d0 1846     		mov	r0, r3
 3176 00d2 1437     		adds	r7, r7, #20
 3177              	.LCFI113:
 3178              		.cfi_def_cfa_offset 4
 3179 00d4 BD46     		mov	sp, r7
 3180              	.LCFI114:
 3181              		.cfi_def_cfa_register 13
 3182              		@ sp needed
 3183 00d6 5DF8047B 		ldr	r7, [sp], #4
 3184              	.LCFI115:
 3185              		.cfi_restore 7
 3186              		.cfi_def_cfa_offset 0
 3187 00da 7047     		bx	lr
 3188              		.cfi_endproc
 3189              	.LFE148:
 3191              		.section	.text.USB_EPClearStall,"ax",%progbits
 3192              		.align	1
 3193              		.global	USB_EPClearStall
 3194              		.syntax unified
 3195              		.thumb
 3196              		.thumb_func
 3197              		.fpu fpv4-sp-d16
 3199              	USB_EPClearStall:
 3200              	.LFB149:
1015:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1016:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1017:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EPClearStall : Clear a stall condition over an EP
1018:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1019:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
1020:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1021:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1022:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPClearStall(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
1023:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3201              		.loc 1 1023 0
 3202              		.cfi_startproc
 3203              		@ args = 0, pretend = 0, frame = 16
 3204              		@ frame_needed = 1, uses_anonymous_args = 0
 3205              		@ link register save eliminated.
 3206 0000 80B4     		push	{r7}
 3207              	.LCFI116:
 3208              		.cfi_def_cfa_offset 4
 3209              		.cfi_offset 7, -4
 3210 0002 85B0     		sub	sp, sp, #20
 3211              	.LCFI117:
 3212              		.cfi_def_cfa_offset 24
 3213 0004 00AF     		add	r7, sp, #0
 3214              	.LCFI118:
 3215              		.cfi_def_cfa_register 7
 3216 0006 7860     		str	r0, [r7, #4]
 3217 0008 3960     		str	r1, [r7]
ARM GAS  /tmp/ccjl6mF2.s 			page 75


1024:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3218              		.loc 1 1024 0
 3219 000a 7B68     		ldr	r3, [r7, #4]
 3220 000c FB60     		str	r3, [r7, #12]
1025:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 3221              		.loc 1 1025 0
 3222 000e 3B68     		ldr	r3, [r7]
 3223 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3224 0012 BB60     		str	r3, [r7, #8]
1026:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1027:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 3225              		.loc 1 1027 0
 3226 0014 3B68     		ldr	r3, [r7]
 3227 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3228 0018 012B     		cmp	r3, #1
 3229 001a 28D1     		bne	.L157
1028:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1029:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL &= ~USB_OTG_DIEPCTL_STALL;
 3230              		.loc 1 1029 0
 3231 001c BB68     		ldr	r3, [r7, #8]
 3232 001e 5A01     		lsls	r2, r3, #5
 3233 0020 FB68     		ldr	r3, [r7, #12]
 3234 0022 1344     		add	r3, r3, r2
 3235 0024 03F51063 		add	r3, r3, #2304
 3236 0028 1B68     		ldr	r3, [r3]
 3237 002a BA68     		ldr	r2, [r7, #8]
 3238 002c 5101     		lsls	r1, r2, #5
 3239 002e FA68     		ldr	r2, [r7, #12]
 3240 0030 0A44     		add	r2, r2, r1
 3241 0032 02F51062 		add	r2, r2, #2304
 3242 0036 23F40013 		bic	r3, r3, #2097152
 3243 003a 1360     		str	r3, [r2]
1030:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((ep->type == EP_TYPE_INTR) || (ep->type == EP_TYPE_BULK))
 3244              		.loc 1 1030 0
 3245 003c 3B68     		ldr	r3, [r7]
 3246 003e DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 3247 0040 032B     		cmp	r3, #3
 3248 0042 03D0     		beq	.L158
 3249              		.loc 1 1030 0 is_stmt 0 discriminator 1
 3250 0044 3B68     		ldr	r3, [r7]
 3251 0046 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 3252 0048 022B     		cmp	r3, #2
 3253 004a 38D1     		bne	.L160
 3254              	.L158:
1031:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1032:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SD0PID_SEVNFRM; /* DATA0 */
 3255              		.loc 1 1032 0 is_stmt 1
 3256 004c BB68     		ldr	r3, [r7, #8]
 3257 004e 5A01     		lsls	r2, r3, #5
 3258 0050 FB68     		ldr	r3, [r7, #12]
 3259 0052 1344     		add	r3, r3, r2
 3260 0054 03F51063 		add	r3, r3, #2304
 3261 0058 1B68     		ldr	r3, [r3]
 3262 005a BA68     		ldr	r2, [r7, #8]
 3263 005c 5101     		lsls	r1, r2, #5
 3264 005e FA68     		ldr	r2, [r7, #12]
 3265 0060 0A44     		add	r2, r2, r1
ARM GAS  /tmp/ccjl6mF2.s 			page 76


 3266 0062 02F51062 		add	r2, r2, #2304
 3267 0066 43F08053 		orr	r3, r3, #268435456
 3268 006a 1360     		str	r3, [r2]
 3269 006c 27E0     		b	.L160
 3270              	.L157:
1033:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1034:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1035:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1036:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1037:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL &= ~USB_OTG_DOEPCTL_STALL;
 3271              		.loc 1 1037 0
 3272 006e BB68     		ldr	r3, [r7, #8]
 3273 0070 5A01     		lsls	r2, r3, #5
 3274 0072 FB68     		ldr	r3, [r7, #12]
 3275 0074 1344     		add	r3, r3, r2
 3276 0076 03F53063 		add	r3, r3, #2816
 3277 007a 1B68     		ldr	r3, [r3]
 3278 007c BA68     		ldr	r2, [r7, #8]
 3279 007e 5101     		lsls	r1, r2, #5
 3280 0080 FA68     		ldr	r2, [r7, #12]
 3281 0082 0A44     		add	r2, r2, r1
 3282 0084 02F53062 		add	r2, r2, #2816
 3283 0088 23F40013 		bic	r3, r3, #2097152
 3284 008c 1360     		str	r3, [r2]
1038:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((ep->type == EP_TYPE_INTR) || (ep->type == EP_TYPE_BULK))
 3285              		.loc 1 1038 0
 3286 008e 3B68     		ldr	r3, [r7]
 3287 0090 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 3288 0092 032B     		cmp	r3, #3
 3289 0094 03D0     		beq	.L161
 3290              		.loc 1 1038 0 is_stmt 0 discriminator 1
 3291 0096 3B68     		ldr	r3, [r7]
 3292 0098 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 3293 009a 022B     		cmp	r3, #2
 3294 009c 0FD1     		bne	.L160
 3295              	.L161:
1039:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1040:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_SD0PID_SEVNFRM; /* DATA0 */
 3296              		.loc 1 1040 0 is_stmt 1
 3297 009e BB68     		ldr	r3, [r7, #8]
 3298 00a0 5A01     		lsls	r2, r3, #5
 3299 00a2 FB68     		ldr	r3, [r7, #12]
 3300 00a4 1344     		add	r3, r3, r2
 3301 00a6 03F53063 		add	r3, r3, #2816
 3302 00aa 1B68     		ldr	r3, [r3]
 3303 00ac BA68     		ldr	r2, [r7, #8]
 3304 00ae 5101     		lsls	r1, r2, #5
 3305 00b0 FA68     		ldr	r2, [r7, #12]
 3306 00b2 0A44     		add	r2, r2, r1
 3307 00b4 02F53062 		add	r2, r2, #2816
 3308 00b8 43F08053 		orr	r3, r3, #268435456
 3309 00bc 1360     		str	r3, [r2]
 3310              	.L160:
1041:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1042:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1043:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 3311              		.loc 1 1043 0
ARM GAS  /tmp/ccjl6mF2.s 			page 77


 3312 00be 0023     		movs	r3, #0
1044:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3313              		.loc 1 1044 0
 3314 00c0 1846     		mov	r0, r3
 3315 00c2 1437     		adds	r7, r7, #20
 3316              	.LCFI119:
 3317              		.cfi_def_cfa_offset 4
 3318 00c4 BD46     		mov	sp, r7
 3319              	.LCFI120:
 3320              		.cfi_def_cfa_register 13
 3321              		@ sp needed
 3322 00c6 5DF8047B 		ldr	r7, [sp], #4
 3323              	.LCFI121:
 3324              		.cfi_restore 7
 3325              		.cfi_def_cfa_offset 0
 3326 00ca 7047     		bx	lr
 3327              		.cfi_endproc
 3328              	.LFE149:
 3330              		.section	.text.USB_StopDevice,"ax",%progbits
 3331              		.align	1
 3332              		.global	USB_StopDevice
 3333              		.syntax unified
 3334              		.thumb
 3335              		.thumb_func
 3336              		.fpu fpv4-sp-d16
 3338              	USB_StopDevice:
 3339              	.LFB150:
1045:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1046:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1047:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_StopDevice : Stop the usb device mode
1048:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1049:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1050:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1051:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_StopDevice(USB_OTG_GlobalTypeDef *USBx)
1052:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3340              		.loc 1 1052 0
 3341              		.cfi_startproc
 3342              		@ args = 0, pretend = 0, frame = 24
 3343              		@ frame_needed = 1, uses_anonymous_args = 0
 3344 0000 80B5     		push	{r7, lr}
 3345              	.LCFI122:
 3346              		.cfi_def_cfa_offset 8
 3347              		.cfi_offset 7, -8
 3348              		.cfi_offset 14, -4
 3349 0002 86B0     		sub	sp, sp, #24
 3350              	.LCFI123:
 3351              		.cfi_def_cfa_offset 32
 3352 0004 00AF     		add	r7, sp, #0
 3353              	.LCFI124:
 3354              		.cfi_def_cfa_register 7
 3355 0006 7860     		str	r0, [r7, #4]
1053:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_StatusTypeDef ret;
1054:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3356              		.loc 1 1054 0
 3357 0008 7B68     		ldr	r3, [r7, #4]
 3358 000a 3B61     		str	r3, [r7, #16]
1055:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i;
ARM GAS  /tmp/ccjl6mF2.s 			page 78


1056:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1057:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear Pending interrupt */
1058:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < 15U; i++)
 3359              		.loc 1 1058 0
 3360 000c 0023     		movs	r3, #0
 3361 000e 7B61     		str	r3, [r7, #20]
 3362 0010 16E0     		b	.L164
 3363              	.L165:
1059:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1060:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(i)->DIEPINT = 0xFB7FU;
 3364              		.loc 1 1060 0 discriminator 3
 3365 0012 7B69     		ldr	r3, [r7, #20]
 3366 0014 5A01     		lsls	r2, r3, #5
 3367 0016 3B69     		ldr	r3, [r7, #16]
 3368 0018 1344     		add	r3, r3, r2
 3369 001a 03F51063 		add	r3, r3, #2304
 3370 001e 1A46     		mov	r2, r3
 3371 0020 4FF67F33 		movw	r3, #64383
 3372 0024 9360     		str	r3, [r2, #8]
1061:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(i)->DOEPINT = 0xFB7FU;
 3373              		.loc 1 1061 0 discriminator 3
 3374 0026 7B69     		ldr	r3, [r7, #20]
 3375 0028 5A01     		lsls	r2, r3, #5
 3376 002a 3B69     		ldr	r3, [r7, #16]
 3377 002c 1344     		add	r3, r3, r2
 3378 002e 03F53063 		add	r3, r3, #2816
 3379 0032 1A46     		mov	r2, r3
 3380 0034 4FF67F33 		movw	r3, #64383
 3381 0038 9360     		str	r3, [r2, #8]
1058:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 3382              		.loc 1 1058 0 discriminator 3
 3383 003a 7B69     		ldr	r3, [r7, #20]
 3384 003c 0133     		adds	r3, r3, #1
 3385 003e 7B61     		str	r3, [r7, #20]
 3386              	.L164:
1058:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 3387              		.loc 1 1058 0 is_stmt 0 discriminator 1
 3388 0040 7B69     		ldr	r3, [r7, #20]
 3389 0042 0E2B     		cmp	r3, #14
 3390 0044 E5D9     		bls	.L165
1062:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1063:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1064:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear interrupt masks */
1065:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK  = 0U;
 3391              		.loc 1 1065 0 is_stmt 1
 3392 0046 3B69     		ldr	r3, [r7, #16]
 3393 0048 03F50063 		add	r3, r3, #2048
 3394 004c 1A46     		mov	r2, r3
 3395 004e 0023     		movs	r3, #0
 3396 0050 1361     		str	r3, [r2, #16]
1066:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DOEPMSK  = 0U;
 3397              		.loc 1 1066 0
 3398 0052 3B69     		ldr	r3, [r7, #16]
 3399 0054 03F50063 		add	r3, r3, #2048
 3400 0058 1A46     		mov	r2, r3
 3401 005a 0023     		movs	r3, #0
 3402 005c 5361     		str	r3, [r2, #20]
ARM GAS  /tmp/ccjl6mF2.s 			page 79


1067:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DAINTMSK = 0U;
 3403              		.loc 1 1067 0
 3404 005e 3B69     		ldr	r3, [r7, #16]
 3405 0060 03F50063 		add	r3, r3, #2048
 3406 0064 1A46     		mov	r2, r3
 3407 0066 0023     		movs	r3, #0
 3408 0068 D361     		str	r3, [r2, #28]
1068:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1069:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Flush the FIFO */
1070:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ret = USB_FlushRxFifo(USBx);
 3409              		.loc 1 1070 0
 3410 006a 7868     		ldr	r0, [r7, #4]
 3411 006c FFF7FEFF 		bl	USB_FlushRxFifo
 3412 0070 0346     		mov	r3, r0
 3413 0072 FB73     		strb	r3, [r7, #15]
1071:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ret != HAL_OK)
 3414              		.loc 1 1071 0
 3415 0074 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3416 0076 002B     		cmp	r3, #0
 3417 0078 01D0     		beq	.L166
1072:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1073:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     return ret;
 3418              		.loc 1 1073 0
 3419 007a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3420 007c 0BE0     		b	.L167
 3421              	.L166:
1074:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1075:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1076:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ret = USB_FlushTxFifo(USBx,  0x10U);
 3422              		.loc 1 1076 0
 3423 007e 1021     		movs	r1, #16
 3424 0080 7868     		ldr	r0, [r7, #4]
 3425 0082 FFF7FEFF 		bl	USB_FlushTxFifo
 3426 0086 0346     		mov	r3, r0
 3427 0088 FB73     		strb	r3, [r7, #15]
1077:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ret != HAL_OK)
 3428              		.loc 1 1077 0
 3429 008a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3430 008c 002B     		cmp	r3, #0
 3431 008e 01D0     		beq	.L168
1078:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1079:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     return ret;
 3432              		.loc 1 1079 0
 3433 0090 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3434 0092 00E0     		b	.L167
 3435              	.L168:
1080:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1081:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1082:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ret;
 3436              		.loc 1 1082 0
 3437 0094 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3438              	.L167:
1083:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3439              		.loc 1 1083 0
 3440 0096 1846     		mov	r0, r3
 3441 0098 1837     		adds	r7, r7, #24
 3442              	.LCFI125:
ARM GAS  /tmp/ccjl6mF2.s 			page 80


 3443              		.cfi_def_cfa_offset 8
 3444 009a BD46     		mov	sp, r7
 3445              	.LCFI126:
 3446              		.cfi_def_cfa_register 13
 3447              		@ sp needed
 3448 009c 80BD     		pop	{r7, pc}
 3449              		.cfi_endproc
 3450              	.LFE150:
 3452              		.section	.text.USB_SetDevAddress,"ax",%progbits
 3453              		.align	1
 3454              		.global	USB_SetDevAddress
 3455              		.syntax unified
 3456              		.thumb
 3457              		.thumb_func
 3458              		.fpu fpv4-sp-d16
 3460              	USB_SetDevAddress:
 3461              	.LFB151:
1084:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1085:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1086:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_SetDevAddress : Stop the usb device mode
1087:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1088:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  address  new device address to be assigned
1089:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 255
1090:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1091:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1092:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef  USB_SetDevAddress(USB_OTG_GlobalTypeDef *USBx, uint8_t address)
1093:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3462              		.loc 1 1093 0
 3463              		.cfi_startproc
 3464              		@ args = 0, pretend = 0, frame = 16
 3465              		@ frame_needed = 1, uses_anonymous_args = 0
 3466              		@ link register save eliminated.
 3467 0000 80B4     		push	{r7}
 3468              	.LCFI127:
 3469              		.cfi_def_cfa_offset 4
 3470              		.cfi_offset 7, -4
 3471 0002 85B0     		sub	sp, sp, #20
 3472              	.LCFI128:
 3473              		.cfi_def_cfa_offset 24
 3474 0004 00AF     		add	r7, sp, #0
 3475              	.LCFI129:
 3476              		.cfi_def_cfa_register 7
 3477 0006 7860     		str	r0, [r7, #4]
 3478 0008 0B46     		mov	r3, r1
 3479 000a FB70     		strb	r3, [r7, #3]
1094:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3480              		.loc 1 1094 0
 3481 000c 7B68     		ldr	r3, [r7, #4]
 3482 000e FB60     		str	r3, [r7, #12]
1095:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1096:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCFG &= ~(USB_OTG_DCFG_DAD);
 3483              		.loc 1 1096 0
 3484 0010 FB68     		ldr	r3, [r7, #12]
 3485 0012 03F50063 		add	r3, r3, #2048
 3486 0016 1B68     		ldr	r3, [r3]
 3487 0018 FA68     		ldr	r2, [r7, #12]
 3488 001a 02F50062 		add	r2, r2, #2048
ARM GAS  /tmp/ccjl6mF2.s 			page 81


 3489 001e 23F4FE63 		bic	r3, r3, #2032
 3490 0022 1360     		str	r3, [r2]
1097:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCFG |= ((uint32_t)address << 4) & USB_OTG_DCFG_DAD;
 3491              		.loc 1 1097 0
 3492 0024 FB68     		ldr	r3, [r7, #12]
 3493 0026 03F50063 		add	r3, r3, #2048
 3494 002a 1A68     		ldr	r2, [r3]
 3495 002c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3496 002e 1B01     		lsls	r3, r3, #4
 3497 0030 03F4FE63 		and	r3, r3, #2032
 3498 0034 F968     		ldr	r1, [r7, #12]
 3499 0036 01F50061 		add	r1, r1, #2048
 3500 003a 1343     		orrs	r3, r3, r2
 3501 003c 0B60     		str	r3, [r1]
1098:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1099:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 3502              		.loc 1 1099 0
 3503 003e 0023     		movs	r3, #0
1100:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3504              		.loc 1 1100 0
 3505 0040 1846     		mov	r0, r3
 3506 0042 1437     		adds	r7, r7, #20
 3507              	.LCFI130:
 3508              		.cfi_def_cfa_offset 4
 3509 0044 BD46     		mov	sp, r7
 3510              	.LCFI131:
 3511              		.cfi_def_cfa_register 13
 3512              		@ sp needed
 3513 0046 5DF8047B 		ldr	r7, [sp], #4
 3514              	.LCFI132:
 3515              		.cfi_restore 7
 3516              		.cfi_def_cfa_offset 0
 3517 004a 7047     		bx	lr
 3518              		.cfi_endproc
 3519              	.LFE151:
 3521              		.section	.text.USB_DevConnect,"ax",%progbits
 3522              		.align	1
 3523              		.global	USB_DevConnect
 3524              		.syntax unified
 3525              		.thumb
 3526              		.thumb_func
 3527              		.fpu fpv4-sp-d16
 3529              	USB_DevConnect:
 3530              	.LFB152:
1101:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1102:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1103:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DevConnect : Connect the USB device by enabling the pull-up/pull-down
1104:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1105:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1106:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1107:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef  USB_DevConnect(USB_OTG_GlobalTypeDef *USBx)
1108:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3531              		.loc 1 1108 0
 3532              		.cfi_startproc
 3533              		@ args = 0, pretend = 0, frame = 16
 3534              		@ frame_needed = 1, uses_anonymous_args = 0
 3535 0000 80B5     		push	{r7, lr}
ARM GAS  /tmp/ccjl6mF2.s 			page 82


 3536              	.LCFI133:
 3537              		.cfi_def_cfa_offset 8
 3538              		.cfi_offset 7, -8
 3539              		.cfi_offset 14, -4
 3540 0002 84B0     		sub	sp, sp, #16
 3541              	.LCFI134:
 3542              		.cfi_def_cfa_offset 24
 3543 0004 00AF     		add	r7, sp, #0
 3544              	.LCFI135:
 3545              		.cfi_def_cfa_register 7
 3546 0006 7860     		str	r0, [r7, #4]
1109:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3547              		.loc 1 1109 0
 3548 0008 7B68     		ldr	r3, [r7, #4]
 3549 000a FB60     		str	r3, [r7, #12]
1110:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1111:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCTL &= ~USB_OTG_DCTL_SDIS;
 3550              		.loc 1 1111 0
 3551 000c FB68     		ldr	r3, [r7, #12]
 3552 000e 03F50063 		add	r3, r3, #2048
 3553 0012 5B68     		ldr	r3, [r3, #4]
 3554 0014 FA68     		ldr	r2, [r7, #12]
 3555 0016 02F50062 		add	r2, r2, #2048
 3556 001a 23F00203 		bic	r3, r3, #2
 3557 001e 5360     		str	r3, [r2, #4]
1112:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_Delay(3U);
 3558              		.loc 1 1112 0
 3559 0020 0320     		movs	r0, #3
 3560 0022 FFF7FEFF 		bl	HAL_Delay
1113:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1114:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 3561              		.loc 1 1114 0
 3562 0026 0023     		movs	r3, #0
1115:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3563              		.loc 1 1115 0
 3564 0028 1846     		mov	r0, r3
 3565 002a 1037     		adds	r7, r7, #16
 3566              	.LCFI136:
 3567              		.cfi_def_cfa_offset 8
 3568 002c BD46     		mov	sp, r7
 3569              	.LCFI137:
 3570              		.cfi_def_cfa_register 13
 3571              		@ sp needed
 3572 002e 80BD     		pop	{r7, pc}
 3573              		.cfi_endproc
 3574              	.LFE152:
 3576              		.section	.text.USB_DevDisconnect,"ax",%progbits
 3577              		.align	1
 3578              		.global	USB_DevDisconnect
 3579              		.syntax unified
 3580              		.thumb
 3581              		.thumb_func
 3582              		.fpu fpv4-sp-d16
 3584              	USB_DevDisconnect:
 3585              	.LFB153:
1116:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1117:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
ARM GAS  /tmp/ccjl6mF2.s 			page 83


1118:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DevDisconnect : Disconnect the USB device by disabling the pull-up/pull-down
1119:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1120:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1121:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1122:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef  USB_DevDisconnect(USB_OTG_GlobalTypeDef *USBx)
1123:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3586              		.loc 1 1123 0
 3587              		.cfi_startproc
 3588              		@ args = 0, pretend = 0, frame = 16
 3589              		@ frame_needed = 1, uses_anonymous_args = 0
 3590 0000 80B5     		push	{r7, lr}
 3591              	.LCFI138:
 3592              		.cfi_def_cfa_offset 8
 3593              		.cfi_offset 7, -8
 3594              		.cfi_offset 14, -4
 3595 0002 84B0     		sub	sp, sp, #16
 3596              	.LCFI139:
 3597              		.cfi_def_cfa_offset 24
 3598 0004 00AF     		add	r7, sp, #0
 3599              	.LCFI140:
 3600              		.cfi_def_cfa_register 7
 3601 0006 7860     		str	r0, [r7, #4]
1124:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3602              		.loc 1 1124 0
 3603 0008 7B68     		ldr	r3, [r7, #4]
 3604 000a FB60     		str	r3, [r7, #12]
1125:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1126:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCTL |= USB_OTG_DCTL_SDIS;
 3605              		.loc 1 1126 0
 3606 000c FB68     		ldr	r3, [r7, #12]
 3607 000e 03F50063 		add	r3, r3, #2048
 3608 0012 5B68     		ldr	r3, [r3, #4]
 3609 0014 FA68     		ldr	r2, [r7, #12]
 3610 0016 02F50062 		add	r2, r2, #2048
 3611 001a 43F00203 		orr	r3, r3, #2
 3612 001e 5360     		str	r3, [r2, #4]
1127:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_Delay(3U);
 3613              		.loc 1 1127 0
 3614 0020 0320     		movs	r0, #3
 3615 0022 FFF7FEFF 		bl	HAL_Delay
1128:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1129:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 3616              		.loc 1 1129 0
 3617 0026 0023     		movs	r3, #0
1130:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3618              		.loc 1 1130 0
 3619 0028 1846     		mov	r0, r3
 3620 002a 1037     		adds	r7, r7, #16
 3621              	.LCFI141:
 3622              		.cfi_def_cfa_offset 8
 3623 002c BD46     		mov	sp, r7
 3624              	.LCFI142:
 3625              		.cfi_def_cfa_register 13
 3626              		@ sp needed
 3627 002e 80BD     		pop	{r7, pc}
 3628              		.cfi_endproc
 3629              	.LFE153:
ARM GAS  /tmp/ccjl6mF2.s 			page 84


 3631              		.section	.text.USB_ReadInterrupts,"ax",%progbits
 3632              		.align	1
 3633              		.global	USB_ReadInterrupts
 3634              		.syntax unified
 3635              		.thumb
 3636              		.thumb_func
 3637              		.fpu fpv4-sp-d16
 3639              	USB_ReadInterrupts:
 3640              	.LFB154:
1131:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1132:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1133:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ReadInterrupts: return the global USB interrupt status
1134:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1135:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1136:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1137:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t  USB_ReadInterrupts(USB_OTG_GlobalTypeDef *USBx)
1138:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3641              		.loc 1 1138 0
 3642              		.cfi_startproc
 3643              		@ args = 0, pretend = 0, frame = 16
 3644              		@ frame_needed = 1, uses_anonymous_args = 0
 3645              		@ link register save eliminated.
 3646 0000 80B4     		push	{r7}
 3647              	.LCFI143:
 3648              		.cfi_def_cfa_offset 4
 3649              		.cfi_offset 7, -4
 3650 0002 85B0     		sub	sp, sp, #20
 3651              	.LCFI144:
 3652              		.cfi_def_cfa_offset 24
 3653 0004 00AF     		add	r7, sp, #0
 3654              	.LCFI145:
 3655              		.cfi_def_cfa_register 7
 3656 0006 7860     		str	r0, [r7, #4]
1139:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg;
1140:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1141:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg = USBx->GINTSTS;
 3657              		.loc 1 1141 0
 3658 0008 7B68     		ldr	r3, [r7, #4]
 3659 000a 5B69     		ldr	r3, [r3, #20]
 3660 000c FB60     		str	r3, [r7, #12]
1142:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= USBx->GINTMSK;
 3661              		.loc 1 1142 0
 3662 000e 7B68     		ldr	r3, [r7, #4]
 3663 0010 9B69     		ldr	r3, [r3, #24]
 3664 0012 FA68     		ldr	r2, [r7, #12]
 3665 0014 1340     		ands	r3, r3, r2
 3666 0016 FB60     		str	r3, [r7, #12]
1143:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1144:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return tmpreg;
 3667              		.loc 1 1144 0
 3668 0018 FB68     		ldr	r3, [r7, #12]
1145:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3669              		.loc 1 1145 0
 3670 001a 1846     		mov	r0, r3
 3671 001c 1437     		adds	r7, r7, #20
 3672              	.LCFI146:
 3673              		.cfi_def_cfa_offset 4
ARM GAS  /tmp/ccjl6mF2.s 			page 85


 3674 001e BD46     		mov	sp, r7
 3675              	.LCFI147:
 3676              		.cfi_def_cfa_register 13
 3677              		@ sp needed
 3678 0020 5DF8047B 		ldr	r7, [sp], #4
 3679              	.LCFI148:
 3680              		.cfi_restore 7
 3681              		.cfi_def_cfa_offset 0
 3682 0024 7047     		bx	lr
 3683              		.cfi_endproc
 3684              	.LFE154:
 3686              		.section	.text.USB_ReadDevAllOutEpInterrupt,"ax",%progbits
 3687              		.align	1
 3688              		.global	USB_ReadDevAllOutEpInterrupt
 3689              		.syntax unified
 3690              		.thumb
 3691              		.thumb_func
 3692              		.fpu fpv4-sp-d16
 3694              	USB_ReadDevAllOutEpInterrupt:
 3695              	.LFB155:
1146:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1147:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1148:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ReadDevAllOutEpInterrupt: return the USB device OUT endpoints interrupt status
1149:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1150:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1151:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1152:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_ReadDevAllOutEpInterrupt(USB_OTG_GlobalTypeDef *USBx)
1153:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3696              		.loc 1 1153 0
 3697              		.cfi_startproc
 3698              		@ args = 0, pretend = 0, frame = 16
 3699              		@ frame_needed = 1, uses_anonymous_args = 0
 3700              		@ link register save eliminated.
 3701 0000 80B4     		push	{r7}
 3702              	.LCFI149:
 3703              		.cfi_def_cfa_offset 4
 3704              		.cfi_offset 7, -4
 3705 0002 85B0     		sub	sp, sp, #20
 3706              	.LCFI150:
 3707              		.cfi_def_cfa_offset 24
 3708 0004 00AF     		add	r7, sp, #0
 3709              	.LCFI151:
 3710              		.cfi_def_cfa_register 7
 3711 0006 7860     		str	r0, [r7, #4]
1154:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3712              		.loc 1 1154 0
 3713 0008 7B68     		ldr	r3, [r7, #4]
 3714 000a FB60     		str	r3, [r7, #12]
1155:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg;
1156:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1157:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg  = USBx_DEVICE->DAINT;
 3715              		.loc 1 1157 0
 3716 000c FB68     		ldr	r3, [r7, #12]
 3717 000e 03F50063 		add	r3, r3, #2048
 3718 0012 9B69     		ldr	r3, [r3, #24]
 3719 0014 BB60     		str	r3, [r7, #8]
1158:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= USBx_DEVICE->DAINTMSK;
ARM GAS  /tmp/ccjl6mF2.s 			page 86


 3720              		.loc 1 1158 0
 3721 0016 FB68     		ldr	r3, [r7, #12]
 3722 0018 03F50063 		add	r3, r3, #2048
 3723 001c DB69     		ldr	r3, [r3, #28]
 3724 001e BA68     		ldr	r2, [r7, #8]
 3725 0020 1340     		ands	r3, r3, r2
 3726 0022 BB60     		str	r3, [r7, #8]
1159:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1160:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((tmpreg & 0xffff0000U) >> 16);
 3727              		.loc 1 1160 0
 3728 0024 BB68     		ldr	r3, [r7, #8]
 3729 0026 1B0C     		lsrs	r3, r3, #16
1161:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3730              		.loc 1 1161 0
 3731 0028 1846     		mov	r0, r3
 3732 002a 1437     		adds	r7, r7, #20
 3733              	.LCFI152:
 3734              		.cfi_def_cfa_offset 4
 3735 002c BD46     		mov	sp, r7
 3736              	.LCFI153:
 3737              		.cfi_def_cfa_register 13
 3738              		@ sp needed
 3739 002e 5DF8047B 		ldr	r7, [sp], #4
 3740              	.LCFI154:
 3741              		.cfi_restore 7
 3742              		.cfi_def_cfa_offset 0
 3743 0032 7047     		bx	lr
 3744              		.cfi_endproc
 3745              	.LFE155:
 3747              		.section	.text.USB_ReadDevAllInEpInterrupt,"ax",%progbits
 3748              		.align	1
 3749              		.global	USB_ReadDevAllInEpInterrupt
 3750              		.syntax unified
 3751              		.thumb
 3752              		.thumb_func
 3753              		.fpu fpv4-sp-d16
 3755              	USB_ReadDevAllInEpInterrupt:
 3756              	.LFB156:
1162:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1163:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1164:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ReadDevAllInEpInterrupt: return the USB device IN endpoints interrupt status
1165:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1166:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1167:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1168:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_ReadDevAllInEpInterrupt(USB_OTG_GlobalTypeDef *USBx)
1169:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3757              		.loc 1 1169 0
 3758              		.cfi_startproc
 3759              		@ args = 0, pretend = 0, frame = 16
 3760              		@ frame_needed = 1, uses_anonymous_args = 0
 3761              		@ link register save eliminated.
 3762 0000 80B4     		push	{r7}
 3763              	.LCFI155:
 3764              		.cfi_def_cfa_offset 4
 3765              		.cfi_offset 7, -4
 3766 0002 85B0     		sub	sp, sp, #20
 3767              	.LCFI156:
ARM GAS  /tmp/ccjl6mF2.s 			page 87


 3768              		.cfi_def_cfa_offset 24
 3769 0004 00AF     		add	r7, sp, #0
 3770              	.LCFI157:
 3771              		.cfi_def_cfa_register 7
 3772 0006 7860     		str	r0, [r7, #4]
1170:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3773              		.loc 1 1170 0
 3774 0008 7B68     		ldr	r3, [r7, #4]
 3775 000a FB60     		str	r3, [r7, #12]
1171:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg;
1172:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1173:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg  = USBx_DEVICE->DAINT;
 3776              		.loc 1 1173 0
 3777 000c FB68     		ldr	r3, [r7, #12]
 3778 000e 03F50063 		add	r3, r3, #2048
 3779 0012 9B69     		ldr	r3, [r3, #24]
 3780 0014 BB60     		str	r3, [r7, #8]
1174:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= USBx_DEVICE->DAINTMSK;
 3781              		.loc 1 1174 0
 3782 0016 FB68     		ldr	r3, [r7, #12]
 3783 0018 03F50063 		add	r3, r3, #2048
 3784 001c DB69     		ldr	r3, [r3, #28]
 3785 001e BA68     		ldr	r2, [r7, #8]
 3786 0020 1340     		ands	r3, r3, r2
 3787 0022 BB60     		str	r3, [r7, #8]
1175:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1176:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((tmpreg & 0xFFFFU));
 3788              		.loc 1 1176 0
 3789 0024 BB68     		ldr	r3, [r7, #8]
 3790 0026 9BB2     		uxth	r3, r3
1177:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3791              		.loc 1 1177 0
 3792 0028 1846     		mov	r0, r3
 3793 002a 1437     		adds	r7, r7, #20
 3794              	.LCFI158:
 3795              		.cfi_def_cfa_offset 4
 3796 002c BD46     		mov	sp, r7
 3797              	.LCFI159:
 3798              		.cfi_def_cfa_register 13
 3799              		@ sp needed
 3800 002e 5DF8047B 		ldr	r7, [sp], #4
 3801              	.LCFI160:
 3802              		.cfi_restore 7
 3803              		.cfi_def_cfa_offset 0
 3804 0032 7047     		bx	lr
 3805              		.cfi_endproc
 3806              	.LFE156:
 3808              		.section	.text.USB_ReadDevOutEPInterrupt,"ax",%progbits
 3809              		.align	1
 3810              		.global	USB_ReadDevOutEPInterrupt
 3811              		.syntax unified
 3812              		.thumb
 3813              		.thumb_func
 3814              		.fpu fpv4-sp-d16
 3816              	USB_ReadDevOutEPInterrupt:
 3817              	.LFB157:
1178:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
ARM GAS  /tmp/ccjl6mF2.s 			page 88


1179:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1180:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Returns Device OUT EP Interrupt register
1181:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1182:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  epnum  endpoint number
1183:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 15
1184:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval Device OUT EP Interrupt register
1185:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1186:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_ReadDevOutEPInterrupt(USB_OTG_GlobalTypeDef *USBx, uint8_t epnum)
1187:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3818              		.loc 1 1187 0
 3819              		.cfi_startproc
 3820              		@ args = 0, pretend = 0, frame = 16
 3821              		@ frame_needed = 1, uses_anonymous_args = 0
 3822              		@ link register save eliminated.
 3823 0000 80B4     		push	{r7}
 3824              	.LCFI161:
 3825              		.cfi_def_cfa_offset 4
 3826              		.cfi_offset 7, -4
 3827 0002 85B0     		sub	sp, sp, #20
 3828              	.LCFI162:
 3829              		.cfi_def_cfa_offset 24
 3830 0004 00AF     		add	r7, sp, #0
 3831              	.LCFI163:
 3832              		.cfi_def_cfa_register 7
 3833 0006 7860     		str	r0, [r7, #4]
 3834 0008 0B46     		mov	r3, r1
 3835 000a FB70     		strb	r3, [r7, #3]
1188:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3836              		.loc 1 1188 0
 3837 000c 7B68     		ldr	r3, [r7, #4]
 3838 000e FB60     		str	r3, [r7, #12]
1189:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg;
1190:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1191:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg  = USBx_OUTEP((uint32_t)epnum)->DOEPINT;
 3839              		.loc 1 1191 0
 3840 0010 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3841 0012 5A01     		lsls	r2, r3, #5
 3842 0014 FB68     		ldr	r3, [r7, #12]
 3843 0016 1344     		add	r3, r3, r2
 3844 0018 03F53063 		add	r3, r3, #2816
 3845 001c 9B68     		ldr	r3, [r3, #8]
 3846 001e BB60     		str	r3, [r7, #8]
1192:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= USBx_DEVICE->DOEPMSK;
 3847              		.loc 1 1192 0
 3848 0020 FB68     		ldr	r3, [r7, #12]
 3849 0022 03F50063 		add	r3, r3, #2048
 3850 0026 5B69     		ldr	r3, [r3, #20]
 3851 0028 BA68     		ldr	r2, [r7, #8]
 3852 002a 1340     		ands	r3, r3, r2
 3853 002c BB60     		str	r3, [r7, #8]
1193:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1194:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return tmpreg;
 3854              		.loc 1 1194 0
 3855 002e BB68     		ldr	r3, [r7, #8]
1195:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3856              		.loc 1 1195 0
 3857 0030 1846     		mov	r0, r3
ARM GAS  /tmp/ccjl6mF2.s 			page 89


 3858 0032 1437     		adds	r7, r7, #20
 3859              	.LCFI164:
 3860              		.cfi_def_cfa_offset 4
 3861 0034 BD46     		mov	sp, r7
 3862              	.LCFI165:
 3863              		.cfi_def_cfa_register 13
 3864              		@ sp needed
 3865 0036 5DF8047B 		ldr	r7, [sp], #4
 3866              	.LCFI166:
 3867              		.cfi_restore 7
 3868              		.cfi_def_cfa_offset 0
 3869 003a 7047     		bx	lr
 3870              		.cfi_endproc
 3871              	.LFE157:
 3873              		.section	.text.USB_ReadDevInEPInterrupt,"ax",%progbits
 3874              		.align	1
 3875              		.global	USB_ReadDevInEPInterrupt
 3876              		.syntax unified
 3877              		.thumb
 3878              		.thumb_func
 3879              		.fpu fpv4-sp-d16
 3881              	USB_ReadDevInEPInterrupt:
 3882              	.LFB158:
1196:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1197:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1198:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Returns Device IN EP Interrupt register
1199:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1200:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  epnum  endpoint number
1201:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 15
1202:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval Device IN EP Interrupt register
1203:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1204:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_ReadDevInEPInterrupt(USB_OTG_GlobalTypeDef *USBx, uint8_t epnum)
1205:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3883              		.loc 1 1205 0
 3884              		.cfi_startproc
 3885              		@ args = 0, pretend = 0, frame = 24
 3886              		@ frame_needed = 1, uses_anonymous_args = 0
 3887              		@ link register save eliminated.
 3888 0000 80B4     		push	{r7}
 3889              	.LCFI167:
 3890              		.cfi_def_cfa_offset 4
 3891              		.cfi_offset 7, -4
 3892 0002 87B0     		sub	sp, sp, #28
 3893              	.LCFI168:
 3894              		.cfi_def_cfa_offset 32
 3895 0004 00AF     		add	r7, sp, #0
 3896              	.LCFI169:
 3897              		.cfi_def_cfa_register 7
 3898 0006 7860     		str	r0, [r7, #4]
 3899 0008 0B46     		mov	r3, r1
 3900 000a FB70     		strb	r3, [r7, #3]
1206:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3901              		.loc 1 1206 0
 3902 000c 7B68     		ldr	r3, [r7, #4]
 3903 000e 7B61     		str	r3, [r7, #20]
1207:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg, msk, emp;
1208:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
ARM GAS  /tmp/ccjl6mF2.s 			page 90


1209:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   msk = USBx_DEVICE->DIEPMSK;
 3904              		.loc 1 1209 0
 3905 0010 7B69     		ldr	r3, [r7, #20]
 3906 0012 03F50063 		add	r3, r3, #2048
 3907 0016 1B69     		ldr	r3, [r3, #16]
 3908 0018 3B61     		str	r3, [r7, #16]
1210:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   emp = USBx_DEVICE->DIEPEMPMSK;
 3909              		.loc 1 1210 0
 3910 001a 7B69     		ldr	r3, [r7, #20]
 3911 001c 03F50063 		add	r3, r3, #2048
 3912 0020 5B6B     		ldr	r3, [r3, #52]
 3913 0022 FB60     		str	r3, [r7, #12]
1211:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   msk |= ((emp >> (epnum & EP_ADDR_MSK)) & 0x1U) << 7;
 3914              		.loc 1 1211 0
 3915 0024 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3916 0026 03F00F03 		and	r3, r3, #15
 3917 002a FA68     		ldr	r2, [r7, #12]
 3918 002c 22FA03F3 		lsr	r3, r2, r3
 3919 0030 DB01     		lsls	r3, r3, #7
 3920 0032 DBB2     		uxtb	r3, r3
 3921 0034 3A69     		ldr	r2, [r7, #16]
 3922 0036 1343     		orrs	r3, r3, r2
 3923 0038 3B61     		str	r3, [r7, #16]
1212:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg = USBx_INEP((uint32_t)epnum)->DIEPINT & msk;
 3924              		.loc 1 1212 0
 3925 003a FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3926 003c 5A01     		lsls	r2, r3, #5
 3927 003e 7B69     		ldr	r3, [r7, #20]
 3928 0040 1344     		add	r3, r3, r2
 3929 0042 03F51063 		add	r3, r3, #2304
 3930 0046 9B68     		ldr	r3, [r3, #8]
 3931 0048 3A69     		ldr	r2, [r7, #16]
 3932 004a 1340     		ands	r3, r3, r2
 3933 004c BB60     		str	r3, [r7, #8]
1213:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1214:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return tmpreg;
 3934              		.loc 1 1214 0
 3935 004e BB68     		ldr	r3, [r7, #8]
1215:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3936              		.loc 1 1215 0
 3937 0050 1846     		mov	r0, r3
 3938 0052 1C37     		adds	r7, r7, #28
 3939              	.LCFI170:
 3940              		.cfi_def_cfa_offset 4
 3941 0054 BD46     		mov	sp, r7
 3942              	.LCFI171:
 3943              		.cfi_def_cfa_register 13
 3944              		@ sp needed
 3945 0056 5DF8047B 		ldr	r7, [sp], #4
 3946              	.LCFI172:
 3947              		.cfi_restore 7
 3948              		.cfi_def_cfa_offset 0
 3949 005a 7047     		bx	lr
 3950              		.cfi_endproc
 3951              	.LFE158:
 3953              		.section	.text.USB_ClearInterrupts,"ax",%progbits
 3954              		.align	1
ARM GAS  /tmp/ccjl6mF2.s 			page 91


 3955              		.global	USB_ClearInterrupts
 3956              		.syntax unified
 3957              		.thumb
 3958              		.thumb_func
 3959              		.fpu fpv4-sp-d16
 3961              	USB_ClearInterrupts:
 3962              	.LFB159:
1216:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1217:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1218:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ClearInterrupts: clear a USB interrupt
1219:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1220:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  interrupt  interrupt flag
1221:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval None
1222:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1223:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** void  USB_ClearInterrupts(USB_OTG_GlobalTypeDef *USBx, uint32_t interrupt)
1224:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3963              		.loc 1 1224 0
 3964              		.cfi_startproc
 3965              		@ args = 0, pretend = 0, frame = 8
 3966              		@ frame_needed = 1, uses_anonymous_args = 0
 3967              		@ link register save eliminated.
 3968 0000 80B4     		push	{r7}
 3969              	.LCFI173:
 3970              		.cfi_def_cfa_offset 4
 3971              		.cfi_offset 7, -4
 3972 0002 83B0     		sub	sp, sp, #12
 3973              	.LCFI174:
 3974              		.cfi_def_cfa_offset 16
 3975 0004 00AF     		add	r7, sp, #0
 3976              	.LCFI175:
 3977              		.cfi_def_cfa_register 7
 3978 0006 7860     		str	r0, [r7, #4]
 3979 0008 3960     		str	r1, [r7]
1225:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTSTS |= interrupt;
 3980              		.loc 1 1225 0
 3981 000a 7B68     		ldr	r3, [r7, #4]
 3982 000c 5A69     		ldr	r2, [r3, #20]
 3983 000e 3B68     		ldr	r3, [r7]
 3984 0010 1A43     		orrs	r2, r2, r3
 3985 0012 7B68     		ldr	r3, [r7, #4]
 3986 0014 5A61     		str	r2, [r3, #20]
1226:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3987              		.loc 1 1226 0
 3988 0016 00BF     		nop
 3989 0018 0C37     		adds	r7, r7, #12
 3990              	.LCFI176:
 3991              		.cfi_def_cfa_offset 4
 3992 001a BD46     		mov	sp, r7
 3993              	.LCFI177:
 3994              		.cfi_def_cfa_register 13
 3995              		@ sp needed
 3996 001c 5DF8047B 		ldr	r7, [sp], #4
 3997              	.LCFI178:
 3998              		.cfi_restore 7
 3999              		.cfi_def_cfa_offset 0
 4000 0020 7047     		bx	lr
 4001              		.cfi_endproc
ARM GAS  /tmp/ccjl6mF2.s 			page 92


 4002              	.LFE159:
 4004              		.section	.text.USB_GetMode,"ax",%progbits
 4005              		.align	1
 4006              		.global	USB_GetMode
 4007              		.syntax unified
 4008              		.thumb
 4009              		.thumb_func
 4010              		.fpu fpv4-sp-d16
 4012              	USB_GetMode:
 4013              	.LFB160:
1227:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1228:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1229:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Returns USB core mode
1230:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1231:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval return core mode : Host or Device
1232:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1233:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : Host
1234:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : Device
1235:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1236:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_GetMode(USB_OTG_GlobalTypeDef *USBx)
1237:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4014              		.loc 1 1237 0
 4015              		.cfi_startproc
 4016              		@ args = 0, pretend = 0, frame = 8
 4017              		@ frame_needed = 1, uses_anonymous_args = 0
 4018              		@ link register save eliminated.
 4019 0000 80B4     		push	{r7}
 4020              	.LCFI179:
 4021              		.cfi_def_cfa_offset 4
 4022              		.cfi_offset 7, -4
 4023 0002 83B0     		sub	sp, sp, #12
 4024              	.LCFI180:
 4025              		.cfi_def_cfa_offset 16
 4026 0004 00AF     		add	r7, sp, #0
 4027              	.LCFI181:
 4028              		.cfi_def_cfa_register 7
 4029 0006 7860     		str	r0, [r7, #4]
1238:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((USBx->GINTSTS) & 0x1U);
 4030              		.loc 1 1238 0
 4031 0008 7B68     		ldr	r3, [r7, #4]
 4032 000a 5B69     		ldr	r3, [r3, #20]
 4033 000c 03F00103 		and	r3, r3, #1
1239:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4034              		.loc 1 1239 0
 4035 0010 1846     		mov	r0, r3
 4036 0012 0C37     		adds	r7, r7, #12
 4037              	.LCFI182:
 4038              		.cfi_def_cfa_offset 4
 4039 0014 BD46     		mov	sp, r7
 4040              	.LCFI183:
 4041              		.cfi_def_cfa_register 13
 4042              		@ sp needed
 4043 0016 5DF8047B 		ldr	r7, [sp], #4
 4044              	.LCFI184:
 4045              		.cfi_restore 7
 4046              		.cfi_def_cfa_offset 0
 4047 001a 7047     		bx	lr
ARM GAS  /tmp/ccjl6mF2.s 			page 93


 4048              		.cfi_endproc
 4049              	.LFE160:
 4051              		.section	.text.USB_ActivateSetup,"ax",%progbits
 4052              		.align	1
 4053              		.global	USB_ActivateSetup
 4054              		.syntax unified
 4055              		.thumb
 4056              		.thumb_func
 4057              		.fpu fpv4-sp-d16
 4059              	USB_ActivateSetup:
 4060              	.LFB161:
1240:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1241:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1242:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Activate EP0 for Setup transactions
1243:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1244:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1245:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1246:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef  USB_ActivateSetup(USB_OTG_GlobalTypeDef *USBx)
1247:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4061              		.loc 1 1247 0
 4062              		.cfi_startproc
 4063              		@ args = 0, pretend = 0, frame = 16
 4064              		@ frame_needed = 1, uses_anonymous_args = 0
 4065              		@ link register save eliminated.
 4066 0000 80B4     		push	{r7}
 4067              	.LCFI185:
 4068              		.cfi_def_cfa_offset 4
 4069              		.cfi_offset 7, -4
 4070 0002 85B0     		sub	sp, sp, #20
 4071              	.LCFI186:
 4072              		.cfi_def_cfa_offset 24
 4073 0004 00AF     		add	r7, sp, #0
 4074              	.LCFI187:
 4075              		.cfi_def_cfa_register 7
 4076 0006 7860     		str	r0, [r7, #4]
1248:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4077              		.loc 1 1248 0
 4078 0008 7B68     		ldr	r3, [r7, #4]
 4079 000a FB60     		str	r3, [r7, #12]
1249:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1250:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Set the MPS of the IN EP based on the enumeration speed */
1251:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_INEP(0U)->DIEPCTL &= ~USB_OTG_DIEPCTL_MPSIZ;
 4080              		.loc 1 1251 0
 4081 000c FB68     		ldr	r3, [r7, #12]
 4082 000e 03F51063 		add	r3, r3, #2304
 4083 0012 1B68     		ldr	r3, [r3]
 4084 0014 FA68     		ldr	r2, [r7, #12]
 4085 0016 02F51062 		add	r2, r2, #2304
 4086 001a 23F4FF63 		bic	r3, r3, #2040
 4087 001e 23F00703 		bic	r3, r3, #7
 4088 0022 1360     		str	r3, [r2]
1252:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1253:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ((USBx_DEVICE->DSTS & USB_OTG_DSTS_ENUMSPD) == DSTS_ENUMSPD_LS_PHY_6MHZ)
 4089              		.loc 1 1253 0
 4090 0024 FB68     		ldr	r3, [r7, #12]
 4091 0026 03F50063 		add	r3, r3, #2048
 4092 002a 9B68     		ldr	r3, [r3, #8]
ARM GAS  /tmp/ccjl6mF2.s 			page 94


 4093 002c 03F00603 		and	r3, r3, #6
 4094 0030 042B     		cmp	r3, #4
 4095 0032 09D1     		bne	.L189
1254:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1255:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(0U)->DIEPCTL |= 3U;
 4096              		.loc 1 1255 0
 4097 0034 FB68     		ldr	r3, [r7, #12]
 4098 0036 03F51063 		add	r3, r3, #2304
 4099 003a 1B68     		ldr	r3, [r3]
 4100 003c FA68     		ldr	r2, [r7, #12]
 4101 003e 02F51062 		add	r2, r2, #2304
 4102 0042 43F00303 		orr	r3, r3, #3
 4103 0046 1360     		str	r3, [r2]
 4104              	.L189:
1256:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1257:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCTL |= USB_OTG_DCTL_CGINAK;
 4105              		.loc 1 1257 0
 4106 0048 FB68     		ldr	r3, [r7, #12]
 4107 004a 03F50063 		add	r3, r3, #2048
 4108 004e 5B68     		ldr	r3, [r3, #4]
 4109 0050 FA68     		ldr	r2, [r7, #12]
 4110 0052 02F50062 		add	r2, r2, #2048
 4111 0056 43F48073 		orr	r3, r3, #256
 4112 005a 5360     		str	r3, [r2, #4]
1258:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1259:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 4113              		.loc 1 1259 0
 4114 005c 0023     		movs	r3, #0
1260:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4115              		.loc 1 1260 0
 4116 005e 1846     		mov	r0, r3
 4117 0060 1437     		adds	r7, r7, #20
 4118              	.LCFI188:
 4119              		.cfi_def_cfa_offset 4
 4120 0062 BD46     		mov	sp, r7
 4121              	.LCFI189:
 4122              		.cfi_def_cfa_register 13
 4123              		@ sp needed
 4124 0064 5DF8047B 		ldr	r7, [sp], #4
 4125              	.LCFI190:
 4126              		.cfi_restore 7
 4127              		.cfi_def_cfa_offset 0
 4128 0068 7047     		bx	lr
 4129              		.cfi_endproc
 4130              	.LFE161:
 4132              		.section	.text.USB_EP0_OutStart,"ax",%progbits
 4133              		.align	1
 4134              		.global	USB_EP0_OutStart
 4135              		.syntax unified
 4136              		.thumb
 4137              		.thumb_func
 4138              		.fpu fpv4-sp-d16
 4140              	USB_EP0_OutStart:
 4141              	.LFB162:
1261:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1262:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1263:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Prepare the EP0 to start the first control setup
ARM GAS  /tmp/ccjl6mF2.s 			page 95


1264:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1265:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled
1266:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1267:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used
1268:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used
1269:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  psetup  pointer to setup packet
1270:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1271:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1272:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EP0_OutStart(USB_OTG_GlobalTypeDef *USBx, uint8_t dma, uint8_t *psetup)
1273:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4142              		.loc 1 1273 0
 4143              		.cfi_startproc
 4144              		@ args = 0, pretend = 0, frame = 24
 4145              		@ frame_needed = 1, uses_anonymous_args = 0
 4146              		@ link register save eliminated.
 4147 0000 80B4     		push	{r7}
 4148              	.LCFI191:
 4149              		.cfi_def_cfa_offset 4
 4150              		.cfi_offset 7, -4
 4151 0002 87B0     		sub	sp, sp, #28
 4152              	.LCFI192:
 4153              		.cfi_def_cfa_offset 32
 4154 0004 00AF     		add	r7, sp, #0
 4155              	.LCFI193:
 4156              		.cfi_def_cfa_register 7
 4157 0006 F860     		str	r0, [r7, #12]
 4158 0008 0B46     		mov	r3, r1
 4159 000a 7A60     		str	r2, [r7, #4]
 4160 000c FB72     		strb	r3, [r7, #11]
1274:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4161              		.loc 1 1274 0
 4162 000e FB68     		ldr	r3, [r7, #12]
 4163 0010 7B61     		str	r3, [r7, #20]
1275:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t gSNPSiD = *(__IO uint32_t *)(&USBx->CID + 0x1U);
 4164              		.loc 1 1275 0
 4165 0012 FB68     		ldr	r3, [r7, #12]
 4166 0014 3C33     		adds	r3, r3, #60
 4167 0016 0433     		adds	r3, r3, #4
 4168 0018 1B68     		ldr	r3, [r3]
 4169 001a 3B61     		str	r3, [r7, #16]
1276:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1277:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (gSNPSiD > USB_OTG_CORE_ID_300A)
 4170              		.loc 1 1277 0
 4171 001c 3B69     		ldr	r3, [r7, #16]
 4172 001e 264A     		ldr	r2, .L195
 4173 0020 9342     		cmp	r3, r2
 4174 0022 0AD9     		bls	.L192
1278:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1279:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_OUTEP(0U)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 4175              		.loc 1 1279 0
 4176 0024 7B69     		ldr	r3, [r7, #20]
 4177 0026 03F53063 		add	r3, r3, #2816
 4178 002a 1B68     		ldr	r3, [r3]
 4179 002c 03F00043 		and	r3, r3, #-2147483648
 4180 0030 B3F1004F 		cmp	r3, #-2147483648
 4181 0034 01D1     		bne	.L192
1280:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
ARM GAS  /tmp/ccjl6mF2.s 			page 96


1281:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_OK;
 4182              		.loc 1 1281 0
 4183 0036 0023     		movs	r3, #0
 4184 0038 37E0     		b	.L193
 4185              	.L192:
1282:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1283:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1284:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1285:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ = 0U;
 4186              		.loc 1 1285 0
 4187 003a 7B69     		ldr	r3, [r7, #20]
 4188 003c 03F53063 		add	r3, r3, #2816
 4189 0040 1A46     		mov	r2, r3
 4190 0042 0023     		movs	r3, #0
 4191 0044 1361     		str	r3, [r2, #16]
1286:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1U << 19));
 4192              		.loc 1 1286 0
 4193 0046 7B69     		ldr	r3, [r7, #20]
 4194 0048 03F53063 		add	r3, r3, #2816
 4195 004c 1B69     		ldr	r3, [r3, #16]
 4196 004e 7A69     		ldr	r2, [r7, #20]
 4197 0050 02F53062 		add	r2, r2, #2816
 4198 0054 43F40023 		orr	r3, r3, #524288
 4199 0058 1361     		str	r3, [r2, #16]
1287:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |= (3U * 8U);
 4200              		.loc 1 1287 0
 4201 005a 7B69     		ldr	r3, [r7, #20]
 4202 005c 03F53063 		add	r3, r3, #2816
 4203 0060 1B69     		ldr	r3, [r3, #16]
 4204 0062 7A69     		ldr	r2, [r7, #20]
 4205 0064 02F53062 		add	r2, r2, #2816
 4206 0068 43F01803 		orr	r3, r3, #24
 4207 006c 1361     		str	r3, [r2, #16]
1288:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |=  USB_OTG_DOEPTSIZ_STUPCNT;
 4208              		.loc 1 1288 0
 4209 006e 7B69     		ldr	r3, [r7, #20]
 4210 0070 03F53063 		add	r3, r3, #2816
 4211 0074 1B69     		ldr	r3, [r3, #16]
 4212 0076 7A69     		ldr	r2, [r7, #20]
 4213 0078 02F53062 		add	r2, r2, #2816
 4214 007c 43F0C043 		orr	r3, r3, #1610612736
 4215 0080 1361     		str	r3, [r2, #16]
1289:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1290:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (dma == 1U)
 4216              		.loc 1 1290 0
 4217 0082 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 4218 0084 012B     		cmp	r3, #1
 4219 0086 0FD1     		bne	.L194
1291:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1292:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(0U)->DOEPDMA = (uint32_t)psetup;
 4220              		.loc 1 1292 0
 4221 0088 7B69     		ldr	r3, [r7, #20]
 4222 008a 03F53063 		add	r3, r3, #2816
 4223 008e 1A46     		mov	r2, r3
 4224 0090 7B68     		ldr	r3, [r7, #4]
 4225 0092 5361     		str	r3, [r2, #20]
1293:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* EP enable */
ARM GAS  /tmp/ccjl6mF2.s 			page 97


1294:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(0U)->DOEPCTL |= USB_OTG_DOEPCTL_EPENA | USB_OTG_DOEPCTL_USBAEP;
 4226              		.loc 1 1294 0
 4227 0094 7B69     		ldr	r3, [r7, #20]
 4228 0096 03F53063 		add	r3, r3, #2816
 4229 009a 1B68     		ldr	r3, [r3]
 4230 009c 7A69     		ldr	r2, [r7, #20]
 4231 009e 02F53062 		add	r2, r2, #2816
 4232 00a2 43F08023 		orr	r3, r3, #-2147450880
 4233 00a6 1360     		str	r3, [r2]
 4234              	.L194:
1295:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1296:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1297:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 4235              		.loc 1 1297 0
 4236 00a8 0023     		movs	r3, #0
 4237              	.L193:
1298:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4238              		.loc 1 1298 0
 4239 00aa 1846     		mov	r0, r3
 4240 00ac 1C37     		adds	r7, r7, #28
 4241              	.LCFI194:
 4242              		.cfi_def_cfa_offset 4
 4243 00ae BD46     		mov	sp, r7
 4244              	.LCFI195:
 4245              		.cfi_def_cfa_register 13
 4246              		@ sp needed
 4247 00b0 5DF8047B 		ldr	r7, [sp], #4
 4248              	.LCFI196:
 4249              		.cfi_restore 7
 4250              		.cfi_def_cfa_offset 0
 4251 00b4 7047     		bx	lr
 4252              	.L196:
 4253 00b6 00BF     		.align	2
 4254              	.L195:
 4255 00b8 0A30544F 		.word	1330917386
 4256              		.cfi_endproc
 4257              	.LFE162:
 4259              		.section	.text.USB_CoreReset,"ax",%progbits
 4260              		.align	1
 4261              		.syntax unified
 4262              		.thumb
 4263              		.thumb_func
 4264              		.fpu fpv4-sp-d16
 4266              	USB_CoreReset:
 4267              	.LFB163:
1299:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1300:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1301:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Reset the USB Core (needed after USB clock settings change)
1302:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1303:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1304:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1305:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** static HAL_StatusTypeDef USB_CoreReset(USB_OTG_GlobalTypeDef *USBx)
1306:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4268              		.loc 1 1306 0
 4269              		.cfi_startproc
 4270              		@ args = 0, pretend = 0, frame = 16
 4271              		@ frame_needed = 1, uses_anonymous_args = 0
ARM GAS  /tmp/ccjl6mF2.s 			page 98


 4272              		@ link register save eliminated.
 4273 0000 80B4     		push	{r7}
 4274              	.LCFI197:
 4275              		.cfi_def_cfa_offset 4
 4276              		.cfi_offset 7, -4
 4277 0002 85B0     		sub	sp, sp, #20
 4278              	.LCFI198:
 4279              		.cfi_def_cfa_offset 24
 4280 0004 00AF     		add	r7, sp, #0
 4281              	.LCFI199:
 4282              		.cfi_def_cfa_register 7
 4283 0006 7860     		str	r0, [r7, #4]
1307:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count = 0U;
 4284              		.loc 1 1307 0
 4285 0008 0023     		movs	r3, #0
 4286 000a FB60     		str	r3, [r7, #12]
 4287              	.L200:
1308:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1309:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Wait for AHB master IDLE state. */
1310:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
1311:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1312:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (++count > 200000U)
 4288              		.loc 1 1312 0
 4289 000c FB68     		ldr	r3, [r7, #12]
 4290 000e 0133     		adds	r3, r3, #1
 4291 0010 FB60     		str	r3, [r7, #12]
 4292 0012 FB68     		ldr	r3, [r7, #12]
 4293 0014 134A     		ldr	r2, .L203
 4294 0016 9342     		cmp	r3, r2
 4295 0018 01D9     		bls	.L198
1313:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1314:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
 4296              		.loc 1 1314 0
 4297 001a 0323     		movs	r3, #3
 4298 001c 1BE0     		b	.L199
 4299              	.L198:
1315:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1316:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1317:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_AHBIDL) == 0U);
 4300              		.loc 1 1317 0
 4301 001e 7B68     		ldr	r3, [r7, #4]
 4302 0020 1B69     		ldr	r3, [r3, #16]
 4303 0022 002B     		cmp	r3, #0
 4304 0024 F2DA     		bge	.L200
1318:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1319:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Core Soft Reset */
1320:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   count = 0U;
 4305              		.loc 1 1320 0
 4306 0026 0023     		movs	r3, #0
 4307 0028 FB60     		str	r3, [r7, #12]
1321:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GRSTCTL |= USB_OTG_GRSTCTL_CSRST;
 4308              		.loc 1 1321 0
 4309 002a 7B68     		ldr	r3, [r7, #4]
 4310 002c 1B69     		ldr	r3, [r3, #16]
 4311 002e 43F00102 		orr	r2, r3, #1
 4312 0032 7B68     		ldr	r3, [r7, #4]
 4313 0034 1A61     		str	r2, [r3, #16]
ARM GAS  /tmp/ccjl6mF2.s 			page 99


 4314              	.L202:
1322:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1323:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
1324:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1325:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (++count > 200000U)
 4315              		.loc 1 1325 0
 4316 0036 FB68     		ldr	r3, [r7, #12]
 4317 0038 0133     		adds	r3, r3, #1
 4318 003a FB60     		str	r3, [r7, #12]
 4319 003c FB68     		ldr	r3, [r7, #12]
 4320 003e 094A     		ldr	r2, .L203
 4321 0040 9342     		cmp	r3, r2
 4322 0042 01D9     		bls	.L201
1326:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1327:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
 4323              		.loc 1 1327 0
 4324 0044 0323     		movs	r3, #3
 4325 0046 06E0     		b	.L199
 4326              	.L201:
1328:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1329:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1330:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_CSRST) == USB_OTG_GRSTCTL_CSRST);
 4327              		.loc 1 1330 0
 4328 0048 7B68     		ldr	r3, [r7, #4]
 4329 004a 1B69     		ldr	r3, [r3, #16]
 4330 004c 03F00103 		and	r3, r3, #1
 4331 0050 012B     		cmp	r3, #1
 4332 0052 F0D0     		beq	.L202
1331:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1332:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 4333              		.loc 1 1332 0
 4334 0054 0023     		movs	r3, #0
 4335              	.L199:
1333:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4336              		.loc 1 1333 0
 4337 0056 1846     		mov	r0, r3
 4338 0058 1437     		adds	r7, r7, #20
 4339              	.LCFI200:
 4340              		.cfi_def_cfa_offset 4
 4341 005a BD46     		mov	sp, r7
 4342              	.LCFI201:
 4343              		.cfi_def_cfa_register 13
 4344              		@ sp needed
 4345 005c 5DF8047B 		ldr	r7, [sp], #4
 4346              	.LCFI202:
 4347              		.cfi_restore 7
 4348              		.cfi_def_cfa_offset 0
 4349 0060 7047     		bx	lr
 4350              	.L204:
 4351 0062 00BF     		.align	2
 4352              	.L203:
 4353 0064 400D0300 		.word	200000
 4354              		.cfi_endproc
 4355              	.LFE163:
 4357              		.section	.text.USB_HostInit,"ax",%progbits
 4358              		.align	1
 4359              		.global	USB_HostInit
ARM GAS  /tmp/ccjl6mF2.s 			page 100


 4360              		.syntax unified
 4361              		.thumb
 4362              		.thumb_func
 4363              		.fpu fpv4-sp-d16
 4365              	USB_HostInit:
 4366              	.LFB164:
1334:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1335:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1336:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_HostInit : Initializes the USB OTG controller registers
1337:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         for Host mode
1338:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1339:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  cfg   pointer to a USB_OTG_CfgTypeDef structure that contains
1340:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
1341:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1342:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1343:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_HostInit(USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
1344:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4367              		.loc 1 1344 0
 4368              		.cfi_startproc
 4369              		@ args = 56, pretend = 16, frame = 16
 4370              		@ frame_needed = 1, uses_anonymous_args = 0
 4371 0000 84B0     		sub	sp, sp, #16
 4372              	.LCFI203:
 4373              		.cfi_def_cfa_offset 16
 4374 0002 80B5     		push	{r7, lr}
 4375              	.LCFI204:
 4376              		.cfi_def_cfa_offset 24
 4377              		.cfi_offset 7, -24
 4378              		.cfi_offset 14, -20
 4379 0004 84B0     		sub	sp, sp, #16
 4380              	.LCFI205:
 4381              		.cfi_def_cfa_offset 40
 4382 0006 00AF     		add	r7, sp, #0
 4383              	.LCFI206:
 4384              		.cfi_def_cfa_register 7
 4385 0008 7860     		str	r0, [r7, #4]
 4386 000a 07F11C00 		add	r0, r7, #28
 4387 000e 80E80E00 		stm	r0, {r1, r2, r3}
1345:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4388              		.loc 1 1345 0
 4389 0012 7B68     		ldr	r3, [r7, #4]
 4390 0014 BB60     		str	r3, [r7, #8]
1346:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i;
1347:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1348:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Restart the Phy Clock */
1349:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_PCGCCTL = 0U;
 4391              		.loc 1 1349 0
 4392 0016 BB68     		ldr	r3, [r7, #8]
 4393 0018 03F56063 		add	r3, r3, #3584
 4394 001c 1A46     		mov	r2, r3
 4395 001e 0023     		movs	r3, #0
 4396 0020 1360     		str	r3, [r2]
1350:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1351:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined(STM32F446xx) || defined(STM32F469xx) || defined(STM32F479xx) || defined(STM32F412Zx) ||
1352:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Disable HW VBUS sensing */
1353:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG &= ~(USB_OTG_GCCFG_VBDEN);
 4397              		.loc 1 1353 0
ARM GAS  /tmp/ccjl6mF2.s 			page 101


 4398 0022 7B68     		ldr	r3, [r7, #4]
 4399 0024 9B6B     		ldr	r3, [r3, #56]
 4400 0026 23F40012 		bic	r2, r3, #2097152
 4401 002a 7B68     		ldr	r3, [r7, #4]
 4402 002c 9A63     		str	r2, [r3, #56]
1354:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #else
1355:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /*
1356:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * Disable HW VBUS sensing. VBUS is internally considered to be always
1357:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * at VBUS-Valid level (5V).
1358:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1359:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG |= USB_OTG_GCCFG_NOVBUSSENS;
1360:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG &= ~USB_OTG_GCCFG_VBUSBSEN;
1361:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG &= ~USB_OTG_GCCFG_VBUSASEN;
1362:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #endif /* defined(STM32F446xx) || defined(STM32F469xx) || defined(STM32F479xx) || defined(STM32F412
1363:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined(STM32F412Zx) || defined(STM32F412Vx) || defined(STM32F412Rx) || defined(STM32F412Cx) ||
1364:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Disable Battery chargin detector */
1365:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG &= ~(USB_OTG_GCCFG_BCDEN);
1366:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #endif /* defined(STM32F412Zx) || defined(STM32F412Vx) || defined(STM32F412Rx) || defined(STM32F412
1367:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1368:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ((USBx->CID & (0x1U << 8)) != 0U)
 4403              		.loc 1 1368 0
 4404 002e 7B68     		ldr	r3, [r7, #4]
 4405 0030 DB6B     		ldr	r3, [r3, #60]
 4406 0032 03F48073 		and	r3, r3, #256
 4407 0036 002B     		cmp	r3, #0
 4408 0038 18D0     		beq	.L206
1369:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1370:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (cfg.speed == USB_OTG_SPEED_FULL)
 4409              		.loc 1 1370 0
 4410 003a 7B6A     		ldr	r3, [r7, #36]
 4411 003c 032B     		cmp	r3, #3
 4412 003e 0AD1     		bne	.L207
1371:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1372:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Force Device Enumeration to FS/LS mode only */
1373:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HOST->HCFG |= USB_OTG_HCFG_FSLSS;
 4413              		.loc 1 1373 0
 4414 0040 BB68     		ldr	r3, [r7, #8]
 4415 0042 03F58063 		add	r3, r3, #1024
 4416 0046 1B68     		ldr	r3, [r3]
 4417 0048 BA68     		ldr	r2, [r7, #8]
 4418 004a 02F58062 		add	r2, r2, #1024
 4419 004e 43F00403 		orr	r3, r3, #4
 4420 0052 1360     		str	r3, [r2]
 4421 0054 14E0     		b	.L209
 4422              	.L207:
1374:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1375:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
1376:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1377:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Set default Max speed support */
1378:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HOST->HCFG &= ~(USB_OTG_HCFG_FSLSS);
 4423              		.loc 1 1378 0
 4424 0056 BB68     		ldr	r3, [r7, #8]
 4425 0058 03F58063 		add	r3, r3, #1024
 4426 005c 1B68     		ldr	r3, [r3]
 4427 005e BA68     		ldr	r2, [r7, #8]
 4428 0060 02F58062 		add	r2, r2, #1024
 4429 0064 23F00403 		bic	r3, r3, #4
ARM GAS  /tmp/ccjl6mF2.s 			page 102


 4430 0068 1360     		str	r3, [r2]
 4431 006a 09E0     		b	.L209
 4432              	.L206:
1379:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1380:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1381:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1382:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1383:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Set default Max speed support */
1384:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HOST->HCFG &= ~(USB_OTG_HCFG_FSLSS);
 4433              		.loc 1 1384 0
 4434 006c BB68     		ldr	r3, [r7, #8]
 4435 006e 03F58063 		add	r3, r3, #1024
 4436 0072 1B68     		ldr	r3, [r3]
 4437 0074 BA68     		ldr	r2, [r7, #8]
 4438 0076 02F58062 		add	r2, r2, #1024
 4439 007a 23F00403 		bic	r3, r3, #4
 4440 007e 1360     		str	r3, [r2]
 4441              	.L209:
1385:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1386:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1387:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Make sure the FIFOs are flushed. */
1388:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   (void)USB_FlushTxFifo(USBx, 0x10U); /* all Tx FIFOs */
 4442              		.loc 1 1388 0
 4443 0080 1021     		movs	r1, #16
 4444 0082 7868     		ldr	r0, [r7, #4]
 4445 0084 FFF7FEFF 		bl	USB_FlushTxFifo
1389:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   (void)USB_FlushRxFifo(USBx);
 4446              		.loc 1 1389 0
 4447 0088 7868     		ldr	r0, [r7, #4]
 4448 008a FFF7FEFF 		bl	USB_FlushRxFifo
1390:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1391:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear all pending HC Interrupts */
1392:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < cfg.Host_channels; i++)
 4449              		.loc 1 1392 0
 4450 008e 0023     		movs	r3, #0
 4451 0090 FB60     		str	r3, [r7, #12]
 4452 0092 15E0     		b	.L210
 4453              	.L211:
1393:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1394:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(i)->HCINT = 0xFFFFFFFFU;
 4454              		.loc 1 1394 0 discriminator 3
 4455 0094 FB68     		ldr	r3, [r7, #12]
 4456 0096 5A01     		lsls	r2, r3, #5
 4457 0098 BB68     		ldr	r3, [r7, #8]
 4458 009a 1344     		add	r3, r3, r2
 4459 009c 03F5A063 		add	r3, r3, #1280
 4460 00a0 1A46     		mov	r2, r3
 4461 00a2 4FF0FF33 		mov	r3, #-1
 4462 00a6 9360     		str	r3, [r2, #8]
1395:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(i)->HCINTMSK = 0U;
 4463              		.loc 1 1395 0 discriminator 3
 4464 00a8 FB68     		ldr	r3, [r7, #12]
 4465 00aa 5A01     		lsls	r2, r3, #5
 4466 00ac BB68     		ldr	r3, [r7, #8]
 4467 00ae 1344     		add	r3, r3, r2
 4468 00b0 03F5A063 		add	r3, r3, #1280
 4469 00b4 1A46     		mov	r2, r3
ARM GAS  /tmp/ccjl6mF2.s 			page 103


 4470 00b6 0023     		movs	r3, #0
 4471 00b8 D360     		str	r3, [r2, #12]
1392:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 4472              		.loc 1 1392 0 discriminator 3
 4473 00ba FB68     		ldr	r3, [r7, #12]
 4474 00bc 0133     		adds	r3, r3, #1
 4475 00be FB60     		str	r3, [r7, #12]
 4476              	.L210:
1392:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 4477              		.loc 1 1392 0 is_stmt 0 discriminator 1
 4478 00c0 3B6A     		ldr	r3, [r7, #32]
 4479 00c2 FA68     		ldr	r2, [r7, #12]
 4480 00c4 9A42     		cmp	r2, r3
 4481 00c6 E5D3     		bcc	.L211
1396:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1397:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1398:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable VBUS driving */
1399:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   (void)USB_DriveVbus(USBx, 1U);
 4482              		.loc 1 1399 0 is_stmt 1
 4483 00c8 0121     		movs	r1, #1
 4484 00ca 7868     		ldr	r0, [r7, #4]
 4485 00cc FFF7FEFF 		bl	USB_DriveVbus
1400:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1401:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_Delay(200U);
 4486              		.loc 1 1401 0
 4487 00d0 C820     		movs	r0, #200
 4488 00d2 FFF7FEFF 		bl	HAL_Delay
1402:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1403:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Disable all interrupts. */
1404:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK = 0U;
 4489              		.loc 1 1404 0
 4490 00d6 7B68     		ldr	r3, [r7, #4]
 4491 00d8 0022     		movs	r2, #0
 4492 00da 9A61     		str	r2, [r3, #24]
1405:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1406:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear any pending interrupts */
1407:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTSTS = 0xFFFFFFFFU;
 4493              		.loc 1 1407 0
 4494 00dc 7B68     		ldr	r3, [r7, #4]
 4495 00de 4FF0FF32 		mov	r2, #-1
 4496 00e2 5A61     		str	r2, [r3, #20]
1408:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1409:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ((USBx->CID & (0x1U << 8)) != 0U)
 4497              		.loc 1 1409 0
 4498 00e4 7B68     		ldr	r3, [r7, #4]
 4499 00e6 DB6B     		ldr	r3, [r3, #60]
 4500 00e8 03F48073 		and	r3, r3, #256
 4501 00ec 002B     		cmp	r3, #0
 4502 00ee 0BD0     		beq	.L212
1410:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1411:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* set Rx FIFO size */
1412:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GRXFSIZ  = 0x200U;
 4503              		.loc 1 1412 0
 4504 00f0 7B68     		ldr	r3, [r7, #4]
 4505 00f2 4FF40072 		mov	r2, #512
 4506 00f6 5A62     		str	r2, [r3, #36]
1413:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->DIEPTXF0_HNPTXFSIZ = (uint32_t)(((0x100U << 16) & USB_OTG_NPTXFD) | 0x200U);
ARM GAS  /tmp/ccjl6mF2.s 			page 104


 4507              		.loc 1 1413 0
 4508 00f8 7B68     		ldr	r3, [r7, #4]
 4509 00fa 144A     		ldr	r2, .L216
 4510 00fc 9A62     		str	r2, [r3, #40]
1414:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->HPTXFSIZ = (uint32_t)(((0xE0U << 16) & USB_OTG_HPTXFSIZ_PTXFD) | 0x300U);
 4511              		.loc 1 1414 0
 4512 00fe 7B68     		ldr	r3, [r7, #4]
 4513 0100 134A     		ldr	r2, .L216+4
 4514 0102 C3F80021 		str	r2, [r3, #256]
 4515 0106 09E0     		b	.L213
 4516              	.L212:
1415:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1416:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1417:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1418:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* set Rx FIFO size */
1419:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GRXFSIZ  = 0x80U;
 4517              		.loc 1 1419 0
 4518 0108 7B68     		ldr	r3, [r7, #4]
 4519 010a 8022     		movs	r2, #128
 4520 010c 5A62     		str	r2, [r3, #36]
1420:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->DIEPTXF0_HNPTXFSIZ = (uint32_t)(((0x60U << 16) & USB_OTG_NPTXFD) | 0x80U);
 4521              		.loc 1 1420 0
 4522 010e 7B68     		ldr	r3, [r7, #4]
 4523 0110 104A     		ldr	r2, .L216+8
 4524 0112 9A62     		str	r2, [r3, #40]
1421:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->HPTXFSIZ = (uint32_t)(((0x40U << 16)& USB_OTG_HPTXFSIZ_PTXFD) | 0xE0U);
 4525              		.loc 1 1421 0
 4526 0114 7B68     		ldr	r3, [r7, #4]
 4527 0116 104A     		ldr	r2, .L216+12
 4528 0118 C3F80021 		str	r2, [r3, #256]
 4529              	.L213:
1422:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1423:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1424:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable the common interrupts */
1425:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.dma_enable == 0U)
 4530              		.loc 1 1425 0
 4531 011c BB6A     		ldr	r3, [r7, #40]
 4532 011e 002B     		cmp	r3, #0
 4533 0120 05D1     		bne	.L214
1426:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1427:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GINTMSK |= USB_OTG_GINTMSK_RXFLVLM;
 4534              		.loc 1 1427 0
 4535 0122 7B68     		ldr	r3, [r7, #4]
 4536 0124 9B69     		ldr	r3, [r3, #24]
 4537 0126 43F01002 		orr	r2, r3, #16
 4538 012a 7B68     		ldr	r3, [r7, #4]
 4539 012c 9A61     		str	r2, [r3, #24]
 4540              	.L214:
1428:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1429:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1430:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable interrupts matching to the Host mode ONLY */
1431:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK |= (USB_OTG_GINTMSK_PRTIM            | USB_OTG_GINTMSK_HCIM | \
 4541              		.loc 1 1431 0
 4542 012e 7B68     		ldr	r3, [r7, #4]
 4543 0130 9A69     		ldr	r2, [r3, #24]
 4544 0132 0A4B     		ldr	r3, .L216+16
 4545 0134 1343     		orrs	r3, r3, r2
ARM GAS  /tmp/ccjl6mF2.s 			page 105


 4546 0136 7A68     		ldr	r2, [r7, #4]
 4547 0138 9361     		str	r3, [r2, #24]
1432:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                     USB_OTG_GINTMSK_SOFM             | USB_OTG_GINTSTS_DISCINT | \
1433:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                     USB_OTG_GINTMSK_PXFRM_IISOOXFRM  | USB_OTG_GINTMSK_WUIM);
1434:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1435:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 4548              		.loc 1 1435 0
 4549 013a 0023     		movs	r3, #0
1436:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4550              		.loc 1 1436 0
 4551 013c 1846     		mov	r0, r3
 4552 013e 1037     		adds	r7, r7, #16
 4553              	.LCFI207:
 4554              		.cfi_def_cfa_offset 24
 4555 0140 BD46     		mov	sp, r7
 4556              	.LCFI208:
 4557              		.cfi_def_cfa_register 13
 4558              		@ sp needed
 4559 0142 BDE88040 		pop	{r7, lr}
 4560              	.LCFI209:
 4561              		.cfi_restore 14
 4562              		.cfi_restore 7
 4563              		.cfi_def_cfa_offset 16
 4564 0146 04B0     		add	sp, sp, #16
 4565              	.LCFI210:
 4566              		.cfi_def_cfa_offset 0
 4567 0148 7047     		bx	lr
 4568              	.L217:
 4569 014a 00BF     		.align	2
 4570              	.L216:
 4571 014c 00020001 		.word	16777728
 4572 0150 0003E000 		.word	14680832
 4573 0154 80006000 		.word	6291584
 4574 0158 E0004000 		.word	4194528
 4575 015c 080020A3 		.word	-1558183928
 4576              		.cfi_endproc
 4577              	.LFE164:
 4579              		.section	.text.USB_InitFSLSPClkSel,"ax",%progbits
 4580              		.align	1
 4581              		.global	USB_InitFSLSPClkSel
 4582              		.syntax unified
 4583              		.thumb
 4584              		.thumb_func
 4585              		.fpu fpv4-sp-d16
 4587              	USB_InitFSLSPClkSel:
 4588              	.LFB165:
1437:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1438:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1439:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_InitFSLSPClkSel : Initializes the FSLSPClkSel field of the
1440:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         HCFG register on the PHY type and set the right frame interval
1441:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1442:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  freq  clock frequency
1443:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1444:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           HCFG_48_MHZ : Full Speed 48 MHz Clock
1445:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           HCFG_6_MHZ : Low Speed 6 MHz Clock
1446:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1447:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
ARM GAS  /tmp/ccjl6mF2.s 			page 106


1448:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_InitFSLSPClkSel(USB_OTG_GlobalTypeDef *USBx, uint8_t freq)
1449:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4589              		.loc 1 1449 0
 4590              		.cfi_startproc
 4591              		@ args = 0, pretend = 0, frame = 16
 4592              		@ frame_needed = 1, uses_anonymous_args = 0
 4593              		@ link register save eliminated.
 4594 0000 80B4     		push	{r7}
 4595              	.LCFI211:
 4596              		.cfi_def_cfa_offset 4
 4597              		.cfi_offset 7, -4
 4598 0002 85B0     		sub	sp, sp, #20
 4599              	.LCFI212:
 4600              		.cfi_def_cfa_offset 24
 4601 0004 00AF     		add	r7, sp, #0
 4602              	.LCFI213:
 4603              		.cfi_def_cfa_register 7
 4604 0006 7860     		str	r0, [r7, #4]
 4605 0008 0B46     		mov	r3, r1
 4606 000a FB70     		strb	r3, [r7, #3]
1450:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4607              		.loc 1 1450 0
 4608 000c 7B68     		ldr	r3, [r7, #4]
 4609 000e FB60     		str	r3, [r7, #12]
1451:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1452:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HOST->HCFG &= ~(USB_OTG_HCFG_FSLSPCS);
 4610              		.loc 1 1452 0
 4611 0010 FB68     		ldr	r3, [r7, #12]
 4612 0012 03F58063 		add	r3, r3, #1024
 4613 0016 1B68     		ldr	r3, [r3]
 4614 0018 FA68     		ldr	r2, [r7, #12]
 4615 001a 02F58062 		add	r2, r2, #1024
 4616 001e 23F00303 		bic	r3, r3, #3
 4617 0022 1360     		str	r3, [r2]
1453:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HOST->HCFG |= (uint32_t)freq & USB_OTG_HCFG_FSLSPCS;
 4618              		.loc 1 1453 0
 4619 0024 FB68     		ldr	r3, [r7, #12]
 4620 0026 03F58063 		add	r3, r3, #1024
 4621 002a 1A68     		ldr	r2, [r3]
 4622 002c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4623 002e 03F00303 		and	r3, r3, #3
 4624 0032 F968     		ldr	r1, [r7, #12]
 4625 0034 01F58061 		add	r1, r1, #1024
 4626 0038 1343     		orrs	r3, r3, r2
 4627 003a 0B60     		str	r3, [r1]
1454:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1455:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (freq == HCFG_48_MHZ)
 4628              		.loc 1 1455 0
 4629 003c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4630 003e 012B     		cmp	r3, #1
 4631 0040 07D1     		bne	.L219
1456:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1457:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HOST->HFIR = 48000U;
 4632              		.loc 1 1457 0
 4633 0042 FB68     		ldr	r3, [r7, #12]
 4634 0044 03F58063 		add	r3, r3, #1024
 4635 0048 1A46     		mov	r2, r3
ARM GAS  /tmp/ccjl6mF2.s 			page 107


 4636 004a 4BF68033 		movw	r3, #48000
 4637 004e 5360     		str	r3, [r2, #4]
 4638 0050 09E0     		b	.L220
 4639              	.L219:
1458:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1459:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else if (freq == HCFG_6_MHZ)
 4640              		.loc 1 1459 0
 4641 0052 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4642 0054 022B     		cmp	r3, #2
 4643 0056 06D1     		bne	.L220
1460:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1461:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HOST->HFIR = 6000U;
 4644              		.loc 1 1461 0
 4645 0058 FB68     		ldr	r3, [r7, #12]
 4646 005a 03F58063 		add	r3, r3, #1024
 4647 005e 1A46     		mov	r2, r3
 4648 0060 41F27073 		movw	r3, #6000
 4649 0064 5360     		str	r3, [r2, #4]
 4650              	.L220:
1462:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1463:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1464:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1465:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* ... */
1466:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1467:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1468:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 4651              		.loc 1 1468 0
 4652 0066 0023     		movs	r3, #0
1469:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4653              		.loc 1 1469 0
 4654 0068 1846     		mov	r0, r3
 4655 006a 1437     		adds	r7, r7, #20
 4656              	.LCFI214:
 4657              		.cfi_def_cfa_offset 4
 4658 006c BD46     		mov	sp, r7
 4659              	.LCFI215:
 4660              		.cfi_def_cfa_register 13
 4661              		@ sp needed
 4662 006e 5DF8047B 		ldr	r7, [sp], #4
 4663              	.LCFI216:
 4664              		.cfi_restore 7
 4665              		.cfi_def_cfa_offset 0
 4666 0072 7047     		bx	lr
 4667              		.cfi_endproc
 4668              	.LFE165:
 4670              		.section	.text.USB_ResetPort,"ax",%progbits
 4671              		.align	1
 4672              		.global	USB_ResetPort
 4673              		.syntax unified
 4674              		.thumb
 4675              		.thumb_func
 4676              		.fpu fpv4-sp-d16
 4678              	USB_ResetPort:
 4679              	.LFB166:
1470:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1471:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1472:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** * @brief  USB_OTG_ResetPort : Reset Host Port
ARM GAS  /tmp/ccjl6mF2.s 			page 108


1473:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1474:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1475:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @note (1)The application must wait at least 10 ms
1476:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *   before clearing the reset bit.
1477:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1478:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_ResetPort(USB_OTG_GlobalTypeDef *USBx)
1479:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4680              		.loc 1 1479 0
 4681              		.cfi_startproc
 4682              		@ args = 0, pretend = 0, frame = 16
 4683              		@ frame_needed = 1, uses_anonymous_args = 0
 4684 0000 80B5     		push	{r7, lr}
 4685              	.LCFI217:
 4686              		.cfi_def_cfa_offset 8
 4687              		.cfi_offset 7, -8
 4688              		.cfi_offset 14, -4
 4689 0002 84B0     		sub	sp, sp, #16
 4690              	.LCFI218:
 4691              		.cfi_def_cfa_offset 24
 4692 0004 00AF     		add	r7, sp, #0
 4693              	.LCFI219:
 4694              		.cfi_def_cfa_register 7
 4695 0006 7860     		str	r0, [r7, #4]
1480:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4696              		.loc 1 1480 0
 4697 0008 7B68     		ldr	r3, [r7, #4]
 4698 000a FB60     		str	r3, [r7, #12]
1481:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1482:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t hprt0 = 0U;
 4699              		.loc 1 1482 0
 4700 000c 0023     		movs	r3, #0
 4701 000e BB60     		str	r3, [r7, #8]
1483:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1484:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
 4702              		.loc 1 1484 0
 4703 0010 FB68     		ldr	r3, [r7, #12]
 4704 0012 03F58863 		add	r3, r3, #1088
 4705 0016 1B68     		ldr	r3, [r3]
 4706 0018 BB60     		str	r3, [r7, #8]
1485:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1486:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 &= ~(USB_OTG_HPRT_PENA | USB_OTG_HPRT_PCDET |
 4707              		.loc 1 1486 0
 4708 001a BB68     		ldr	r3, [r7, #8]
 4709 001c 23F02E03 		bic	r3, r3, #46
 4710 0020 BB60     		str	r3, [r7, #8]
1487:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****              USB_OTG_HPRT_PENCHNG | USB_OTG_HPRT_POCCHNG);
1488:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1489:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HPRT0 = (USB_OTG_HPRT_PRST | hprt0);
 4711              		.loc 1 1489 0
 4712 0022 BB68     		ldr	r3, [r7, #8]
 4713 0024 FA68     		ldr	r2, [r7, #12]
 4714 0026 02F58862 		add	r2, r2, #1088
 4715 002a 43F48073 		orr	r3, r3, #256
 4716 002e 1360     		str	r3, [r2]
1490:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_Delay(100U);                                 /* See Note #1 */
 4717              		.loc 1 1490 0
 4718 0030 6420     		movs	r0, #100
ARM GAS  /tmp/ccjl6mF2.s 			page 109


 4719 0032 FFF7FEFF 		bl	HAL_Delay
1491:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HPRT0 = ((~USB_OTG_HPRT_PRST) & hprt0);
 4720              		.loc 1 1491 0
 4721 0036 BB68     		ldr	r3, [r7, #8]
 4722 0038 FA68     		ldr	r2, [r7, #12]
 4723 003a 02F58862 		add	r2, r2, #1088
 4724 003e 23F48073 		bic	r3, r3, #256
 4725 0042 1360     		str	r3, [r2]
1492:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_Delay(10U);
 4726              		.loc 1 1492 0
 4727 0044 0A20     		movs	r0, #10
 4728 0046 FFF7FEFF 		bl	HAL_Delay
1493:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1494:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 4729              		.loc 1 1494 0
 4730 004a 0023     		movs	r3, #0
1495:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4731              		.loc 1 1495 0
 4732 004c 1846     		mov	r0, r3
 4733 004e 1037     		adds	r7, r7, #16
 4734              	.LCFI220:
 4735              		.cfi_def_cfa_offset 8
 4736 0050 BD46     		mov	sp, r7
 4737              	.LCFI221:
 4738              		.cfi_def_cfa_register 13
 4739              		@ sp needed
 4740 0052 80BD     		pop	{r7, pc}
 4741              		.cfi_endproc
 4742              	.LFE166:
 4744              		.section	.text.USB_DriveVbus,"ax",%progbits
 4745              		.align	1
 4746              		.global	USB_DriveVbus
 4747              		.syntax unified
 4748              		.thumb
 4749              		.thumb_func
 4750              		.fpu fpv4-sp-d16
 4752              	USB_DriveVbus:
 4753              	.LFB167:
1496:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1497:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1498:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DriveVbus : activate or de-activate vbus
1499:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  state  VBUS state
1500:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1501:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : VBUS Active
1502:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : VBUS Inactive
1503:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1504:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** */
1505:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DriveVbus(USB_OTG_GlobalTypeDef *USBx, uint8_t state)
1506:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4754              		.loc 1 1506 0
 4755              		.cfi_startproc
 4756              		@ args = 0, pretend = 0, frame = 16
 4757              		@ frame_needed = 1, uses_anonymous_args = 0
 4758              		@ link register save eliminated.
 4759 0000 80B4     		push	{r7}
 4760              	.LCFI222:
 4761              		.cfi_def_cfa_offset 4
ARM GAS  /tmp/ccjl6mF2.s 			page 110


 4762              		.cfi_offset 7, -4
 4763 0002 85B0     		sub	sp, sp, #20
 4764              	.LCFI223:
 4765              		.cfi_def_cfa_offset 24
 4766 0004 00AF     		add	r7, sp, #0
 4767              	.LCFI224:
 4768              		.cfi_def_cfa_register 7
 4769 0006 7860     		str	r0, [r7, #4]
 4770 0008 0B46     		mov	r3, r1
 4771 000a FB70     		strb	r3, [r7, #3]
1507:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4772              		.loc 1 1507 0
 4773 000c 7B68     		ldr	r3, [r7, #4]
 4774 000e FB60     		str	r3, [r7, #12]
1508:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t hprt0 = 0U;
 4775              		.loc 1 1508 0
 4776 0010 0023     		movs	r3, #0
 4777 0012 BB60     		str	r3, [r7, #8]
1509:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1510:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
 4778              		.loc 1 1510 0
 4779 0014 FB68     		ldr	r3, [r7, #12]
 4780 0016 03F58863 		add	r3, r3, #1088
 4781 001a 1B68     		ldr	r3, [r3]
 4782 001c BB60     		str	r3, [r7, #8]
1511:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1512:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 &= ~(USB_OTG_HPRT_PENA | USB_OTG_HPRT_PCDET |
 4783              		.loc 1 1512 0
 4784 001e BB68     		ldr	r3, [r7, #8]
 4785 0020 23F02E03 		bic	r3, r3, #46
 4786 0024 BB60     		str	r3, [r7, #8]
1513:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****              USB_OTG_HPRT_PENCHNG | USB_OTG_HPRT_POCCHNG);
1514:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1515:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (((hprt0 & USB_OTG_HPRT_PPWR) == 0U) && (state == 1U))
 4787              		.loc 1 1515 0
 4788 0026 BB68     		ldr	r3, [r7, #8]
 4789 0028 03F48053 		and	r3, r3, #4096
 4790 002c 002B     		cmp	r3, #0
 4791 002e 09D1     		bne	.L225
 4792              		.loc 1 1515 0 is_stmt 0 discriminator 1
 4793 0030 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4794 0032 012B     		cmp	r3, #1
 4795 0034 06D1     		bne	.L225
1516:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1517:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HPRT0 = (USB_OTG_HPRT_PPWR | hprt0);
 4796              		.loc 1 1517 0 is_stmt 1
 4797 0036 BB68     		ldr	r3, [r7, #8]
 4798 0038 FA68     		ldr	r2, [r7, #12]
 4799 003a 02F58862 		add	r2, r2, #1088
 4800 003e 43F48053 		orr	r3, r3, #4096
 4801 0042 1360     		str	r3, [r2]
 4802              	.L225:
1518:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1519:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (((hprt0 & USB_OTG_HPRT_PPWR) == USB_OTG_HPRT_PPWR) && (state == 0U))
 4803              		.loc 1 1519 0
 4804 0044 BB68     		ldr	r3, [r7, #8]
 4805 0046 03F48053 		and	r3, r3, #4096
ARM GAS  /tmp/ccjl6mF2.s 			page 111


 4806 004a B3F5805F 		cmp	r3, #4096
 4807 004e 09D1     		bne	.L226
 4808              		.loc 1 1519 0 is_stmt 0 discriminator 1
 4809 0050 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4810 0052 002B     		cmp	r3, #0
 4811 0054 06D1     		bne	.L226
1520:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1521:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HPRT0 = ((~USB_OTG_HPRT_PPWR) & hprt0);
 4812              		.loc 1 1521 0 is_stmt 1
 4813 0056 BB68     		ldr	r3, [r7, #8]
 4814 0058 FA68     		ldr	r2, [r7, #12]
 4815 005a 02F58862 		add	r2, r2, #1088
 4816 005e 23F48053 		bic	r3, r3, #4096
 4817 0062 1360     		str	r3, [r2]
 4818              	.L226:
1522:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1523:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 4819              		.loc 1 1523 0
 4820 0064 0023     		movs	r3, #0
1524:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4821              		.loc 1 1524 0
 4822 0066 1846     		mov	r0, r3
 4823 0068 1437     		adds	r7, r7, #20
 4824              	.LCFI225:
 4825              		.cfi_def_cfa_offset 4
 4826 006a BD46     		mov	sp, r7
 4827              	.LCFI226:
 4828              		.cfi_def_cfa_register 13
 4829              		@ sp needed
 4830 006c 5DF8047B 		ldr	r7, [sp], #4
 4831              	.LCFI227:
 4832              		.cfi_restore 7
 4833              		.cfi_def_cfa_offset 0
 4834 0070 7047     		bx	lr
 4835              		.cfi_endproc
 4836              	.LFE167:
 4838              		.section	.text.USB_GetHostSpeed,"ax",%progbits
 4839              		.align	1
 4840              		.global	USB_GetHostSpeed
 4841              		.syntax unified
 4842              		.thumb
 4843              		.thumb_func
 4844              		.fpu fpv4-sp-d16
 4846              	USB_GetHostSpeed:
 4847              	.LFB168:
1525:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1526:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1527:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Return Host Core speed
1528:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1529:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval speed : Host speed
1530:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1531:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg HCD_SPEED_HIGH: High speed mode
1532:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg HCD_SPEED_FULL: Full speed mode
1533:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg HCD_SPEED_LOW: Low speed mode
1534:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1535:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_GetHostSpeed(USB_OTG_GlobalTypeDef *USBx)
1536:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
ARM GAS  /tmp/ccjl6mF2.s 			page 112


 4848              		.loc 1 1536 0
 4849              		.cfi_startproc
 4850              		@ args = 0, pretend = 0, frame = 16
 4851              		@ frame_needed = 1, uses_anonymous_args = 0
 4852              		@ link register save eliminated.
 4853 0000 80B4     		push	{r7}
 4854              	.LCFI228:
 4855              		.cfi_def_cfa_offset 4
 4856              		.cfi_offset 7, -4
 4857 0002 85B0     		sub	sp, sp, #20
 4858              	.LCFI229:
 4859              		.cfi_def_cfa_offset 24
 4860 0004 00AF     		add	r7, sp, #0
 4861              	.LCFI230:
 4862              		.cfi_def_cfa_register 7
 4863 0006 7860     		str	r0, [r7, #4]
1537:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4864              		.loc 1 1537 0
 4865 0008 7B68     		ldr	r3, [r7, #4]
 4866 000a FB60     		str	r3, [r7, #12]
1538:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t hprt0 = 0U;
 4867              		.loc 1 1538 0
 4868 000c 0023     		movs	r3, #0
 4869 000e BB60     		str	r3, [r7, #8]
1539:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1540:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
 4870              		.loc 1 1540 0
 4871 0010 FB68     		ldr	r3, [r7, #12]
 4872 0012 03F58863 		add	r3, r3, #1088
 4873 0016 1B68     		ldr	r3, [r3]
 4874 0018 BB60     		str	r3, [r7, #8]
1541:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((hprt0 & USB_OTG_HPRT_PSPD) >> 17);
 4875              		.loc 1 1541 0
 4876 001a BB68     		ldr	r3, [r7, #8]
 4877 001c 5B0C     		lsrs	r3, r3, #17
 4878 001e 03F00303 		and	r3, r3, #3
1542:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4879              		.loc 1 1542 0
 4880 0022 1846     		mov	r0, r3
 4881 0024 1437     		adds	r7, r7, #20
 4882              	.LCFI231:
 4883              		.cfi_def_cfa_offset 4
 4884 0026 BD46     		mov	sp, r7
 4885              	.LCFI232:
 4886              		.cfi_def_cfa_register 13
 4887              		@ sp needed
 4888 0028 5DF8047B 		ldr	r7, [sp], #4
 4889              	.LCFI233:
 4890              		.cfi_restore 7
 4891              		.cfi_def_cfa_offset 0
 4892 002c 7047     		bx	lr
 4893              		.cfi_endproc
 4894              	.LFE168:
 4896              		.section	.text.USB_GetCurrentFrame,"ax",%progbits
 4897              		.align	1
 4898              		.global	USB_GetCurrentFrame
 4899              		.syntax unified
ARM GAS  /tmp/ccjl6mF2.s 			page 113


 4900              		.thumb
 4901              		.thumb_func
 4902              		.fpu fpv4-sp-d16
 4904              	USB_GetCurrentFrame:
 4905              	.LFB169:
1543:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1544:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1545:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Return Host Current Frame number
1546:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1547:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval current frame number
1548:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** */
1549:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_GetCurrentFrame(USB_OTG_GlobalTypeDef *USBx)
1550:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4906              		.loc 1 1550 0
 4907              		.cfi_startproc
 4908              		@ args = 0, pretend = 0, frame = 16
 4909              		@ frame_needed = 1, uses_anonymous_args = 0
 4910              		@ link register save eliminated.
 4911 0000 80B4     		push	{r7}
 4912              	.LCFI234:
 4913              		.cfi_def_cfa_offset 4
 4914              		.cfi_offset 7, -4
 4915 0002 85B0     		sub	sp, sp, #20
 4916              	.LCFI235:
 4917              		.cfi_def_cfa_offset 24
 4918 0004 00AF     		add	r7, sp, #0
 4919              	.LCFI236:
 4920              		.cfi_def_cfa_register 7
 4921 0006 7860     		str	r0, [r7, #4]
1551:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4922              		.loc 1 1551 0
 4923 0008 7B68     		ldr	r3, [r7, #4]
 4924 000a FB60     		str	r3, [r7, #12]
1552:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1553:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return (USBx_HOST->HFNUM & USB_OTG_HFNUM_FRNUM);
 4925              		.loc 1 1553 0
 4926 000c FB68     		ldr	r3, [r7, #12]
 4927 000e 03F58063 		add	r3, r3, #1024
 4928 0012 9B68     		ldr	r3, [r3, #8]
 4929 0014 9BB2     		uxth	r3, r3
1554:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4930              		.loc 1 1554 0
 4931 0016 1846     		mov	r0, r3
 4932 0018 1437     		adds	r7, r7, #20
 4933              	.LCFI237:
 4934              		.cfi_def_cfa_offset 4
 4935 001a BD46     		mov	sp, r7
 4936              	.LCFI238:
 4937              		.cfi_def_cfa_register 13
 4938              		@ sp needed
 4939 001c 5DF8047B 		ldr	r7, [sp], #4
 4940              	.LCFI239:
 4941              		.cfi_restore 7
 4942              		.cfi_def_cfa_offset 0
 4943 0020 7047     		bx	lr
 4944              		.cfi_endproc
 4945              	.LFE169:
ARM GAS  /tmp/ccjl6mF2.s 			page 114


 4947              		.section	.text.USB_HC_Init,"ax",%progbits
 4948              		.align	1
 4949              		.global	USB_HC_Init
 4950              		.syntax unified
 4951              		.thumb
 4952              		.thumb_func
 4953              		.fpu fpv4-sp-d16
 4955              	USB_HC_Init:
 4956              	.LFB170:
1555:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1556:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1557:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Initialize a host channel
1558:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1559:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ch_num  Channel number
1560:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
1561:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  epnum  Endpoint number
1562:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 1 to 15
1563:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dev_address  Current device address
1564:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 255
1565:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  speed  Current device speed
1566:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1567:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_HIGH: High speed mode
1568:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_FULL: Full speed mode
1569:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_LOW: Low speed mode
1570:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep_type  Endpoint Type
1571:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1572:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg EP_TYPE_CTRL: Control type
1573:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg EP_TYPE_ISOC: Isochronous type
1574:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg EP_TYPE_BULK: Bulk type
1575:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg EP_TYPE_INTR: Interrupt type
1576:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  mps  Max Packet Size
1577:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to32K
1578:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
1579:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1580:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_Init(USB_OTG_GlobalTypeDef *USBx,
1581:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint8_t ch_num,
1582:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint8_t epnum,
1583:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint8_t dev_address,
1584:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint8_t speed,
1585:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint8_t ep_type,
1586:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint16_t mps)
1587:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4957              		.loc 1 1587 0
 4958              		.cfi_startproc
 4959              		@ args = 12, pretend = 0, frame = 24
 4960              		@ frame_needed = 1, uses_anonymous_args = 0
 4961              		@ link register save eliminated.
 4962 0000 80B4     		push	{r7}
 4963              	.LCFI240:
 4964              		.cfi_def_cfa_offset 4
 4965              		.cfi_offset 7, -4
 4966 0002 87B0     		sub	sp, sp, #28
 4967              	.LCFI241:
 4968              		.cfi_def_cfa_offset 32
 4969 0004 00AF     		add	r7, sp, #0
 4970              	.LCFI242:
 4971              		.cfi_def_cfa_register 7
ARM GAS  /tmp/ccjl6mF2.s 			page 115


 4972 0006 7860     		str	r0, [r7, #4]
 4973 0008 0846     		mov	r0, r1
 4974 000a 1146     		mov	r1, r2
 4975 000c 1A46     		mov	r2, r3
 4976 000e 0346     		mov	r3, r0
 4977 0010 FB70     		strb	r3, [r7, #3]
 4978 0012 0B46     		mov	r3, r1
 4979 0014 BB70     		strb	r3, [r7, #2]
 4980 0016 1346     		mov	r3, r2
 4981 0018 7B70     		strb	r3, [r7, #1]
1588:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
 4982              		.loc 1 1588 0
 4983 001a 0023     		movs	r3, #0
 4984 001c FB75     		strb	r3, [r7, #23]
1589:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4985              		.loc 1 1589 0
 4986 001e 7B68     		ldr	r3, [r7, #4]
 4987 0020 BB60     		str	r3, [r7, #8]
1590:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t HCcharEpDir, HCcharLowSpeed;
1591:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1592:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear old interrupt conditions for this host channel. */
1593:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC((uint32_t)ch_num)->HCINT = 0xFFFFFFFFU;
 4988              		.loc 1 1593 0
 4989 0022 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4990 0024 5A01     		lsls	r2, r3, #5
 4991 0026 BB68     		ldr	r3, [r7, #8]
 4992 0028 1344     		add	r3, r3, r2
 4993 002a 03F5A063 		add	r3, r3, #1280
 4994 002e 1A46     		mov	r2, r3
 4995 0030 4FF0FF33 		mov	r3, #-1
 4996 0034 9360     		str	r3, [r2, #8]
1594:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1595:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable channel interrupts required for this transfer. */
1596:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   switch (ep_type)
 4997              		.loc 1 1596 0
 4998 0036 97F82430 		ldrb	r3, [r7, #36]	@ zero_extendqisi2
 4999 003a 032B     		cmp	r3, #3
 5000 003c 7ED8     		bhi	.L233
 5001 003e 01A2     		adr	r2, .L235
 5002 0040 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 5003              		.p2align 2
 5004              	.L235:
 5005 0044 55000000 		.word	.L234+1
 5006 0048 FF000000 		.word	.L236+1
 5007 004c 55000000 		.word	.L234+1
 5008 0050 C1000000 		.word	.L237+1
 5009              		.p2align 1
 5010              	.L234:
1597:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1598:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     case EP_TYPE_CTRL:
1599:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     case EP_TYPE_BULK:
1600:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC((uint32_t)ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |
 5011              		.loc 1 1600 0
 5012 0054 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5013 0056 5A01     		lsls	r2, r3, #5
 5014 0058 BB68     		ldr	r3, [r7, #8]
 5015 005a 1344     		add	r3, r3, r2
ARM GAS  /tmp/ccjl6mF2.s 			page 116


 5016 005c 03F5A063 		add	r3, r3, #1280
 5017 0060 1A46     		mov	r2, r3
 5018 0062 40F29D43 		movw	r3, #1181
 5019 0066 D360     		str	r3, [r2, #12]
1601:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_STALLM |
1602:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_TXERRM |
1603:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_DTERRM |
1604:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_AHBERR |
1605:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_NAKM;
1606:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1607:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((epnum & 0x80U) == 0x80U)
 5020              		.loc 1 1607 0
 5021 0068 97F90230 		ldrsb	r3, [r7, #2]
 5022 006c 002B     		cmp	r3, #0
 5023 006e 10DA     		bge	.L238
1608:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1609:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_HC((uint32_t)ch_num)->HCINTMSK |= USB_OTG_HCINTMSK_BBERRM;
 5024              		.loc 1 1609 0
 5025 0070 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5026 0072 5A01     		lsls	r2, r3, #5
 5027 0074 BB68     		ldr	r3, [r7, #8]
 5028 0076 1344     		add	r3, r3, r2
 5029 0078 03F5A063 		add	r3, r3, #1280
 5030 007c DB68     		ldr	r3, [r3, #12]
 5031 007e FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 5032 0080 5101     		lsls	r1, r2, #5
 5033 0082 BA68     		ldr	r2, [r7, #8]
 5034 0084 0A44     		add	r2, r2, r1
 5035 0086 02F5A062 		add	r2, r2, #1280
 5036 008a 43F48073 		orr	r3, r3, #256
 5037 008e D360     		str	r3, [r2, #12]
1610:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1611:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       else
1612:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1613:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if ((USBx->CID & (0x1U << 8)) != 0U)
1614:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
1615:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx_HC((uint32_t)ch_num)->HCINTMSK |= (USB_OTG_HCINTMSK_NYET | USB_OTG_HCINTMSK_ACKM);
1616:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
1617:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1618:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       break;
 5038              		.loc 1 1618 0
 5039 0090 57E0     		b	.L249
 5040              	.L238:
1613:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 5041              		.loc 1 1613 0
 5042 0092 7B68     		ldr	r3, [r7, #4]
 5043 0094 DB6B     		ldr	r3, [r3, #60]
 5044 0096 03F48073 		and	r3, r3, #256
 5045 009a 002B     		cmp	r3, #0
 5046 009c 51D0     		beq	.L249
1615:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 5047              		.loc 1 1615 0
 5048 009e FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5049 00a0 5A01     		lsls	r2, r3, #5
 5050 00a2 BB68     		ldr	r3, [r7, #8]
 5051 00a4 1344     		add	r3, r3, r2
 5052 00a6 03F5A063 		add	r3, r3, #1280
ARM GAS  /tmp/ccjl6mF2.s 			page 117


 5053 00aa DB68     		ldr	r3, [r3, #12]
 5054 00ac FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 5055 00ae 5101     		lsls	r1, r2, #5
 5056 00b0 BA68     		ldr	r2, [r7, #8]
 5057 00b2 0A44     		add	r2, r2, r1
 5058 00b4 02F5A062 		add	r2, r2, #1280
 5059 00b8 43F06003 		orr	r3, r3, #96
 5060 00bc D360     		str	r3, [r2, #12]
 5061              		.loc 1 1618 0
 5062 00be 40E0     		b	.L249
 5063              	.L237:
1619:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1620:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     case EP_TYPE_INTR:
1621:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC((uint32_t)ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |
 5064              		.loc 1 1621 0
 5065 00c0 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5066 00c2 5A01     		lsls	r2, r3, #5
 5067 00c4 BB68     		ldr	r3, [r7, #8]
 5068 00c6 1344     		add	r3, r3, r2
 5069 00c8 03F5A063 		add	r3, r3, #1280
 5070 00cc 1A46     		mov	r2, r3
 5071 00ce 40F29D63 		movw	r3, #1693
 5072 00d2 D360     		str	r3, [r2, #12]
1622:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_STALLM |
1623:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_TXERRM |
1624:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_DTERRM |
1625:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_NAKM   |
1626:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_AHBERR |
1627:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_FRMORM;
1628:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1629:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((epnum & 0x80U) == 0x80U)
 5073              		.loc 1 1629 0
 5074 00d4 97F90230 		ldrsb	r3, [r7, #2]
 5075 00d8 002B     		cmp	r3, #0
 5076 00da 34DA     		bge	.L250
1630:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1631:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_HC((uint32_t)ch_num)->HCINTMSK |= USB_OTG_HCINTMSK_BBERRM;
 5077              		.loc 1 1631 0
 5078 00dc FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5079 00de 5A01     		lsls	r2, r3, #5
 5080 00e0 BB68     		ldr	r3, [r7, #8]
 5081 00e2 1344     		add	r3, r3, r2
 5082 00e4 03F5A063 		add	r3, r3, #1280
 5083 00e8 DB68     		ldr	r3, [r3, #12]
 5084 00ea FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 5085 00ec 5101     		lsls	r1, r2, #5
 5086 00ee BA68     		ldr	r2, [r7, #8]
 5087 00f0 0A44     		add	r2, r2, r1
 5088 00f2 02F5A062 		add	r2, r2, #1280
 5089 00f6 43F48073 		orr	r3, r3, #256
 5090 00fa D360     		str	r3, [r2, #12]
1632:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1633:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1634:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       break;
 5091              		.loc 1 1634 0
 5092 00fc 23E0     		b	.L250
 5093              	.L236:
ARM GAS  /tmp/ccjl6mF2.s 			page 118


1635:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1636:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     case EP_TYPE_ISOC:
1637:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC((uint32_t)ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |
 5094              		.loc 1 1637 0
 5095 00fe FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5096 0100 5A01     		lsls	r2, r3, #5
 5097 0102 BB68     		ldr	r3, [r7, #8]
 5098 0104 1344     		add	r3, r3, r2
 5099 0106 03F5A063 		add	r3, r3, #1280
 5100 010a 1A46     		mov	r2, r3
 5101 010c 40F22523 		movw	r3, #549
 5102 0110 D360     		str	r3, [r2, #12]
1638:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_ACKM   |
1639:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_AHBERR |
1640:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_FRMORM;
1641:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1642:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((epnum & 0x80U) == 0x80U)
 5103              		.loc 1 1642 0
 5104 0112 97F90230 		ldrsb	r3, [r7, #2]
 5105 0116 002B     		cmp	r3, #0
 5106 0118 17DA     		bge	.L251
1643:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1644:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_HC((uint32_t)ch_num)->HCINTMSK |= (USB_OTG_HCINTMSK_TXERRM | USB_OTG_HCINTMSK_BBERRM);
 5107              		.loc 1 1644 0
 5108 011a FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5109 011c 5A01     		lsls	r2, r3, #5
 5110 011e BB68     		ldr	r3, [r7, #8]
 5111 0120 1344     		add	r3, r3, r2
 5112 0122 03F5A063 		add	r3, r3, #1280
 5113 0126 DB68     		ldr	r3, [r3, #12]
 5114 0128 FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 5115 012a 5101     		lsls	r1, r2, #5
 5116 012c BA68     		ldr	r2, [r7, #8]
 5117 012e 0A44     		add	r2, r2, r1
 5118 0130 02F5A062 		add	r2, r2, #1280
 5119 0134 43F4C073 		orr	r3, r3, #384
 5120 0138 D360     		str	r3, [r2, #12]
1645:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1646:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       break;
 5121              		.loc 1 1646 0
 5122 013a 06E0     		b	.L251
 5123              	.L233:
1647:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1648:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     default:
1649:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       ret = HAL_ERROR;
 5124              		.loc 1 1649 0
 5125 013c 0123     		movs	r3, #1
 5126 013e FB75     		strb	r3, [r7, #23]
1650:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       break;
 5127              		.loc 1 1650 0
 5128 0140 04E0     		b	.L240
 5129              	.L249:
1618:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 5130              		.loc 1 1618 0
 5131 0142 00BF     		nop
 5132 0144 02E0     		b	.L240
 5133              	.L250:
ARM GAS  /tmp/ccjl6mF2.s 			page 119


1634:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 5134              		.loc 1 1634 0
 5135 0146 00BF     		nop
 5136 0148 00E0     		b	.L240
 5137              	.L251:
1646:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 5138              		.loc 1 1646 0
 5139 014a 00BF     		nop
 5140              	.L240:
1651:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1652:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1653:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable the top level host channel interrupt. */
1654:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HOST->HAINTMSK |= 1UL << (ch_num & 0xFU);
 5141              		.loc 1 1654 0
 5142 014c BB68     		ldr	r3, [r7, #8]
 5143 014e 03F58063 		add	r3, r3, #1024
 5144 0152 9A69     		ldr	r2, [r3, #24]
 5145 0154 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5146 0156 03F00F03 		and	r3, r3, #15
 5147 015a 0121     		movs	r1, #1
 5148 015c 01FA03F3 		lsl	r3, r1, r3
 5149 0160 B968     		ldr	r1, [r7, #8]
 5150 0162 01F58061 		add	r1, r1, #1024
 5151 0166 1343     		orrs	r3, r3, r2
 5152 0168 8B61     		str	r3, [r1, #24]
1655:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1656:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Make sure host channel interrupts are enabled. */
1657:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK |= USB_OTG_GINTMSK_HCIM;
 5153              		.loc 1 1657 0
 5154 016a 7B68     		ldr	r3, [r7, #4]
 5155 016c 9B69     		ldr	r3, [r3, #24]
 5156 016e 43F00072 		orr	r2, r3, #33554432
 5157 0172 7B68     		ldr	r3, [r7, #4]
 5158 0174 9A61     		str	r2, [r3, #24]
1658:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1659:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Program the HCCHAR register */
1660:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ((epnum & 0x80U) == 0x80U)
 5159              		.loc 1 1660 0
 5160 0176 97F90230 		ldrsb	r3, [r7, #2]
 5161 017a 002B     		cmp	r3, #0
 5162 017c 03DA     		bge	.L243
1661:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1662:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     HCcharEpDir = (0x1U << 15) & USB_OTG_HCCHAR_EPDIR;
 5163              		.loc 1 1662 0
 5164 017e 4FF40043 		mov	r3, #32768
 5165 0182 3B61     		str	r3, [r7, #16]
 5166 0184 01E0     		b	.L244
 5167              	.L243:
1663:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1664:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1665:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1666:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     HCcharEpDir = 0U;
 5168              		.loc 1 1666 0
 5169 0186 0023     		movs	r3, #0
 5170 0188 3B61     		str	r3, [r7, #16]
 5171              	.L244:
1667:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
ARM GAS  /tmp/ccjl6mF2.s 			page 120


1668:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1669:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (speed == HPRT0_PRTSPD_LOW_SPEED)
 5172              		.loc 1 1669 0
 5173 018a 97F82030 		ldrb	r3, [r7, #32]	@ zero_extendqisi2
 5174 018e 022B     		cmp	r3, #2
 5175 0190 03D1     		bne	.L245
1670:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1671:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     HCcharLowSpeed = (0x1U << 17) & USB_OTG_HCCHAR_LSDEV;
 5176              		.loc 1 1671 0
 5177 0192 4FF40033 		mov	r3, #131072
 5178 0196 FB60     		str	r3, [r7, #12]
 5179 0198 01E0     		b	.L246
 5180              	.L245:
1672:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1673:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1674:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1675:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     HCcharLowSpeed = 0U;
 5181              		.loc 1 1675 0
 5182 019a 0023     		movs	r3, #0
 5183 019c FB60     		str	r3, [r7, #12]
 5184              	.L246:
1676:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1677:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1678:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC((uint32_t)ch_num)->HCCHAR = (((uint32_t)dev_address << 22) & USB_OTG_HCCHAR_DAD) |
 5185              		.loc 1 1678 0
 5186 019e 7B78     		ldrb	r3, [r7, #1]	@ zero_extendqisi2
 5187 01a0 9B05     		lsls	r3, r3, #22
 5188 01a2 03F0FE52 		and	r2, r3, #532676608
1679:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 5189              		.loc 1 1679 0
 5190 01a6 BB78     		ldrb	r3, [r7, #2]	@ zero_extendqisi2
 5191 01a8 DB02     		lsls	r3, r3, #11
 5192 01aa 03F4F043 		and	r3, r3, #30720
1678:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 5193              		.loc 1 1678 0
 5194 01ae 1A43     		orrs	r2, r2, r3
1680:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       (((uint32_t)ep_type << 18) & USB_OTG_HCCHAR_EPTYP) |
 5195              		.loc 1 1680 0
 5196 01b0 97F82430 		ldrb	r3, [r7, #36]	@ zero_extendqisi2
 5197 01b4 9B04     		lsls	r3, r3, #18
 5198 01b6 03F44023 		and	r3, r3, #786432
1679:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 5199              		.loc 1 1679 0
 5200 01ba 1A43     		orrs	r2, r2, r3
1681:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       ((uint32_t)mps & USB_OTG_HCCHAR_MPSIZ) | HCcharEpDir | HCchar
 5201              		.loc 1 1681 0
 5202 01bc 3B8D     		ldrh	r3, [r7, #40]
 5203 01be C3F30A03 		ubfx	r3, r3, #0, #11
1680:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       (((uint32_t)ep_type << 18) & USB_OTG_HCCHAR_EPTYP) |
 5204              		.loc 1 1680 0
 5205 01c2 1A43     		orrs	r2, r2, r3
 5206              		.loc 1 1681 0
 5207 01c4 3B69     		ldr	r3, [r7, #16]
 5208 01c6 1A43     		orrs	r2, r2, r3
1678:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 5209              		.loc 1 1678 0
 5210 01c8 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
ARM GAS  /tmp/ccjl6mF2.s 			page 121


 5211 01ca 5901     		lsls	r1, r3, #5
 5212 01cc BB68     		ldr	r3, [r7, #8]
 5213 01ce 0B44     		add	r3, r3, r1
 5214 01d0 03F5A063 		add	r3, r3, #1280
 5215 01d4 1946     		mov	r1, r3
 5216              		.loc 1 1681 0
 5217 01d6 FB68     		ldr	r3, [r7, #12]
 5218 01d8 1343     		orrs	r3, r3, r2
1678:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 5219              		.loc 1 1678 0
 5220 01da 0B60     		str	r3, [r1]
1682:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1683:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep_type == EP_TYPE_INTR)
 5221              		.loc 1 1683 0
 5222 01dc 97F82430 		ldrb	r3, [r7, #36]	@ zero_extendqisi2
 5223 01e0 032B     		cmp	r3, #3
 5224 01e2 0FD1     		bne	.L247
1684:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1685:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC((uint32_t)ch_num)->HCCHAR |= USB_OTG_HCCHAR_ODDFRM ;
 5225              		.loc 1 1685 0
 5226 01e4 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5227 01e6 5A01     		lsls	r2, r3, #5
 5228 01e8 BB68     		ldr	r3, [r7, #8]
 5229 01ea 1344     		add	r3, r3, r2
 5230 01ec 03F5A063 		add	r3, r3, #1280
 5231 01f0 1B68     		ldr	r3, [r3]
 5232 01f2 FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 5233 01f4 5101     		lsls	r1, r2, #5
 5234 01f6 BA68     		ldr	r2, [r7, #8]
 5235 01f8 0A44     		add	r2, r2, r1
 5236 01fa 02F5A062 		add	r2, r2, #1280
 5237 01fe 43F00053 		orr	r3, r3, #536870912
 5238 0202 1360     		str	r3, [r2]
 5239              	.L247:
1686:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1687:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1688:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ret;
 5240              		.loc 1 1688 0
 5241 0204 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
1689:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5242              		.loc 1 1689 0
 5243 0206 1846     		mov	r0, r3
 5244 0208 1C37     		adds	r7, r7, #28
 5245              	.LCFI243:
 5246              		.cfi_def_cfa_offset 4
 5247 020a BD46     		mov	sp, r7
 5248              	.LCFI244:
 5249              		.cfi_def_cfa_register 13
 5250              		@ sp needed
 5251 020c 5DF8047B 		ldr	r7, [sp], #4
 5252              	.LCFI245:
 5253              		.cfi_restore 7
 5254              		.cfi_def_cfa_offset 0
 5255 0210 7047     		bx	lr
 5256              		.cfi_endproc
 5257              	.LFE170:
 5259 0212 00BF     		.section	.text.USB_HC_StartXfer,"ax",%progbits
ARM GAS  /tmp/ccjl6mF2.s 			page 122


 5260              		.align	1
 5261              		.global	USB_HC_StartXfer
 5262              		.syntax unified
 5263              		.thumb
 5264              		.thumb_func
 5265              		.fpu fpv4-sp-d16
 5267              	USB_HC_StartXfer:
 5268              	.LFB171:
1690:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1691:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1692:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Start a transfer over a host channel
1693:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1694:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  hc  pointer to host channel structure
1695:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled
1696:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1697:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used
1698:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used
1699:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
1700:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1701:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_StartXfer(USB_OTG_GlobalTypeDef *USBx, USB_OTG_HCTypeDef *hc, uint8_t dma)
1702:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5269              		.loc 1 1702 0
 5270              		.cfi_startproc
 5271              		@ args = 0, pretend = 0, frame = 40
 5272              		@ frame_needed = 1, uses_anonymous_args = 0
 5273 0000 80B5     		push	{r7, lr}
 5274              	.LCFI246:
 5275              		.cfi_def_cfa_offset 8
 5276              		.cfi_offset 7, -8
 5277              		.cfi_offset 14, -4
 5278 0002 8CB0     		sub	sp, sp, #48
 5279              	.LCFI247:
 5280              		.cfi_def_cfa_offset 56
 5281 0004 02AF     		add	r7, sp, #8
 5282              	.LCFI248:
 5283              		.cfi_def_cfa 7, 48
 5284 0006 F860     		str	r0, [r7, #12]
 5285 0008 B960     		str	r1, [r7, #8]
 5286 000a 1346     		mov	r3, r2
 5287 000c FB71     		strb	r3, [r7, #7]
1703:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5288              		.loc 1 1703 0
 5289 000e FB68     		ldr	r3, [r7, #12]
 5290 0010 3B62     		str	r3, [r7, #32]
1704:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t ch_num = (uint32_t)hc->ch_num;
 5291              		.loc 1 1704 0
 5292 0012 BB68     		ldr	r3, [r7, #8]
 5293 0014 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5294 0016 FB61     		str	r3, [r7, #28]
1705:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   static __IO uint32_t tmpreg = 0U;
1706:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint8_t  is_oddframe;
1707:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t len_words;
1708:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t num_packets;
1709:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t max_hc_pkt_count = 256U;
 5295              		.loc 1 1709 0
 5296 0018 4FF48073 		mov	r3, #256
 5297 001c 7B83     		strh	r3, [r7, #26]	@ movhi
ARM GAS  /tmp/ccjl6mF2.s 			page 123


1710:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1711:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (((USBx->CID & (0x1U << 8)) != 0U) && (hc->speed == USBH_HS_SPEED))
 5298              		.loc 1 1711 0
 5299 001e FB68     		ldr	r3, [r7, #12]
 5300 0020 DB6B     		ldr	r3, [r3, #60]
 5301 0022 03F48073 		and	r3, r3, #256
 5302 0026 002B     		cmp	r3, #0
 5303 0028 28D0     		beq	.L253
 5304              		.loc 1 1711 0 is_stmt 0 discriminator 1
 5305 002a BB68     		ldr	r3, [r7, #8]
 5306 002c 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 5307 002e 002B     		cmp	r3, #0
 5308 0030 24D1     		bne	.L253
1712:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1713:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((dma == 0U) && (hc->do_ping == 1U))
 5309              		.loc 1 1713 0 is_stmt 1
 5310 0032 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 5311 0034 002B     		cmp	r3, #0
 5312 0036 0BD1     		bne	.L254
 5313              		.loc 1 1713 0 is_stmt 0 discriminator 1
 5314 0038 BB68     		ldr	r3, [r7, #8]
 5315 003a 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
 5316 003c 012B     		cmp	r3, #1
 5317 003e 07D1     		bne	.L254
1714:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1715:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (void)USB_DoPing(USBx, hc->ch_num);
 5318              		.loc 1 1715 0 is_stmt 1
 5319 0040 BB68     		ldr	r3, [r7, #8]
 5320 0042 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5321 0044 1946     		mov	r1, r3
 5322 0046 F868     		ldr	r0, [r7, #12]
 5323 0048 FFF7FEFF 		bl	USB_DoPing
1716:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_OK;
 5324              		.loc 1 1716 0
 5325 004c 0023     		movs	r3, #0
 5326 004e 12E1     		b	.L255
 5327              	.L254:
1717:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1718:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if (dma == 1U)
 5328              		.loc 1 1718 0
 5329 0050 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 5330 0052 012B     		cmp	r3, #1
 5331 0054 12D1     		bne	.L253
1719:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1720:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(ch_num)->HCINTMSK &= ~(USB_OTG_HCINTMSK_NYET | USB_OTG_HCINTMSK_ACKM);
 5332              		.loc 1 1720 0
 5333 0056 FB69     		ldr	r3, [r7, #28]
 5334 0058 5A01     		lsls	r2, r3, #5
 5335 005a 3B6A     		ldr	r3, [r7, #32]
 5336 005c 1344     		add	r3, r3, r2
 5337 005e 03F5A063 		add	r3, r3, #1280
 5338 0062 DB68     		ldr	r3, [r3, #12]
 5339 0064 FA69     		ldr	r2, [r7, #28]
 5340 0066 5101     		lsls	r1, r2, #5
 5341 0068 3A6A     		ldr	r2, [r7, #32]
 5342 006a 0A44     		add	r2, r2, r1
 5343 006c 02F5A062 		add	r2, r2, #1280
ARM GAS  /tmp/ccjl6mF2.s 			page 124


 5344 0070 23F06003 		bic	r3, r3, #96
 5345 0074 D360     		str	r3, [r2, #12]
1721:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       hc->do_ping = 0U;
 5346              		.loc 1 1721 0
 5347 0076 BB68     		ldr	r3, [r7, #8]
 5348 0078 0022     		movs	r2, #0
 5349 007a 5A71     		strb	r2, [r3, #5]
 5350              	.L253:
1722:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1723:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
1724:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1725:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* ... */
1726:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1727:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1728:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1729:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Compute the expected number of packets associated to the transfer */
1730:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (hc->xfer_len > 0U)
 5351              		.loc 1 1730 0
 5352 007c BB68     		ldr	r3, [r7, #8]
 5353 007e 1B69     		ldr	r3, [r3, #16]
 5354 0080 002B     		cmp	r3, #0
 5355 0082 18D0     		beq	.L256
1731:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1732:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     num_packets = (uint16_t)((hc->xfer_len + hc->max_packet - 1U) / hc->max_packet);
 5356              		.loc 1 1732 0
 5357 0084 BB68     		ldr	r3, [r7, #8]
 5358 0086 1B69     		ldr	r3, [r3, #16]
 5359 0088 BA68     		ldr	r2, [r7, #8]
 5360 008a 1289     		ldrh	r2, [r2, #8]
 5361 008c 1344     		add	r3, r3, r2
 5362 008e 013B     		subs	r3, r3, #1
 5363 0090 BA68     		ldr	r2, [r7, #8]
 5364 0092 1289     		ldrh	r2, [r2, #8]
 5365 0094 B3FBF2F3 		udiv	r3, r3, r2
 5366 0098 FB84     		strh	r3, [r7, #38]	@ movhi
1733:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1734:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (num_packets > max_hc_pkt_count)
 5367              		.loc 1 1734 0
 5368 009a FA8C     		ldrh	r2, [r7, #38]
 5369 009c 7B8B     		ldrh	r3, [r7, #26]
 5370 009e 9A42     		cmp	r2, r3
 5371 00a0 0BD9     		bls	.L258
1735:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1736:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       num_packets = max_hc_pkt_count;
 5372              		.loc 1 1736 0
 5373 00a2 7B8B     		ldrh	r3, [r7, #26]	@ movhi
 5374 00a4 FB84     		strh	r3, [r7, #38]	@ movhi
1737:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       hc->xfer_len = (uint32_t)num_packets * hc->max_packet;
 5375              		.loc 1 1737 0
 5376 00a6 FB8C     		ldrh	r3, [r7, #38]
 5377 00a8 BA68     		ldr	r2, [r7, #8]
 5378 00aa 1289     		ldrh	r2, [r2, #8]
 5379 00ac 02FB03F2 		mul	r2, r2, r3
 5380 00b0 BB68     		ldr	r3, [r7, #8]
 5381 00b2 1A61     		str	r2, [r3, #16]
 5382 00b4 01E0     		b	.L258
 5383              	.L256:
ARM GAS  /tmp/ccjl6mF2.s 			page 125


1738:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1739:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1740:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1741:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1742:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     num_packets = 1U;
 5384              		.loc 1 1742 0
 5385 00b6 0123     		movs	r3, #1
 5386 00b8 FB84     		strh	r3, [r7, #38]	@ movhi
 5387              	.L258:
1743:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1744:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (hc->ep_is_in != 0U)
 5388              		.loc 1 1744 0
 5389 00ba BB68     		ldr	r3, [r7, #8]
 5390 00bc DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 5391 00be 002B     		cmp	r3, #0
 5392 00c0 06D0     		beq	.L259
1745:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1746:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     hc->xfer_len = (uint32_t)num_packets * hc->max_packet;
 5393              		.loc 1 1746 0
 5394 00c2 FB8C     		ldrh	r3, [r7, #38]
 5395 00c4 BA68     		ldr	r2, [r7, #8]
 5396 00c6 1289     		ldrh	r2, [r2, #8]
 5397 00c8 02FB03F2 		mul	r2, r2, r3
 5398 00cc BB68     		ldr	r3, [r7, #8]
 5399 00ce 1A61     		str	r2, [r3, #16]
 5400              	.L259:
1747:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1748:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1749:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Initialize the HCTSIZn register */
1750:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(ch_num)->HCTSIZ = (hc->xfer_len & USB_OTG_HCTSIZ_XFRSIZ) |
 5401              		.loc 1 1750 0
 5402 00d0 BB68     		ldr	r3, [r7, #8]
 5403 00d2 1B69     		ldr	r3, [r3, #16]
 5404 00d4 C3F31202 		ubfx	r2, r3, #0, #19
1751:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 5405              		.loc 1 1751 0
 5406 00d8 FB8C     		ldrh	r3, [r7, #38]
 5407 00da D904     		lsls	r1, r3, #19
 5408 00dc 684B     		ldr	r3, .L274
 5409 00de 0B40     		ands	r3, r3, r1
1750:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 5410              		.loc 1 1750 0
 5411 00e0 1A43     		orrs	r2, r2, r3
1752:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                             (((uint32_t)hc->data_pid << 29) & USB_OTG_HCTSIZ_DPID);
 5412              		.loc 1 1752 0
 5413 00e2 BB68     		ldr	r3, [r7, #8]
 5414 00e4 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 5415 00e6 5B07     		lsls	r3, r3, #29
 5416 00e8 03F0C043 		and	r3, r3, #1610612736
1750:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 5417              		.loc 1 1750 0
 5418 00ec F969     		ldr	r1, [r7, #28]
 5419 00ee 4801     		lsls	r0, r1, #5
 5420 00f0 396A     		ldr	r1, [r7, #32]
 5421 00f2 0144     		add	r1, r1, r0
 5422 00f4 01F5A061 		add	r1, r1, #1280
1751:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
ARM GAS  /tmp/ccjl6mF2.s 			page 126


 5423              		.loc 1 1751 0
 5424 00f8 1343     		orrs	r3, r3, r2
1750:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 5425              		.loc 1 1750 0
 5426 00fa 0B61     		str	r3, [r1, #16]
1753:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1754:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (dma != 0U)
 5427              		.loc 1 1754 0
 5428 00fc FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 5429 00fe 002B     		cmp	r3, #0
 5430 0100 09D0     		beq	.L260
1755:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1756:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* xfer_buff MUST be 32-bits aligned */
1757:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(ch_num)->HCDMA = (uint32_t)hc->xfer_buff;
 5431              		.loc 1 1757 0
 5432 0102 BB68     		ldr	r3, [r7, #8]
 5433 0104 D968     		ldr	r1, [r3, #12]
 5434 0106 FB69     		ldr	r3, [r7, #28]
 5435 0108 5A01     		lsls	r2, r3, #5
 5436 010a 3B6A     		ldr	r3, [r7, #32]
 5437 010c 1344     		add	r3, r3, r2
 5438 010e 03F5A063 		add	r3, r3, #1280
 5439 0112 0A46     		mov	r2, r1
 5440 0114 5A61     		str	r2, [r3, #20]
 5441              	.L260:
1758:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1759:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1760:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   is_oddframe = (((uint32_t)USBx_HOST->HFNUM & 0x01U) != 0U) ? 0U : 1U;
 5442              		.loc 1 1760 0
 5443 0116 3B6A     		ldr	r3, [r7, #32]
 5444 0118 03F58063 		add	r3, r3, #1024
 5445 011c 9B68     		ldr	r3, [r3, #8]
 5446 011e 03F00103 		and	r3, r3, #1
 5447 0122 002B     		cmp	r3, #0
 5448 0124 0CBF     		ite	eq
 5449 0126 0123     		moveq	r3, #1
 5450 0128 0023     		movne	r3, #0
 5451 012a DBB2     		uxtb	r3, r3
 5452 012c 7B76     		strb	r3, [r7, #25]
1761:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(ch_num)->HCCHAR &= ~USB_OTG_HCCHAR_ODDFRM;
 5453              		.loc 1 1761 0
 5454 012e FB69     		ldr	r3, [r7, #28]
 5455 0130 5A01     		lsls	r2, r3, #5
 5456 0132 3B6A     		ldr	r3, [r7, #32]
 5457 0134 1344     		add	r3, r3, r2
 5458 0136 03F5A063 		add	r3, r3, #1280
 5459 013a 1B68     		ldr	r3, [r3]
 5460 013c FA69     		ldr	r2, [r7, #28]
 5461 013e 5101     		lsls	r1, r2, #5
 5462 0140 3A6A     		ldr	r2, [r7, #32]
 5463 0142 0A44     		add	r2, r2, r1
 5464 0144 02F5A062 		add	r2, r2, #1280
 5465 0148 23F00053 		bic	r3, r3, #536870912
 5466 014c 1360     		str	r3, [r2]
1762:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(ch_num)->HCCHAR |= (uint32_t)is_oddframe << 29;
 5467              		.loc 1 1762 0
 5468 014e FB69     		ldr	r3, [r7, #28]
ARM GAS  /tmp/ccjl6mF2.s 			page 127


 5469 0150 5A01     		lsls	r2, r3, #5
 5470 0152 3B6A     		ldr	r3, [r7, #32]
 5471 0154 1344     		add	r3, r3, r2
 5472 0156 03F5A063 		add	r3, r3, #1280
 5473 015a 1A68     		ldr	r2, [r3]
 5474 015c 7B7E     		ldrb	r3, [r7, #25]	@ zero_extendqisi2
 5475 015e 5B07     		lsls	r3, r3, #29
 5476 0160 F969     		ldr	r1, [r7, #28]
 5477 0162 4801     		lsls	r0, r1, #5
 5478 0164 396A     		ldr	r1, [r7, #32]
 5479 0166 0144     		add	r1, r1, r0
 5480 0168 01F5A061 		add	r1, r1, #1280
 5481 016c 1343     		orrs	r3, r3, r2
 5482 016e 0B60     		str	r3, [r1]
1763:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1764:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Set host channel enable */
1765:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg = USBx_HC(ch_num)->HCCHAR;
 5483              		.loc 1 1765 0
 5484 0170 FB69     		ldr	r3, [r7, #28]
 5485 0172 5A01     		lsls	r2, r3, #5
 5486 0174 3B6A     		ldr	r3, [r7, #32]
 5487 0176 1344     		add	r3, r3, r2
 5488 0178 03F5A063 		add	r3, r3, #1280
 5489 017c 1B68     		ldr	r3, [r3]
 5490 017e 414A     		ldr	r2, .L274+4
 5491 0180 1360     		str	r3, [r2]
1766:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= ~USB_OTG_HCCHAR_CHDIS;
 5492              		.loc 1 1766 0
 5493 0182 404B     		ldr	r3, .L274+4
 5494 0184 1B68     		ldr	r3, [r3]
 5495 0186 23F08043 		bic	r3, r3, #1073741824
 5496 018a 3E4A     		ldr	r2, .L274+4
 5497 018c 1360     		str	r3, [r2]
1767:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1768:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* make sure to set the correct ep direction */
1769:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (hc->ep_is_in != 0U)
 5498              		.loc 1 1769 0
 5499 018e BB68     		ldr	r3, [r7, #8]
 5500 0190 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 5501 0192 002B     		cmp	r3, #0
 5502 0194 06D0     		beq	.L261
1770:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1771:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     tmpreg |= USB_OTG_HCCHAR_EPDIR;
 5503              		.loc 1 1771 0
 5504 0196 3B4B     		ldr	r3, .L274+4
 5505 0198 1B68     		ldr	r3, [r3]
 5506 019a 43F40043 		orr	r3, r3, #32768
 5507 019e 394A     		ldr	r2, .L274+4
 5508 01a0 1360     		str	r3, [r2]
 5509 01a2 05E0     		b	.L262
 5510              	.L261:
1772:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1773:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1774:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1775:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     tmpreg &= ~USB_OTG_HCCHAR_EPDIR;
 5511              		.loc 1 1775 0
 5512 01a4 374B     		ldr	r3, .L274+4
ARM GAS  /tmp/ccjl6mF2.s 			page 128


 5513 01a6 1B68     		ldr	r3, [r3]
 5514 01a8 23F40043 		bic	r3, r3, #32768
 5515 01ac 354A     		ldr	r2, .L274+4
 5516 01ae 1360     		str	r3, [r2]
 5517              	.L262:
1776:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1777:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg |= USB_OTG_HCCHAR_CHENA;
 5518              		.loc 1 1777 0
 5519 01b0 344B     		ldr	r3, .L274+4
 5520 01b2 1B68     		ldr	r3, [r3]
 5521 01b4 43F00043 		orr	r3, r3, #-2147483648
 5522 01b8 324A     		ldr	r2, .L274+4
 5523 01ba 1360     		str	r3, [r2]
1778:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(ch_num)->HCCHAR = tmpreg;
 5524              		.loc 1 1778 0
 5525 01bc FB69     		ldr	r3, [r7, #28]
 5526 01be 5A01     		lsls	r2, r3, #5
 5527 01c0 3B6A     		ldr	r3, [r7, #32]
 5528 01c2 1344     		add	r3, r3, r2
 5529 01c4 03F5A063 		add	r3, r3, #1280
 5530 01c8 1A46     		mov	r2, r3
 5531 01ca 2E4B     		ldr	r3, .L274+4
 5532 01cc 1B68     		ldr	r3, [r3]
 5533 01ce 1360     		str	r3, [r2]
1779:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1780:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (dma == 0U) /* Slave mode */
 5534              		.loc 1 1780 0
 5535 01d0 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 5536 01d2 002B     		cmp	r3, #0
 5537 01d4 4ED1     		bne	.L263
1781:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1782:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((hc->ep_is_in == 0U) && (hc->xfer_len > 0U))
 5538              		.loc 1 1782 0
 5539 01d6 BB68     		ldr	r3, [r7, #8]
 5540 01d8 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 5541 01da 002B     		cmp	r3, #0
 5542 01dc 4AD1     		bne	.L263
 5543              		.loc 1 1782 0 is_stmt 0 discriminator 1
 5544 01de BB68     		ldr	r3, [r7, #8]
 5545 01e0 1B69     		ldr	r3, [r3, #16]
 5546 01e2 002B     		cmp	r3, #0
 5547 01e4 46D0     		beq	.L263
1783:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1784:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       switch (hc->ep_type)
 5548              		.loc 1 1784 0 is_stmt 1
 5549 01e6 BB68     		ldr	r3, [r7, #8]
 5550 01e8 DB79     		ldrb	r3, [r3, #7]	@ zero_extendqisi2
 5551 01ea 032B     		cmp	r3, #3
 5552 01ec 30D8     		bhi	.L271
 5553 01ee 01A2     		adr	r2, .L266
 5554 01f0 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 5555              		.p2align 2
 5556              	.L266:
 5557 01f4 05020000 		.word	.L265+1
 5558 01f8 29020000 		.word	.L267+1
 5559 01fc 05020000 		.word	.L265+1
 5560 0200 29020000 		.word	.L267+1
ARM GAS  /tmp/ccjl6mF2.s 			page 129


 5561              		.p2align 1
 5562              	.L265:
1785:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1786:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         /* Non periodic transfer */
1787:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         case EP_TYPE_CTRL:
1788:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         case EP_TYPE_BULK:
1789:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1790:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           len_words = (uint16_t)((hc->xfer_len + 3U) / 4U);
 5563              		.loc 1 1790 0
 5564 0204 BB68     		ldr	r3, [r7, #8]
 5565 0206 1B69     		ldr	r3, [r3, #16]
 5566 0208 0333     		adds	r3, r3, #3
 5567 020a 9B08     		lsrs	r3, r3, #2
 5568 020c FB82     		strh	r3, [r7, #22]	@ movhi
1791:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1792:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           /* check if there is enough space in FIFO space */
1793:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           if (len_words > (USBx->HNPTXSTS & 0xFFFFU))
 5569              		.loc 1 1793 0
 5570 020e FA8A     		ldrh	r2, [r7, #22]
 5571 0210 FB68     		ldr	r3, [r7, #12]
 5572 0212 DB6A     		ldr	r3, [r3, #44]
 5573 0214 9BB2     		uxth	r3, r3
 5574 0216 9A42     		cmp	r2, r3
 5575 0218 1CD9     		bls	.L272
1794:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           {
1795:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****             /* need to process data in nptxfempty interrupt */
1796:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****             USBx->GINTMSK |= USB_OTG_GINTMSK_NPTXFEM;
 5576              		.loc 1 1796 0
 5577 021a FB68     		ldr	r3, [r7, #12]
 5578 021c 9B69     		ldr	r3, [r3, #24]
 5579 021e 43F02002 		orr	r2, r3, #32
 5580 0222 FB68     		ldr	r3, [r7, #12]
 5581 0224 9A61     		str	r2, [r3, #24]
1797:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           }
1798:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           break;
 5582              		.loc 1 1798 0
 5583 0226 15E0     		b	.L272
 5584              	.L267:
1799:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1800:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         /* Periodic transfer */
1801:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         case EP_TYPE_INTR:
1802:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         case EP_TYPE_ISOC:
1803:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           len_words = (uint16_t)((hc->xfer_len + 3U) / 4U);
 5585              		.loc 1 1803 0
 5586 0228 BB68     		ldr	r3, [r7, #8]
 5587 022a 1B69     		ldr	r3, [r3, #16]
 5588 022c 0333     		adds	r3, r3, #3
 5589 022e 9B08     		lsrs	r3, r3, #2
 5590 0230 FB82     		strh	r3, [r7, #22]	@ movhi
1804:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           /* check if there is enough space in FIFO space */
1805:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           if (len_words > (USBx_HOST->HPTXSTS & 0xFFFFU)) /* split the transfer */
 5591              		.loc 1 1805 0
 5592 0232 FA8A     		ldrh	r2, [r7, #22]
 5593 0234 3B6A     		ldr	r3, [r7, #32]
 5594 0236 03F58063 		add	r3, r3, #1024
 5595 023a 1B69     		ldr	r3, [r3, #16]
 5596 023c 9BB2     		uxth	r3, r3
ARM GAS  /tmp/ccjl6mF2.s 			page 130


 5597 023e 9A42     		cmp	r2, r3
 5598 0240 0AD9     		bls	.L273
1806:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           {
1807:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****             /* need to process data in ptxfempty interrupt */
1808:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****             USBx->GINTMSK |= USB_OTG_GINTMSK_PTXFEM;
 5599              		.loc 1 1808 0
 5600 0242 FB68     		ldr	r3, [r7, #12]
 5601 0244 9B69     		ldr	r3, [r3, #24]
 5602 0246 43F08062 		orr	r2, r3, #67108864
 5603 024a FB68     		ldr	r3, [r7, #12]
 5604 024c 9A61     		str	r2, [r3, #24]
1809:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           }
1810:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           break;
 5605              		.loc 1 1810 0
 5606 024e 03E0     		b	.L273
 5607              	.L271:
1811:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1812:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         default:
1813:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           break;
 5608              		.loc 1 1813 0
 5609 0250 00BF     		nop
 5610 0252 02E0     		b	.L269
 5611              	.L272:
1798:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 5612              		.loc 1 1798 0
 5613 0254 00BF     		nop
 5614 0256 00E0     		b	.L269
 5615              	.L273:
1810:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 5616              		.loc 1 1810 0
 5617 0258 00BF     		nop
 5618              	.L269:
1814:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1815:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1816:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Write packet into the Tx FIFO. */
1817:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (void)USB_WritePacket(USBx, hc->xfer_buff, hc->ch_num, (uint16_t)hc->xfer_len, 0);
 5619              		.loc 1 1817 0
 5620 025a BB68     		ldr	r3, [r7, #8]
 5621 025c D968     		ldr	r1, [r3, #12]
 5622 025e BB68     		ldr	r3, [r7, #8]
 5623 0260 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 5624 0262 BB68     		ldr	r3, [r7, #8]
 5625 0264 1B69     		ldr	r3, [r3, #16]
 5626 0266 98B2     		uxth	r0, r3
 5627 0268 0023     		movs	r3, #0
 5628 026a 0093     		str	r3, [sp]
 5629 026c 0346     		mov	r3, r0
 5630 026e F868     		ldr	r0, [r7, #12]
 5631 0270 FFF7FEFF 		bl	USB_WritePacket
 5632              	.L263:
1818:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1819:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1820:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1821:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 5633              		.loc 1 1821 0
 5634 0274 0023     		movs	r3, #0
 5635              	.L255:
ARM GAS  /tmp/ccjl6mF2.s 			page 131


1822:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5636              		.loc 1 1822 0
 5637 0276 1846     		mov	r0, r3
 5638 0278 2837     		adds	r7, r7, #40
 5639              	.LCFI249:
 5640              		.cfi_def_cfa_offset 8
 5641 027a BD46     		mov	sp, r7
 5642              	.LCFI250:
 5643              		.cfi_def_cfa_register 13
 5644              		@ sp needed
 5645 027c 80BD     		pop	{r7, pc}
 5646              	.L275:
 5647 027e 00BF     		.align	2
 5648              	.L274:
 5649 0280 0000F81F 		.word	536346624
 5650 0284 00000000 		.word	tmpreg.8683
 5651              		.cfi_endproc
 5652              	.LFE171:
 5654              		.section	.text.USB_HC_ReadInterrupt,"ax",%progbits
 5655              		.align	1
 5656              		.global	USB_HC_ReadInterrupt
 5657              		.syntax unified
 5658              		.thumb
 5659              		.thumb_func
 5660              		.fpu fpv4-sp-d16
 5662              	USB_HC_ReadInterrupt:
 5663              	.LFB172:
1823:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1824:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1825:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief Read all host channel interrupts status
1826:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1827:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
1828:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1829:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_HC_ReadInterrupt(USB_OTG_GlobalTypeDef *USBx)
1830:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5664              		.loc 1 1830 0
 5665              		.cfi_startproc
 5666              		@ args = 0, pretend = 0, frame = 16
 5667              		@ frame_needed = 1, uses_anonymous_args = 0
 5668              		@ link register save eliminated.
 5669 0000 80B4     		push	{r7}
 5670              	.LCFI251:
 5671              		.cfi_def_cfa_offset 4
 5672              		.cfi_offset 7, -4
 5673 0002 85B0     		sub	sp, sp, #20
 5674              	.LCFI252:
 5675              		.cfi_def_cfa_offset 24
 5676 0004 00AF     		add	r7, sp, #0
 5677              	.LCFI253:
 5678              		.cfi_def_cfa_register 7
 5679 0006 7860     		str	r0, [r7, #4]
1831:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5680              		.loc 1 1831 0
 5681 0008 7B68     		ldr	r3, [r7, #4]
 5682 000a FB60     		str	r3, [r7, #12]
1832:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1833:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((USBx_HOST->HAINT) & 0xFFFFU);
ARM GAS  /tmp/ccjl6mF2.s 			page 132


 5683              		.loc 1 1833 0
 5684 000c FB68     		ldr	r3, [r7, #12]
 5685 000e 03F58063 		add	r3, r3, #1024
 5686 0012 5B69     		ldr	r3, [r3, #20]
 5687 0014 9BB2     		uxth	r3, r3
1834:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5688              		.loc 1 1834 0
 5689 0016 1846     		mov	r0, r3
 5690 0018 1437     		adds	r7, r7, #20
 5691              	.LCFI254:
 5692              		.cfi_def_cfa_offset 4
 5693 001a BD46     		mov	sp, r7
 5694              	.LCFI255:
 5695              		.cfi_def_cfa_register 13
 5696              		@ sp needed
 5697 001c 5DF8047B 		ldr	r7, [sp], #4
 5698              	.LCFI256:
 5699              		.cfi_restore 7
 5700              		.cfi_def_cfa_offset 0
 5701 0020 7047     		bx	lr
 5702              		.cfi_endproc
 5703              	.LFE172:
 5705              		.section	.text.USB_HC_Halt,"ax",%progbits
 5706              		.align	1
 5707              		.global	USB_HC_Halt
 5708              		.syntax unified
 5709              		.thumb
 5710              		.thumb_func
 5711              		.fpu fpv4-sp-d16
 5713              	USB_HC_Halt:
 5714              	.LFB173:
1835:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1836:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1837:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Halt a host channel
1838:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1839:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  hc_num  Host Channel number
1840:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
1841:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
1842:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1843:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_Halt(USB_OTG_GlobalTypeDef *USBx, uint8_t hc_num)
1844:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5715              		.loc 1 1844 0
 5716              		.cfi_startproc
 5717              		@ args = 0, pretend = 0, frame = 24
 5718              		@ frame_needed = 1, uses_anonymous_args = 0
 5719              		@ link register save eliminated.
 5720 0000 80B4     		push	{r7}
 5721              	.LCFI257:
 5722              		.cfi_def_cfa_offset 4
 5723              		.cfi_offset 7, -4
 5724 0002 87B0     		sub	sp, sp, #28
 5725              	.LCFI258:
 5726              		.cfi_def_cfa_offset 32
 5727 0004 00AF     		add	r7, sp, #0
 5728              	.LCFI259:
 5729              		.cfi_def_cfa_register 7
 5730 0006 7860     		str	r0, [r7, #4]
ARM GAS  /tmp/ccjl6mF2.s 			page 133


 5731 0008 0B46     		mov	r3, r1
 5732 000a FB70     		strb	r3, [r7, #3]
1845:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5733              		.loc 1 1845 0
 5734 000c 7B68     		ldr	r3, [r7, #4]
 5735 000e 3B61     		str	r3, [r7, #16]
1846:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t hcnum = (uint32_t)hc_num;
 5736              		.loc 1 1846 0
 5737 0010 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5738 0012 FB60     		str	r3, [r7, #12]
1847:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count = 0U;
 5739              		.loc 1 1847 0
 5740 0014 0023     		movs	r3, #0
 5741 0016 7B61     		str	r3, [r7, #20]
1848:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t HcEpType = (USBx_HC(hcnum)->HCCHAR & USB_OTG_HCCHAR_EPTYP) >> 18;
 5742              		.loc 1 1848 0
 5743 0018 FB68     		ldr	r3, [r7, #12]
 5744 001a 5A01     		lsls	r2, r3, #5
 5745 001c 3B69     		ldr	r3, [r7, #16]
 5746 001e 1344     		add	r3, r3, r2
 5747 0020 03F5A063 		add	r3, r3, #1280
 5748 0024 1B68     		ldr	r3, [r3]
 5749 0026 9B0C     		lsrs	r3, r3, #18
 5750 0028 03F00303 		and	r3, r3, #3
 5751 002c BB60     		str	r3, [r7, #8]
1849:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1850:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Check for space in the request queue to issue the halt. */
1851:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ((HcEpType == HCCHAR_CTRL) || (HcEpType == HCCHAR_BULK))
 5752              		.loc 1 1851 0
 5753 002e BB68     		ldr	r3, [r7, #8]
 5754 0030 002B     		cmp	r3, #0
 5755 0032 02D0     		beq	.L279
 5756              		.loc 1 1851 0 is_stmt 0 discriminator 1
 5757 0034 BB68     		ldr	r3, [r7, #8]
 5758 0036 022B     		cmp	r3, #2
 5759 0038 6CD1     		bne	.L280
 5760              	.L279:
1852:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1853:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHDIS;
 5761              		.loc 1 1853 0 is_stmt 1
 5762 003a FB68     		ldr	r3, [r7, #12]
 5763 003c 5A01     		lsls	r2, r3, #5
 5764 003e 3B69     		ldr	r3, [r7, #16]
 5765 0040 1344     		add	r3, r3, r2
 5766 0042 03F5A063 		add	r3, r3, #1280
 5767 0046 1B68     		ldr	r3, [r3]
 5768 0048 FA68     		ldr	r2, [r7, #12]
 5769 004a 5101     		lsls	r1, r2, #5
 5770 004c 3A69     		ldr	r2, [r7, #16]
 5771 004e 0A44     		add	r2, r2, r1
 5772 0050 02F5A062 		add	r2, r2, #1280
 5773 0054 43F08043 		orr	r3, r3, #1073741824
 5774 0058 1360     		str	r3, [r2]
1854:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1855:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx->HNPTXSTS & (0xFFU << 16)) == 0U)
 5775              		.loc 1 1855 0
 5776 005a 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccjl6mF2.s 			page 134


 5777 005c DB6A     		ldr	r3, [r3, #44]
 5778 005e 03F47F03 		and	r3, r3, #16711680
 5779 0062 002B     		cmp	r3, #0
 5780 0064 43D1     		bne	.L281
1856:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1857:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR &= ~USB_OTG_HCCHAR_CHENA;
 5781              		.loc 1 1857 0
 5782 0066 FB68     		ldr	r3, [r7, #12]
 5783 0068 5A01     		lsls	r2, r3, #5
 5784 006a 3B69     		ldr	r3, [r7, #16]
 5785 006c 1344     		add	r3, r3, r2
 5786 006e 03F5A063 		add	r3, r3, #1280
 5787 0072 1B68     		ldr	r3, [r3]
 5788 0074 FA68     		ldr	r2, [r7, #12]
 5789 0076 5101     		lsls	r1, r2, #5
 5790 0078 3A69     		ldr	r2, [r7, #16]
 5791 007a 0A44     		add	r2, r2, r1
 5792 007c 02F5A062 		add	r2, r2, #1280
 5793 0080 23F00043 		bic	r3, r3, #-2147483648
 5794 0084 1360     		str	r3, [r2]
1858:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
 5795              		.loc 1 1858 0
 5796 0086 FB68     		ldr	r3, [r7, #12]
 5797 0088 5A01     		lsls	r2, r3, #5
 5798 008a 3B69     		ldr	r3, [r7, #16]
 5799 008c 1344     		add	r3, r3, r2
 5800 008e 03F5A063 		add	r3, r3, #1280
 5801 0092 1B68     		ldr	r3, [r3]
 5802 0094 FA68     		ldr	r2, [r7, #12]
 5803 0096 5101     		lsls	r1, r2, #5
 5804 0098 3A69     		ldr	r2, [r7, #16]
 5805 009a 0A44     		add	r2, r2, r1
 5806 009c 02F5A062 		add	r2, r2, #1280
 5807 00a0 43F00043 		orr	r3, r3, #-2147483648
 5808 00a4 1360     		str	r3, [r2]
1859:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR &= ~USB_OTG_HCCHAR_EPDIR;
 5809              		.loc 1 1859 0
 5810 00a6 FB68     		ldr	r3, [r7, #12]
 5811 00a8 5A01     		lsls	r2, r3, #5
 5812 00aa 3B69     		ldr	r3, [r7, #16]
 5813 00ac 1344     		add	r3, r3, r2
 5814 00ae 03F5A063 		add	r3, r3, #1280
 5815 00b2 1B68     		ldr	r3, [r3]
 5816 00b4 FA68     		ldr	r2, [r7, #12]
 5817 00b6 5101     		lsls	r1, r2, #5
 5818 00b8 3A69     		ldr	r2, [r7, #16]
 5819 00ba 0A44     		add	r2, r2, r1
 5820 00bc 02F5A062 		add	r2, r2, #1280
 5821 00c0 23F40043 		bic	r3, r3, #32768
 5822 00c4 1360     		str	r3, [r2]
 5823              	.L284:
1860:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       do
1861:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1862:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if (++count > 1000U)
 5824              		.loc 1 1862 0
 5825 00c6 7B69     		ldr	r3, [r7, #20]
 5826 00c8 0133     		adds	r3, r3, #1
ARM GAS  /tmp/ccjl6mF2.s 			page 135


 5827 00ca 7B61     		str	r3, [r7, #20]
 5828 00cc 7B69     		ldr	r3, [r7, #20]
 5829 00ce B3F57A7F 		cmp	r3, #1000
 5830 00d2 1DD8     		bhi	.L293
1863:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
1864:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           break;
1865:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
1866:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1867:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       while ((USBx_HC(hcnum)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);
 5831              		.loc 1 1867 0
 5832 00d4 FB68     		ldr	r3, [r7, #12]
 5833 00d6 5A01     		lsls	r2, r3, #5
 5834 00d8 3B69     		ldr	r3, [r7, #16]
 5835 00da 1344     		add	r3, r3, r2
 5836 00dc 03F5A063 		add	r3, r3, #1280
 5837 00e0 1B68     		ldr	r3, [r3]
 5838 00e2 03F00043 		and	r3, r3, #-2147483648
 5839 00e6 B3F1004F 		cmp	r3, #-2147483648
 5840 00ea ECD0     		beq	.L284
1855:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 5841              		.loc 1 1855 0
 5842 00ec 80E0     		b	.L286
 5843              	.L281:
1868:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1869:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
1870:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1871:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
 5844              		.loc 1 1871 0
 5845 00ee FB68     		ldr	r3, [r7, #12]
 5846 00f0 5A01     		lsls	r2, r3, #5
 5847 00f2 3B69     		ldr	r3, [r7, #16]
 5848 00f4 1344     		add	r3, r3, r2
 5849 00f6 03F5A063 		add	r3, r3, #1280
 5850 00fa 1B68     		ldr	r3, [r3]
 5851 00fc FA68     		ldr	r2, [r7, #12]
 5852 00fe 5101     		lsls	r1, r2, #5
 5853 0100 3A69     		ldr	r2, [r7, #16]
 5854 0102 0A44     		add	r2, r2, r1
 5855 0104 02F5A062 		add	r2, r2, #1280
 5856 0108 43F00043 		orr	r3, r3, #-2147483648
 5857 010c 1360     		str	r3, [r2]
1855:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 5858              		.loc 1 1855 0
 5859 010e 6FE0     		b	.L286
 5860              	.L293:
1864:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 5861              		.loc 1 1864 0
 5862 0110 00BF     		nop
1855:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 5863              		.loc 1 1855 0
 5864 0112 6DE0     		b	.L286
 5865              	.L280:
1872:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1873:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1874:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1875:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1876:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHDIS;
ARM GAS  /tmp/ccjl6mF2.s 			page 136


 5866              		.loc 1 1876 0
 5867 0114 FB68     		ldr	r3, [r7, #12]
 5868 0116 5A01     		lsls	r2, r3, #5
 5869 0118 3B69     		ldr	r3, [r7, #16]
 5870 011a 1344     		add	r3, r3, r2
 5871 011c 03F5A063 		add	r3, r3, #1280
 5872 0120 1B68     		ldr	r3, [r3]
 5873 0122 FA68     		ldr	r2, [r7, #12]
 5874 0124 5101     		lsls	r1, r2, #5
 5875 0126 3A69     		ldr	r2, [r7, #16]
 5876 0128 0A44     		add	r2, r2, r1
 5877 012a 02F5A062 		add	r2, r2, #1280
 5878 012e 43F08043 		orr	r3, r3, #1073741824
 5879 0132 1360     		str	r3, [r2]
1877:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1878:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_HOST->HPTXSTS & (0xFFU << 16)) == 0U)
 5880              		.loc 1 1878 0
 5881 0134 3B69     		ldr	r3, [r7, #16]
 5882 0136 03F58063 		add	r3, r3, #1024
 5883 013a 1B69     		ldr	r3, [r3, #16]
 5884 013c 03F47F03 		and	r3, r3, #16711680
 5885 0140 002B     		cmp	r3, #0
 5886 0142 43D1     		bne	.L287
1879:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1880:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR &= ~USB_OTG_HCCHAR_CHENA;
 5887              		.loc 1 1880 0
 5888 0144 FB68     		ldr	r3, [r7, #12]
 5889 0146 5A01     		lsls	r2, r3, #5
 5890 0148 3B69     		ldr	r3, [r7, #16]
 5891 014a 1344     		add	r3, r3, r2
 5892 014c 03F5A063 		add	r3, r3, #1280
 5893 0150 1B68     		ldr	r3, [r3]
 5894 0152 FA68     		ldr	r2, [r7, #12]
 5895 0154 5101     		lsls	r1, r2, #5
 5896 0156 3A69     		ldr	r2, [r7, #16]
 5897 0158 0A44     		add	r2, r2, r1
 5898 015a 02F5A062 		add	r2, r2, #1280
 5899 015e 23F00043 		bic	r3, r3, #-2147483648
 5900 0162 1360     		str	r3, [r2]
1881:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
 5901              		.loc 1 1881 0
 5902 0164 FB68     		ldr	r3, [r7, #12]
 5903 0166 5A01     		lsls	r2, r3, #5
 5904 0168 3B69     		ldr	r3, [r7, #16]
 5905 016a 1344     		add	r3, r3, r2
 5906 016c 03F5A063 		add	r3, r3, #1280
 5907 0170 1B68     		ldr	r3, [r3]
 5908 0172 FA68     		ldr	r2, [r7, #12]
 5909 0174 5101     		lsls	r1, r2, #5
 5910 0176 3A69     		ldr	r2, [r7, #16]
 5911 0178 0A44     		add	r2, r2, r1
 5912 017a 02F5A062 		add	r2, r2, #1280
 5913 017e 43F00043 		orr	r3, r3, #-2147483648
 5914 0182 1360     		str	r3, [r2]
1882:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR &= ~USB_OTG_HCCHAR_EPDIR;
 5915              		.loc 1 1882 0
 5916 0184 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccjl6mF2.s 			page 137


 5917 0186 5A01     		lsls	r2, r3, #5
 5918 0188 3B69     		ldr	r3, [r7, #16]
 5919 018a 1344     		add	r3, r3, r2
 5920 018c 03F5A063 		add	r3, r3, #1280
 5921 0190 1B68     		ldr	r3, [r3]
 5922 0192 FA68     		ldr	r2, [r7, #12]
 5923 0194 5101     		lsls	r1, r2, #5
 5924 0196 3A69     		ldr	r2, [r7, #16]
 5925 0198 0A44     		add	r2, r2, r1
 5926 019a 02F5A062 		add	r2, r2, #1280
 5927 019e 23F40043 		bic	r3, r3, #32768
 5928 01a2 1360     		str	r3, [r2]
 5929              	.L290:
1883:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       do
1884:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1885:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if (++count > 1000U)
 5930              		.loc 1 1885 0
 5931 01a4 7B69     		ldr	r3, [r7, #20]
 5932 01a6 0133     		adds	r3, r3, #1
 5933 01a8 7B61     		str	r3, [r7, #20]
 5934 01aa 7B69     		ldr	r3, [r7, #20]
 5935 01ac B3F57A7F 		cmp	r3, #1000
 5936 01b0 1DD8     		bhi	.L294
1886:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
1887:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           break;
1888:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
1889:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1890:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       while ((USBx_HC(hcnum)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);
 5937              		.loc 1 1890 0
 5938 01b2 FB68     		ldr	r3, [r7, #12]
 5939 01b4 5A01     		lsls	r2, r3, #5
 5940 01b6 3B69     		ldr	r3, [r7, #16]
 5941 01b8 1344     		add	r3, r3, r2
 5942 01ba 03F5A063 		add	r3, r3, #1280
 5943 01be 1B68     		ldr	r3, [r3]
 5944 01c0 03F00043 		and	r3, r3, #-2147483648
 5945 01c4 B3F1004F 		cmp	r3, #-2147483648
 5946 01c8 ECD0     		beq	.L290
 5947 01ca 11E0     		b	.L286
 5948              	.L287:
1891:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1892:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
1893:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1894:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
 5949              		.loc 1 1894 0
 5950 01cc FB68     		ldr	r3, [r7, #12]
 5951 01ce 5A01     		lsls	r2, r3, #5
 5952 01d0 3B69     		ldr	r3, [r7, #16]
 5953 01d2 1344     		add	r3, r3, r2
 5954 01d4 03F5A063 		add	r3, r3, #1280
 5955 01d8 1B68     		ldr	r3, [r3]
 5956 01da FA68     		ldr	r2, [r7, #12]
 5957 01dc 5101     		lsls	r1, r2, #5
 5958 01de 3A69     		ldr	r2, [r7, #16]
 5959 01e0 0A44     		add	r2, r2, r1
 5960 01e2 02F5A062 		add	r2, r2, #1280
 5961 01e6 43F00043 		orr	r3, r3, #-2147483648
ARM GAS  /tmp/ccjl6mF2.s 			page 138


 5962 01ea 1360     		str	r3, [r2]
 5963 01ec 00E0     		b	.L286
 5964              	.L294:
1887:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 5965              		.loc 1 1887 0
 5966 01ee 00BF     		nop
 5967              	.L286:
1895:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1896:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1897:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1898:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 5968              		.loc 1 1898 0
 5969 01f0 0023     		movs	r3, #0
1899:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5970              		.loc 1 1899 0
 5971 01f2 1846     		mov	r0, r3
 5972 01f4 1C37     		adds	r7, r7, #28
 5973              	.LCFI260:
 5974              		.cfi_def_cfa_offset 4
 5975 01f6 BD46     		mov	sp, r7
 5976              	.LCFI261:
 5977              		.cfi_def_cfa_register 13
 5978              		@ sp needed
 5979 01f8 5DF8047B 		ldr	r7, [sp], #4
 5980              	.LCFI262:
 5981              		.cfi_restore 7
 5982              		.cfi_def_cfa_offset 0
 5983 01fc 7047     		bx	lr
 5984              		.cfi_endproc
 5985              	.LFE173:
 5987              		.section	.text.USB_DoPing,"ax",%progbits
 5988              		.align	1
 5989              		.global	USB_DoPing
 5990              		.syntax unified
 5991              		.thumb
 5992              		.thumb_func
 5993              		.fpu fpv4-sp-d16
 5995              	USB_DoPing:
 5996              	.LFB174:
1900:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1901:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1902:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Initiate Do Ping protocol
1903:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1904:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  hc_num  Host Channel number
1905:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
1906:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
1907:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1908:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DoPing(USB_OTG_GlobalTypeDef *USBx, uint8_t ch_num)
1909:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5997              		.loc 1 1909 0
 5998              		.cfi_startproc
 5999              		@ args = 0, pretend = 0, frame = 24
 6000              		@ frame_needed = 1, uses_anonymous_args = 0
 6001              		@ link register save eliminated.
 6002 0000 80B4     		push	{r7}
 6003              	.LCFI263:
 6004              		.cfi_def_cfa_offset 4
ARM GAS  /tmp/ccjl6mF2.s 			page 139


 6005              		.cfi_offset 7, -4
 6006 0002 87B0     		sub	sp, sp, #28
 6007              	.LCFI264:
 6008              		.cfi_def_cfa_offset 32
 6009 0004 00AF     		add	r7, sp, #0
 6010              	.LCFI265:
 6011              		.cfi_def_cfa_register 7
 6012 0006 7860     		str	r0, [r7, #4]
 6013 0008 0B46     		mov	r3, r1
 6014 000a FB70     		strb	r3, [r7, #3]
1910:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 6015              		.loc 1 1910 0
 6016 000c 7B68     		ldr	r3, [r7, #4]
 6017 000e 7B61     		str	r3, [r7, #20]
1911:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t chnum = (uint32_t)ch_num;
 6018              		.loc 1 1911 0
 6019 0010 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 6020 0012 3B61     		str	r3, [r7, #16]
1912:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t num_packets = 1U;
 6021              		.loc 1 1912 0
 6022 0014 0123     		movs	r3, #1
 6023 0016 FB60     		str	r3, [r7, #12]
1913:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg;
1914:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1915:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(chnum)->HCTSIZ = ((num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 6024              		.loc 1 1915 0
 6025 0018 FB68     		ldr	r3, [r7, #12]
 6026 001a DA04     		lsls	r2, r3, #19
 6027 001c 154B     		ldr	r3, .L297
 6028 001e 1340     		ands	r3, r3, r2
 6029 0020 3A69     		ldr	r2, [r7, #16]
 6030 0022 5101     		lsls	r1, r2, #5
 6031 0024 7A69     		ldr	r2, [r7, #20]
 6032 0026 0A44     		add	r2, r2, r1
 6033 0028 02F5A062 		add	r2, r2, #1280
 6034 002c 43F00043 		orr	r3, r3, #-2147483648
 6035 0030 1361     		str	r3, [r2, #16]
1916:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                            USB_OTG_HCTSIZ_DOPING;
1917:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1918:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Set host channel enable */
1919:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg = USBx_HC(chnum)->HCCHAR;
 6036              		.loc 1 1919 0
 6037 0032 3B69     		ldr	r3, [r7, #16]
 6038 0034 5A01     		lsls	r2, r3, #5
 6039 0036 7B69     		ldr	r3, [r7, #20]
 6040 0038 1344     		add	r3, r3, r2
 6041 003a 03F5A063 		add	r3, r3, #1280
 6042 003e 1B68     		ldr	r3, [r3]
 6043 0040 BB60     		str	r3, [r7, #8]
1920:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= ~USB_OTG_HCCHAR_CHDIS;
 6044              		.loc 1 1920 0
 6045 0042 BB68     		ldr	r3, [r7, #8]
 6046 0044 23F08043 		bic	r3, r3, #1073741824
 6047 0048 BB60     		str	r3, [r7, #8]
1921:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg |= USB_OTG_HCCHAR_CHENA;
 6048              		.loc 1 1921 0
 6049 004a BB68     		ldr	r3, [r7, #8]
ARM GAS  /tmp/ccjl6mF2.s 			page 140


 6050 004c 43F00043 		orr	r3, r3, #-2147483648
 6051 0050 BB60     		str	r3, [r7, #8]
1922:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(chnum)->HCCHAR = tmpreg;
 6052              		.loc 1 1922 0
 6053 0052 3B69     		ldr	r3, [r7, #16]
 6054 0054 5A01     		lsls	r2, r3, #5
 6055 0056 7B69     		ldr	r3, [r7, #20]
 6056 0058 1344     		add	r3, r3, r2
 6057 005a 03F5A063 		add	r3, r3, #1280
 6058 005e 1A46     		mov	r2, r3
 6059 0060 BB68     		ldr	r3, [r7, #8]
 6060 0062 1360     		str	r3, [r2]
1923:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1924:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 6061              		.loc 1 1924 0
 6062 0064 0023     		movs	r3, #0
1925:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 6063              		.loc 1 1925 0
 6064 0066 1846     		mov	r0, r3
 6065 0068 1C37     		adds	r7, r7, #28
 6066              	.LCFI266:
 6067              		.cfi_def_cfa_offset 4
 6068 006a BD46     		mov	sp, r7
 6069              	.LCFI267:
 6070              		.cfi_def_cfa_register 13
 6071              		@ sp needed
 6072 006c 5DF8047B 		ldr	r7, [sp], #4
 6073              	.LCFI268:
 6074              		.cfi_restore 7
 6075              		.cfi_def_cfa_offset 0
 6076 0070 7047     		bx	lr
 6077              	.L298:
 6078 0072 00BF     		.align	2
 6079              	.L297:
 6080 0074 0000F81F 		.word	536346624
 6081              		.cfi_endproc
 6082              	.LFE174:
 6084              		.section	.text.USB_StopHost,"ax",%progbits
 6085              		.align	1
 6086              		.global	USB_StopHost
 6087              		.syntax unified
 6088              		.thumb
 6089              		.thumb_func
 6090              		.fpu fpv4-sp-d16
 6092              	USB_StopHost:
 6093              	.LFB175:
1926:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1927:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1928:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Stop Host Core
1929:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1930:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
1931:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1932:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_StopHost(USB_OTG_GlobalTypeDef *USBx)
1933:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 6094              		.loc 1 1933 0
 6095              		.cfi_startproc
 6096              		@ args = 0, pretend = 0, frame = 24
ARM GAS  /tmp/ccjl6mF2.s 			page 141


 6097              		@ frame_needed = 1, uses_anonymous_args = 0
 6098 0000 80B5     		push	{r7, lr}
 6099              	.LCFI269:
 6100              		.cfi_def_cfa_offset 8
 6101              		.cfi_offset 7, -8
 6102              		.cfi_offset 14, -4
 6103 0002 86B0     		sub	sp, sp, #24
 6104              	.LCFI270:
 6105              		.cfi_def_cfa_offset 32
 6106 0004 00AF     		add	r7, sp, #0
 6107              	.LCFI271:
 6108              		.cfi_def_cfa_register 7
 6109 0006 7860     		str	r0, [r7, #4]
1934:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 6110              		.loc 1 1934 0
 6111 0008 7B68     		ldr	r3, [r7, #4]
 6112 000a FB60     		str	r3, [r7, #12]
1935:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count = 0U;
 6113              		.loc 1 1935 0
 6114 000c 0023     		movs	r3, #0
 6115 000e 7B61     		str	r3, [r7, #20]
1936:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t value;
1937:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i;
1938:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1939:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1940:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   (void)USB_DisableGlobalInt(USBx);
 6116              		.loc 1 1940 0
 6117 0010 7868     		ldr	r0, [r7, #4]
 6118 0012 FFF7FEFF 		bl	USB_DisableGlobalInt
1941:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1942:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Flush FIFO */
1943:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   (void)USB_FlushTxFifo(USBx, 0x10U);
 6119              		.loc 1 1943 0
 6120 0016 1021     		movs	r1, #16
 6121 0018 7868     		ldr	r0, [r7, #4]
 6122 001a FFF7FEFF 		bl	USB_FlushTxFifo
1944:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   (void)USB_FlushRxFifo(USBx);
 6123              		.loc 1 1944 0
 6124 001e 7868     		ldr	r0, [r7, #4]
 6125 0020 FFF7FEFF 		bl	USB_FlushRxFifo
1945:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1946:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Flush out any leftover queued requests. */
1947:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i <= 15U; i++)
 6126              		.loc 1 1947 0
 6127 0024 0023     		movs	r3, #0
 6128 0026 3B61     		str	r3, [r7, #16]
 6129 0028 1FE0     		b	.L300
 6130              	.L301:
1948:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1949:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value = USBx_HC(i)->HCCHAR;
 6131              		.loc 1 1949 0 discriminator 3
 6132 002a 3B69     		ldr	r3, [r7, #16]
 6133 002c 5A01     		lsls	r2, r3, #5
 6134 002e FB68     		ldr	r3, [r7, #12]
 6135 0030 1344     		add	r3, r3, r2
 6136 0032 03F5A063 		add	r3, r3, #1280
 6137 0036 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/ccjl6mF2.s 			page 142


 6138 0038 BB60     		str	r3, [r7, #8]
1950:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value |=  USB_OTG_HCCHAR_CHDIS;
 6139              		.loc 1 1950 0 discriminator 3
 6140 003a BB68     		ldr	r3, [r7, #8]
 6141 003c 43F08043 		orr	r3, r3, #1073741824
 6142 0040 BB60     		str	r3, [r7, #8]
1951:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_CHENA;
 6143              		.loc 1 1951 0 discriminator 3
 6144 0042 BB68     		ldr	r3, [r7, #8]
 6145 0044 23F00043 		bic	r3, r3, #-2147483648
 6146 0048 BB60     		str	r3, [r7, #8]
1952:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_EPDIR;
 6147              		.loc 1 1952 0 discriminator 3
 6148 004a BB68     		ldr	r3, [r7, #8]
 6149 004c 23F40043 		bic	r3, r3, #32768
 6150 0050 BB60     		str	r3, [r7, #8]
1953:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(i)->HCCHAR = value;
 6151              		.loc 1 1953 0 discriminator 3
 6152 0052 3B69     		ldr	r3, [r7, #16]
 6153 0054 5A01     		lsls	r2, r3, #5
 6154 0056 FB68     		ldr	r3, [r7, #12]
 6155 0058 1344     		add	r3, r3, r2
 6156 005a 03F5A063 		add	r3, r3, #1280
 6157 005e 1A46     		mov	r2, r3
 6158 0060 BB68     		ldr	r3, [r7, #8]
 6159 0062 1360     		str	r3, [r2]
1947:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 6160              		.loc 1 1947 0 discriminator 3
 6161 0064 3B69     		ldr	r3, [r7, #16]
 6162 0066 0133     		adds	r3, r3, #1
 6163 0068 3B61     		str	r3, [r7, #16]
 6164              	.L300:
1947:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 6165              		.loc 1 1947 0 is_stmt 0 discriminator 1
 6166 006a 3B69     		ldr	r3, [r7, #16]
 6167 006c 0F2B     		cmp	r3, #15
 6168 006e DCD9     		bls	.L301
1954:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1955:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1956:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Halt all channels to put them into a known state. */
1957:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i <= 15U; i++)
 6169              		.loc 1 1957 0 is_stmt 1
 6170 0070 0023     		movs	r3, #0
 6171 0072 3B61     		str	r3, [r7, #16]
 6172 0074 34E0     		b	.L302
 6173              	.L306:
1958:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1959:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value = USBx_HC(i)->HCCHAR;
 6174              		.loc 1 1959 0
 6175 0076 3B69     		ldr	r3, [r7, #16]
 6176 0078 5A01     		lsls	r2, r3, #5
 6177 007a FB68     		ldr	r3, [r7, #12]
 6178 007c 1344     		add	r3, r3, r2
 6179 007e 03F5A063 		add	r3, r3, #1280
 6180 0082 1B68     		ldr	r3, [r3]
 6181 0084 BB60     		str	r3, [r7, #8]
1960:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value |= USB_OTG_HCCHAR_CHDIS;
ARM GAS  /tmp/ccjl6mF2.s 			page 143


 6182              		.loc 1 1960 0
 6183 0086 BB68     		ldr	r3, [r7, #8]
 6184 0088 43F08043 		orr	r3, r3, #1073741824
 6185 008c BB60     		str	r3, [r7, #8]
1961:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value |= USB_OTG_HCCHAR_CHENA;
 6186              		.loc 1 1961 0
 6187 008e BB68     		ldr	r3, [r7, #8]
 6188 0090 43F00043 		orr	r3, r3, #-2147483648
 6189 0094 BB60     		str	r3, [r7, #8]
1962:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_EPDIR;
 6190              		.loc 1 1962 0
 6191 0096 BB68     		ldr	r3, [r7, #8]
 6192 0098 23F40043 		bic	r3, r3, #32768
 6193 009c BB60     		str	r3, [r7, #8]
1963:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(i)->HCCHAR = value;
 6194              		.loc 1 1963 0
 6195 009e 3B69     		ldr	r3, [r7, #16]
 6196 00a0 5A01     		lsls	r2, r3, #5
 6197 00a2 FB68     		ldr	r3, [r7, #12]
 6198 00a4 1344     		add	r3, r3, r2
 6199 00a6 03F5A063 		add	r3, r3, #1280
 6200 00aa 1A46     		mov	r2, r3
 6201 00ac BB68     		ldr	r3, [r7, #8]
 6202 00ae 1360     		str	r3, [r2]
 6203              	.L305:
1964:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1965:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     do
1966:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1967:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (++count > 1000U)
 6204              		.loc 1 1967 0
 6205 00b0 7B69     		ldr	r3, [r7, #20]
 6206 00b2 0133     		adds	r3, r3, #1
 6207 00b4 7B61     		str	r3, [r7, #20]
 6208 00b6 7B69     		ldr	r3, [r7, #20]
 6209 00b8 B3F57A7F 		cmp	r3, #1000
 6210 00bc 0CD8     		bhi	.L308
1968:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1969:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         break;
1970:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1971:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1972:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     while ((USBx_HC(i)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);
 6211              		.loc 1 1972 0
 6212 00be 3B69     		ldr	r3, [r7, #16]
 6213 00c0 5A01     		lsls	r2, r3, #5
 6214 00c2 FB68     		ldr	r3, [r7, #12]
 6215 00c4 1344     		add	r3, r3, r2
 6216 00c6 03F5A063 		add	r3, r3, #1280
 6217 00ca 1B68     		ldr	r3, [r3]
 6218 00cc 03F00043 		and	r3, r3, #-2147483648
 6219 00d0 B3F1004F 		cmp	r3, #-2147483648
 6220 00d4 ECD0     		beq	.L305
 6221 00d6 00E0     		b	.L304
 6222              	.L308:
1969:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 6223              		.loc 1 1969 0
 6224 00d8 00BF     		nop
 6225              	.L304:
ARM GAS  /tmp/ccjl6mF2.s 			page 144


1957:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 6226              		.loc 1 1957 0 discriminator 2
 6227 00da 3B69     		ldr	r3, [r7, #16]
 6228 00dc 0133     		adds	r3, r3, #1
 6229 00de 3B61     		str	r3, [r7, #16]
 6230              	.L302:
1957:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 6231              		.loc 1 1957 0 is_stmt 0 discriminator 1
 6232 00e0 3B69     		ldr	r3, [r7, #16]
 6233 00e2 0F2B     		cmp	r3, #15
 6234 00e4 C7D9     		bls	.L306
1973:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1974:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1975:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear any pending Host interrupts */
1976:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HOST->HAINT = 0xFFFFFFFFU;
 6235              		.loc 1 1976 0 is_stmt 1
 6236 00e6 FB68     		ldr	r3, [r7, #12]
 6237 00e8 03F58063 		add	r3, r3, #1024
 6238 00ec 1A46     		mov	r2, r3
 6239 00ee 4FF0FF33 		mov	r3, #-1
 6240 00f2 5361     		str	r3, [r2, #20]
1977:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTSTS = 0xFFFFFFFFU;
 6241              		.loc 1 1977 0
 6242 00f4 7B68     		ldr	r3, [r7, #4]
 6243 00f6 4FF0FF32 		mov	r2, #-1
 6244 00fa 5A61     		str	r2, [r3, #20]
1978:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   (void)USB_EnableGlobalInt(USBx);
 6245              		.loc 1 1978 0
 6246 00fc 7868     		ldr	r0, [r7, #4]
 6247 00fe FFF7FEFF 		bl	USB_EnableGlobalInt
1979:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1980:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 6248              		.loc 1 1980 0
 6249 0102 0023     		movs	r3, #0
1981:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 6250              		.loc 1 1981 0
 6251 0104 1846     		mov	r0, r3
 6252 0106 1837     		adds	r7, r7, #24
 6253              	.LCFI272:
 6254              		.cfi_def_cfa_offset 8
 6255 0108 BD46     		mov	sp, r7
 6256              	.LCFI273:
 6257              		.cfi_def_cfa_register 13
 6258              		@ sp needed
 6259 010a 80BD     		pop	{r7, pc}
 6260              		.cfi_endproc
 6261              	.LFE175:
 6263              		.section	.text.USB_ActivateRemoteWakeup,"ax",%progbits
 6264              		.align	1
 6265              		.global	USB_ActivateRemoteWakeup
 6266              		.syntax unified
 6267              		.thumb
 6268              		.thumb_func
 6269              		.fpu fpv4-sp-d16
 6271              	USB_ActivateRemoteWakeup:
 6272              	.LFB176:
1982:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
ARM GAS  /tmp/ccjl6mF2.s 			page 145


1983:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1984:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ActivateRemoteWakeup active remote wakeup signalling
1985:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx Selected device
1986:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1987:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1988:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateRemoteWakeup(USB_OTG_GlobalTypeDef *USBx)
1989:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 6273              		.loc 1 1989 0
 6274              		.cfi_startproc
 6275              		@ args = 0, pretend = 0, frame = 16
 6276              		@ frame_needed = 1, uses_anonymous_args = 0
 6277              		@ link register save eliminated.
 6278 0000 80B4     		push	{r7}
 6279              	.LCFI274:
 6280              		.cfi_def_cfa_offset 4
 6281              		.cfi_offset 7, -4
 6282 0002 85B0     		sub	sp, sp, #20
 6283              	.LCFI275:
 6284              		.cfi_def_cfa_offset 24
 6285 0004 00AF     		add	r7, sp, #0
 6286              	.LCFI276:
 6287              		.cfi_def_cfa_register 7
 6288 0006 7860     		str	r0, [r7, #4]
1990:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 6289              		.loc 1 1990 0
 6290 0008 7B68     		ldr	r3, [r7, #4]
 6291 000a FB60     		str	r3, [r7, #12]
1991:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1992:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ((USBx_DEVICE->DSTS & USB_OTG_DSTS_SUSPSTS) == USB_OTG_DSTS_SUSPSTS)
 6292              		.loc 1 1992 0
 6293 000c FB68     		ldr	r3, [r7, #12]
 6294 000e 03F50063 		add	r3, r3, #2048
 6295 0012 9B68     		ldr	r3, [r3, #8]
 6296 0014 03F00103 		and	r3, r3, #1
 6297 0018 012B     		cmp	r3, #1
 6298 001a 09D1     		bne	.L310
1993:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1994:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* active Remote wakeup signalling */
1995:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DCTL |= USB_OTG_DCTL_RWUSIG;
 6299              		.loc 1 1995 0
 6300 001c FB68     		ldr	r3, [r7, #12]
 6301 001e 03F50063 		add	r3, r3, #2048
 6302 0022 5B68     		ldr	r3, [r3, #4]
 6303 0024 FA68     		ldr	r2, [r7, #12]
 6304 0026 02F50062 		add	r2, r2, #2048
 6305 002a 43F00103 		orr	r3, r3, #1
 6306 002e 5360     		str	r3, [r2, #4]
 6307              	.L310:
1996:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1997:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1998:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 6308              		.loc 1 1998 0
 6309 0030 0023     		movs	r3, #0
1999:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 6310              		.loc 1 1999 0
 6311 0032 1846     		mov	r0, r3
 6312 0034 1437     		adds	r7, r7, #20
ARM GAS  /tmp/ccjl6mF2.s 			page 146


 6313              	.LCFI277:
 6314              		.cfi_def_cfa_offset 4
 6315 0036 BD46     		mov	sp, r7
 6316              	.LCFI278:
 6317              		.cfi_def_cfa_register 13
 6318              		@ sp needed
 6319 0038 5DF8047B 		ldr	r7, [sp], #4
 6320              	.LCFI279:
 6321              		.cfi_restore 7
 6322              		.cfi_def_cfa_offset 0
 6323 003c 7047     		bx	lr
 6324              		.cfi_endproc
 6325              	.LFE176:
 6327              		.section	.text.USB_DeActivateRemoteWakeup,"ax",%progbits
 6328              		.align	1
 6329              		.global	USB_DeActivateRemoteWakeup
 6330              		.syntax unified
 6331              		.thumb
 6332              		.thumb_func
 6333              		.fpu fpv4-sp-d16
 6335              	USB_DeActivateRemoteWakeup:
 6336              	.LFB177:
2000:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2001:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
2002:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DeActivateRemoteWakeup de-active remote wakeup signalling
2003:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx Selected device
2004:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
2005:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
2006:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DeActivateRemoteWakeup(USB_OTG_GlobalTypeDef *USBx)
2007:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 6337              		.loc 1 2007 0
 6338              		.cfi_startproc
 6339              		@ args = 0, pretend = 0, frame = 16
 6340              		@ frame_needed = 1, uses_anonymous_args = 0
 6341              		@ link register save eliminated.
 6342 0000 80B4     		push	{r7}
 6343              	.LCFI280:
 6344              		.cfi_def_cfa_offset 4
 6345              		.cfi_offset 7, -4
 6346 0002 85B0     		sub	sp, sp, #20
 6347              	.LCFI281:
 6348              		.cfi_def_cfa_offset 24
 6349 0004 00AF     		add	r7, sp, #0
 6350              	.LCFI282:
 6351              		.cfi_def_cfa_register 7
 6352 0006 7860     		str	r0, [r7, #4]
2008:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 6353              		.loc 1 2008 0
 6354 0008 7B68     		ldr	r3, [r7, #4]
 6355 000a FB60     		str	r3, [r7, #12]
2009:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2010:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* active Remote wakeup signalling */
2011:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCTL &= ~(USB_OTG_DCTL_RWUSIG);
 6356              		.loc 1 2011 0
 6357 000c FB68     		ldr	r3, [r7, #12]
 6358 000e 03F50063 		add	r3, r3, #2048
 6359 0012 5B68     		ldr	r3, [r3, #4]
ARM GAS  /tmp/ccjl6mF2.s 			page 147


 6360 0014 FA68     		ldr	r2, [r7, #12]
 6361 0016 02F50062 		add	r2, r2, #2048
 6362 001a 23F00103 		bic	r3, r3, #1
 6363 001e 5360     		str	r3, [r2, #4]
2012:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2013:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 6364              		.loc 1 2013 0
 6365 0020 0023     		movs	r3, #0
2014:Firmware/Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 6366              		.loc 1 2014 0
 6367 0022 1846     		mov	r0, r3
 6368 0024 1437     		adds	r7, r7, #20
 6369              	.LCFI283:
 6370              		.cfi_def_cfa_offset 4
 6371 0026 BD46     		mov	sp, r7
 6372              	.LCFI284:
 6373              		.cfi_def_cfa_register 13
 6374              		@ sp needed
 6375 0028 5DF8047B 		ldr	r7, [sp], #4
 6376              	.LCFI285:
 6377              		.cfi_restore 7
 6378              		.cfi_def_cfa_offset 0
 6379 002c 7047     		bx	lr
 6380              		.cfi_endproc
 6381              	.LFE177:
 6383              		.section	.bss.tmpreg.8683,"aw",%nobits
 6384              		.align	2
 6387              	tmpreg.8683:
 6388 0000 00000000 		.space	4
 6389              		.text
 6390              	.Letext0:
 6391              		.file 2 "/home/zht/stm32tools/arm-gcc/arm-none-eabi/include/machine/_default_types.h"
 6392              		.file 3 "/home/zht/stm32tools/arm-gcc/arm-none-eabi/include/sys/_stdint.h"
 6393              		.file 4 "Firmware/Drivers/CMSIS/Include/cmsis_gcc.h"
 6394              		.file 5 "Firmware/Drivers/CMSIS/Include/core_cm4.h"
 6395              		.file 6 "Firmware/Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 6396              		.file 7 "Firmware/Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f446xx.h"
 6397              		.file 8 "Firmware/Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 6398              		.file 9 "Firmware/Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_ll_usb.h"
 6399              		.file 10 "Firmware/Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
ARM GAS  /tmp/ccjl6mF2.s 			page 148


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stm32f4xx_ll_usb.c
     /tmp/ccjl6mF2.s:18     .text.USB_CoreInit:0000000000000000 $t
     /tmp/ccjl6mF2.s:25     .text.USB_CoreInit:0000000000000000 USB_CoreInit
     /tmp/ccjl6mF2.s:4266   .text.USB_CoreReset:0000000000000000 USB_CoreReset
     /tmp/ccjl6mF2.s:161    .text.USB_SetTurnaroundTime:0000000000000000 $t
     /tmp/ccjl6mF2.s:168    .text.USB_SetTurnaroundTime:0000000000000000 USB_SetTurnaroundTime
     /tmp/ccjl6mF2.s:380    .text.USB_SetTurnaroundTime:000000000000011c $d
     /tmp/ccjl6mF2.s:394    .text.USB_EnableGlobalInt:0000000000000000 $t
     /tmp/ccjl6mF2.s:401    .text.USB_EnableGlobalInt:0000000000000000 USB_EnableGlobalInt
     /tmp/ccjl6mF2.s:445    .text.USB_DisableGlobalInt:0000000000000000 $t
     /tmp/ccjl6mF2.s:452    .text.USB_DisableGlobalInt:0000000000000000 USB_DisableGlobalInt
     /tmp/ccjl6mF2.s:496    .text.USB_SetCurrentMode:0000000000000000 $t
     /tmp/ccjl6mF2.s:503    .text.USB_SetCurrentMode:0000000000000000 USB_SetCurrentMode
     /tmp/ccjl6mF2.s:577    .text.USB_DevInit:0000000000000000 $t
     /tmp/ccjl6mF2.s:584    .text.USB_DevInit:0000000000000000 USB_DevInit
     /tmp/ccjl6mF2.s:1171   .text.USB_SetDevSpeed:0000000000000000 USB_SetDevSpeed
     /tmp/ccjl6mF2.s:1016   .text.USB_FlushTxFifo:0000000000000000 USB_FlushTxFifo
     /tmp/ccjl6mF2.s:1095   .text.USB_FlushRxFifo:0000000000000000 USB_FlushRxFifo
     /tmp/ccjl6mF2.s:1003   .text.USB_DevInit:00000000000002d0 $d
     /tmp/ccjl6mF2.s:1009   .text.USB_FlushTxFifo:0000000000000000 $t
     /tmp/ccjl6mF2.s:1083   .text.USB_FlushTxFifo:0000000000000048 $d
     /tmp/ccjl6mF2.s:1088   .text.USB_FlushRxFifo:0000000000000000 $t
     /tmp/ccjl6mF2.s:1159   .text.USB_FlushRxFifo:0000000000000040 $d
     /tmp/ccjl6mF2.s:1164   .text.USB_SetDevSpeed:0000000000000000 $t
     /tmp/ccjl6mF2.s:1223   .text.USB_GetDevSpeed:0000000000000000 $t
     /tmp/ccjl6mF2.s:1230   .text.USB_GetDevSpeed:0000000000000000 USB_GetDevSpeed
     /tmp/ccjl6mF2.s:1304   .text.USB_ActivateEndpoint:0000000000000000 $t
     /tmp/ccjl6mF2.s:1311   .text.USB_ActivateEndpoint:0000000000000000 USB_ActivateEndpoint
     /tmp/ccjl6mF2.s:1468   .text.USB_ActivateDedicatedEndpoint:0000000000000000 $t
     /tmp/ccjl6mF2.s:1475   .text.USB_ActivateDedicatedEndpoint:0000000000000000 USB_ActivateDedicatedEndpoint
     /tmp/ccjl6mF2.s:1638   .text.USB_DeactivateEndpoint:0000000000000000 $t
     /tmp/ccjl6mF2.s:1645   .text.USB_DeactivateEndpoint:0000000000000000 USB_DeactivateEndpoint
     /tmp/ccjl6mF2.s:1790   .text.USB_DeactivateEndpoint:0000000000000100 $d
     /tmp/ccjl6mF2.s:1796   .text.USB_DeactivateDedicatedEndpoint:0000000000000000 $t
     /tmp/ccjl6mF2.s:1803   .text.USB_DeactivateDedicatedEndpoint:0000000000000000 USB_DeactivateDedicatedEndpoint
     /tmp/ccjl6mF2.s:1915   .text.USB_EPStartXfer:0000000000000000 $t
     /tmp/ccjl6mF2.s:1922   .text.USB_EPStartXfer:0000000000000000 USB_EPStartXfer
     /tmp/ccjl6mF2.s:2873   .text.USB_WritePacket:0000000000000000 USB_WritePacket
     /tmp/ccjl6mF2.s:2354   .text.USB_EPStartXfer:0000000000000370 $d
     /tmp/ccjl6mF2.s:2357   .text.USB_EPStartXfer:0000000000000374 $t
     /tmp/ccjl6mF2.s:2498   .text.USB_EPStartXfer:0000000000000484 $d
     /tmp/ccjl6mF2.s:2503   .text.USB_EP0StartXfer:0000000000000000 $t
     /tmp/ccjl6mF2.s:2510   .text.USB_EP0StartXfer:0000000000000000 USB_EP0StartXfer
     /tmp/ccjl6mF2.s:2866   .text.USB_WritePacket:0000000000000000 $t
     /tmp/ccjl6mF2.s:2963   .text.USB_ReadPacket:0000000000000000 $t
     /tmp/ccjl6mF2.s:2970   .text.USB_ReadPacket:0000000000000000 USB_ReadPacket
     /tmp/ccjl6mF2.s:3047   .text.USB_EPSetStall:0000000000000000 $t
     /tmp/ccjl6mF2.s:3054   .text.USB_EPSetStall:0000000000000000 USB_EPSetStall
     /tmp/ccjl6mF2.s:3192   .text.USB_EPClearStall:0000000000000000 $t
     /tmp/ccjl6mF2.s:3199   .text.USB_EPClearStall:0000000000000000 USB_EPClearStall
     /tmp/ccjl6mF2.s:3331   .text.USB_StopDevice:0000000000000000 $t
     /tmp/ccjl6mF2.s:3338   .text.USB_StopDevice:0000000000000000 USB_StopDevice
     /tmp/ccjl6mF2.s:3453   .text.USB_SetDevAddress:0000000000000000 $t
     /tmp/ccjl6mF2.s:3460   .text.USB_SetDevAddress:0000000000000000 USB_SetDevAddress
     /tmp/ccjl6mF2.s:3522   .text.USB_DevConnect:0000000000000000 $t
     /tmp/ccjl6mF2.s:3529   .text.USB_DevConnect:0000000000000000 USB_DevConnect
ARM GAS  /tmp/ccjl6mF2.s 			page 149


     /tmp/ccjl6mF2.s:3577   .text.USB_DevDisconnect:0000000000000000 $t
     /tmp/ccjl6mF2.s:3584   .text.USB_DevDisconnect:0000000000000000 USB_DevDisconnect
     /tmp/ccjl6mF2.s:3632   .text.USB_ReadInterrupts:0000000000000000 $t
     /tmp/ccjl6mF2.s:3639   .text.USB_ReadInterrupts:0000000000000000 USB_ReadInterrupts
     /tmp/ccjl6mF2.s:3687   .text.USB_ReadDevAllOutEpInterrupt:0000000000000000 $t
     /tmp/ccjl6mF2.s:3694   .text.USB_ReadDevAllOutEpInterrupt:0000000000000000 USB_ReadDevAllOutEpInterrupt
     /tmp/ccjl6mF2.s:3748   .text.USB_ReadDevAllInEpInterrupt:0000000000000000 $t
     /tmp/ccjl6mF2.s:3755   .text.USB_ReadDevAllInEpInterrupt:0000000000000000 USB_ReadDevAllInEpInterrupt
     /tmp/ccjl6mF2.s:3809   .text.USB_ReadDevOutEPInterrupt:0000000000000000 $t
     /tmp/ccjl6mF2.s:3816   .text.USB_ReadDevOutEPInterrupt:0000000000000000 USB_ReadDevOutEPInterrupt
     /tmp/ccjl6mF2.s:3874   .text.USB_ReadDevInEPInterrupt:0000000000000000 $t
     /tmp/ccjl6mF2.s:3881   .text.USB_ReadDevInEPInterrupt:0000000000000000 USB_ReadDevInEPInterrupt
     /tmp/ccjl6mF2.s:3954   .text.USB_ClearInterrupts:0000000000000000 $t
     /tmp/ccjl6mF2.s:3961   .text.USB_ClearInterrupts:0000000000000000 USB_ClearInterrupts
     /tmp/ccjl6mF2.s:4005   .text.USB_GetMode:0000000000000000 $t
     /tmp/ccjl6mF2.s:4012   .text.USB_GetMode:0000000000000000 USB_GetMode
     /tmp/ccjl6mF2.s:4052   .text.USB_ActivateSetup:0000000000000000 $t
     /tmp/ccjl6mF2.s:4059   .text.USB_ActivateSetup:0000000000000000 USB_ActivateSetup
     /tmp/ccjl6mF2.s:4133   .text.USB_EP0_OutStart:0000000000000000 $t
     /tmp/ccjl6mF2.s:4140   .text.USB_EP0_OutStart:0000000000000000 USB_EP0_OutStart
     /tmp/ccjl6mF2.s:4255   .text.USB_EP0_OutStart:00000000000000b8 $d
     /tmp/ccjl6mF2.s:4260   .text.USB_CoreReset:0000000000000000 $t
     /tmp/ccjl6mF2.s:4353   .text.USB_CoreReset:0000000000000064 $d
     /tmp/ccjl6mF2.s:4358   .text.USB_HostInit:0000000000000000 $t
     /tmp/ccjl6mF2.s:4365   .text.USB_HostInit:0000000000000000 USB_HostInit
     /tmp/ccjl6mF2.s:4752   .text.USB_DriveVbus:0000000000000000 USB_DriveVbus
     /tmp/ccjl6mF2.s:4571   .text.USB_HostInit:000000000000014c $d
     /tmp/ccjl6mF2.s:4580   .text.USB_InitFSLSPClkSel:0000000000000000 $t
     /tmp/ccjl6mF2.s:4587   .text.USB_InitFSLSPClkSel:0000000000000000 USB_InitFSLSPClkSel
     /tmp/ccjl6mF2.s:4671   .text.USB_ResetPort:0000000000000000 $t
     /tmp/ccjl6mF2.s:4678   .text.USB_ResetPort:0000000000000000 USB_ResetPort
     /tmp/ccjl6mF2.s:4745   .text.USB_DriveVbus:0000000000000000 $t
     /tmp/ccjl6mF2.s:4839   .text.USB_GetHostSpeed:0000000000000000 $t
     /tmp/ccjl6mF2.s:4846   .text.USB_GetHostSpeed:0000000000000000 USB_GetHostSpeed
     /tmp/ccjl6mF2.s:4897   .text.USB_GetCurrentFrame:0000000000000000 $t
     /tmp/ccjl6mF2.s:4904   .text.USB_GetCurrentFrame:0000000000000000 USB_GetCurrentFrame
     /tmp/ccjl6mF2.s:4948   .text.USB_HC_Init:0000000000000000 $t
     /tmp/ccjl6mF2.s:4955   .text.USB_HC_Init:0000000000000000 USB_HC_Init
     /tmp/ccjl6mF2.s:5005   .text.USB_HC_Init:0000000000000044 $d
     /tmp/ccjl6mF2.s:5009   .text.USB_HC_Init:0000000000000054 $t
     /tmp/ccjl6mF2.s:5260   .text.USB_HC_StartXfer:0000000000000000 $t
     /tmp/ccjl6mF2.s:5267   .text.USB_HC_StartXfer:0000000000000000 USB_HC_StartXfer
     /tmp/ccjl6mF2.s:5995   .text.USB_DoPing:0000000000000000 USB_DoPing
     /tmp/ccjl6mF2.s:5557   .text.USB_HC_StartXfer:00000000000001f4 $d
     /tmp/ccjl6mF2.s:5561   .text.USB_HC_StartXfer:0000000000000204 $t
     /tmp/ccjl6mF2.s:5649   .text.USB_HC_StartXfer:0000000000000280 $d
     /tmp/ccjl6mF2.s:6387   .bss.tmpreg.8683:0000000000000000 tmpreg.8683
     /tmp/ccjl6mF2.s:5655   .text.USB_HC_ReadInterrupt:0000000000000000 $t
     /tmp/ccjl6mF2.s:5662   .text.USB_HC_ReadInterrupt:0000000000000000 USB_HC_ReadInterrupt
     /tmp/ccjl6mF2.s:5706   .text.USB_HC_Halt:0000000000000000 $t
     /tmp/ccjl6mF2.s:5713   .text.USB_HC_Halt:0000000000000000 USB_HC_Halt
     /tmp/ccjl6mF2.s:5988   .text.USB_DoPing:0000000000000000 $t
     /tmp/ccjl6mF2.s:6080   .text.USB_DoPing:0000000000000074 $d
     /tmp/ccjl6mF2.s:6085   .text.USB_StopHost:0000000000000000 $t
     /tmp/ccjl6mF2.s:6092   .text.USB_StopHost:0000000000000000 USB_StopHost
     /tmp/ccjl6mF2.s:6264   .text.USB_ActivateRemoteWakeup:0000000000000000 $t
     /tmp/ccjl6mF2.s:6271   .text.USB_ActivateRemoteWakeup:0000000000000000 USB_ActivateRemoteWakeup
ARM GAS  /tmp/ccjl6mF2.s 			page 150


     /tmp/ccjl6mF2.s:6328   .text.USB_DeActivateRemoteWakeup:0000000000000000 $t
     /tmp/ccjl6mF2.s:6335   .text.USB_DeActivateRemoteWakeup:0000000000000000 USB_DeActivateRemoteWakeup
     /tmp/ccjl6mF2.s:6384   .bss.tmpreg.8683:0000000000000000 $d
                           .group:0000000000000000 wm4.0.66eb26e6ef234a179f62cd8806fe3c00
                           .group:0000000000000000 wm4.stm32f4xx_hal_conf.h.24.03c00010d617045ebb35c82914a9515b
                           .group:0000000000000000 wm4.stm32f4xx.h.55.60c09cb5ab474e463c44285ed7739f1f
                           .group:0000000000000000 wm4.stm32f446xx.h.51.16a9122ede9860ebbb552c9e423d1ecd
                           .group:0000000000000000 wm4._newlib_version.h.4.875b979a44719054cd750d0952ad3fd6
                           .group:0000000000000000 wm4.features.h.33.318b64d71e0957639cfb30f1db1f7ec8
                           .group:0000000000000000 wm4._default_types.h.15.247e5cd201eca3442cbf5404108c4935
                           .group:0000000000000000 wm4._intsup.h.10.cce27fed8484c08a33f522034c30d2b5
                           .group:0000000000000000 wm4._stdint.h.10.c24fa3af3bc1706662bb5593a907e841
                           .group:0000000000000000 wm4.stdint.h.23.d53047a68f4a85177f80b422d52785ed
                           .group:0000000000000000 wm4.cmsis_version.h.32.4d5822004c01a829a975260e854b5f8e
                           .group:0000000000000000 wm4.core_cm4.h.66.e4ff136c4a17abc46741866f64f8e729
                           .group:0000000000000000 wm4.cmsis_gcc.h.26.f42444deefab66ffa141b9b9fddb57a3
                           .group:0000000000000000 wm4.core_cm4.h.174.059a5e001a9e729091d1407208e93224
                           .group:0000000000000000 wm4.mpu_armv7.h.32.27b4593cb2f8d3152ca5d97a9d72b321
                           .group:0000000000000000 wm4.stm32f446xx.h.934.08868cf5988b286c95ce57658833140b
                           .group:0000000000000000 wm4.stm32f4xx.h.212.729f0f890654645a3f47ccc0cc2b00e7
                           .group:0000000000000000 wm4.stm32_hal_legacy.h.23.24c1109a8eb6b9f423a3627922c83f30
                           .group:0000000000000000 wm4.stddef.h.39.a38874c8f8a57e66301090908ec2a69f
                           .group:0000000000000000 wm4.stm32f4xx_hal_def.h.58.2d2c85d5b9693a63e90566b806e8a752
                           .group:0000000000000000 wm4.stm32f4xx_hal_rcc_ex.h.22.ed8712e28628f6d35bd6f8847ee2f18f
                           .group:0000000000000000 wm4.stm32f4xx_hal_rcc.h.108.0c18a3cfc2dd91bdf92470b4bd0ea1b5
                           .group:0000000000000000 wm4.stm32f4xx_hal_exti.h.22.e3c6ea1ecbc30ac4867071b634937175
                           .group:0000000000000000 wm4.stm32f4xx_hal_gpio.h.22.be2c6bcf9722096ea8f49a41bf6aa50c
                           .group:0000000000000000 wm4.stm32f4xx_hal_gpio_ex.h.22.6858f59ca8a52c645189c74569e4d5b8
                           .group:0000000000000000 wm4.stm32f4xx_hal_gpio.h.264.978ac12eab1d3b3400b35b8c427e2c33
                           .group:0000000000000000 wm4.stm32f4xx_hal_dma.h.22.fffce20ac9119c50557659c75e75ab1c
                           .group:0000000000000000 wm4.stm32f4xx_hal_dma.h.721.a1e57ffbc615f926e6509c5acc65e492
                           .group:0000000000000000 wm4.stm32f4xx_hal_cortex.h.22.e6aa3b847b5388be63c32d1f9e696ef7
                           .group:0000000000000000 wm4.stm32f4xx_hal_flash.h.22.31b301be2655c3eb8583e51c8231544a
                           .group:0000000000000000 wm4.stm32f4xx_hal_flash_ex.h.22.df74a74dd40656a7fcd7d90cedd190b4
                           .group:0000000000000000 wm4.stm32f4xx_hal_flash.h.363.51efdf0f6c88f683efb89d7cc95cc1be
                           .group:0000000000000000 wm4.stm32f4xx_hal_pwr.h.22.2c27d93ae187efe3a73816f03a329970
                           .group:0000000000000000 wm4.stm32f4xx_hal_pwr_ex.h.22.cf49f655fb514fa1eda6a251fa1b2f1a
                           .group:0000000000000000 wm4.stm32f4xx_hal_pwr.h.337.60b43975c84527a23cb6994b23165a5e
                           .group:0000000000000000 wm4.stm32f4xx_hal_tim.h.22.9c16860ec2cc7f3d941608a8f521bc4a
                           .group:0000000000000000 wm4.stm32f4xx_hal_tim_ex.h.22.ab99a7fa30daa00d91e82a48801a7f30
                           .group:0000000000000000 wm4.stm32f4xx_hal_uart.h.22.1edfd0da9670bd23245390d2a3da576d
                           .group:0000000000000000 wm4.stm32f4xx_ll_usb.h.22.9dd425f23cc4ee09cc013b784f1d3b1a
                           .group:0000000000000000 wm4.stm32f4xx_hal_pcd.h.155.99d086aed65c9e0b877f5c367a6472c1
                           .group:0000000000000000 wm4.stm32f4xx_hal.h.72.a5a58188aa461a0614f1e58e159c7840

UNDEFINED SYMBOLS
HAL_Delay
